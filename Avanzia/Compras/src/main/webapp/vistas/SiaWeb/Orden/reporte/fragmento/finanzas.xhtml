<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                >
    <p:panel  >
        <h:selectOneRadio value="#{reporteBean.tipoRequisicion}" 
                            valueChangeListener="#{reporteBean.buscarRequicion}"
                             >            
            <f:selectItem itemLabel="Costos" itemValue="PS"/>
            <f:selectItem itemLabel="Contabilidad" itemValue="AF"/>
        </h:selectOneRadio>
        <p:commandLink value="#{msgs['sistema.buscar']}" action="#{reporteBean.traerRequisicionesFinanzas(event)}" 
                         styleClass="btn btn-sm btn-info"
			 style="float: right;"/>
    </p:panel>
    <br/>
    <p:commandLink id="btnLimpiar" value="#{msgs['orden.boton.limpiar']}" style="display: none" action="#{reporteBean.limiarLista(event)}" 
		   styleClass="btn btn-sm btn-info"/>

    <hr/>
    <p:dataTable size="small" stripedRows="true" showGridlines="true" id="dtConta" value="#{reporteBean.listaR}" var="data"
                   rows="10" styleClass="dataPaginatorDataTable" 
                   paginator="true"  
                   paginatorPosition="bottom" 
                   style="font-size: 1em; width: 80%" >
        <p:column headerText="#{msgs['orden.nombre.solicita']}">
            <h:outputText value="#{data.solicita}"/>
        </p:column>
        <p:column headerText="#{msgs['orden.consecutivo']}">
            <h:outputText value="#{data.consecutivo}"/>
        </p:column>
        <p:column headerText="#{msgs['requisicion.referencia']}">
            <h:outputText value="#{data.referencia}"/>
        </p:column>
        <p:column headerText="#{msgs['orden.fecha.solicita']}">
            <h:outputText value="#{data.fechaSolicitada}">
                <f:convertDateTime pattern="dd/MM/yyyy"/>
            </h:outputText>
        </p:column>
        <p:column headerText="#{msgs['orden.gerencia.nombre']}">
            <h:outputText value="#{data.gerencia}">
            </h:outputText>
        </p:column>
        <p:column headerText="#{msgs['orden.proyecto.ot']}">
            <h:outputText value="#{data.proyectoOT}">
            </h:outputText>
        </p:column>                        
    </p:dataTable>
    <p:dataExporter fileName="Finanzas" type="xls" target="dtConta" />
</ui:composition> 