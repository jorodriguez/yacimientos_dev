<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../../WEB-INF/facelets/templates/templatePrincipal.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="tituloPagina">        
        Test enviar mensaje whatsapp
    </ui:define>

    <ui:define name="contenido">
        <div class="card card-body">
            <div class="row">
                <div class="col-sm-12 col-md-8 col-lg-8 ">
                    <h:form id="frm-envio">

                        <div class="form-group">
                            <p:outputLabel for="telefono-input" styleClass="block">Whatsapp </p:outputLabel>                                 
                            <div class="ui-input-icon-left w-100 ">
                                <i class="pi pi-phone"  />
                                <p:inputMask  id="telefono-input"  
                                              value="#{testMensajeriaView.telefono}" 
                                              mask="9999999999"         
                                              placeholder="9999999999"
                                              required="true" 
                                              requiredMessage="TelÃ©fono requerido"/>
                                <p:message id="msg_telefono" for="telefono-input"  />
                            </div>              
                        </div>

                        <div class="form-group">                            
                            <div class=" w-100 ">                                
                                <p:inputTextarea  
                                    id="msg-input"                                                                                            
                                    value="#{testMensajeriaView.mensaje}" class="form-control" placeholder="Mensaje" 
                                    requiredMessage="Nombre requerido" />                                                                                         
                            </div>                                          
                        </div>


                        <div class="row">
                            <p:commandButton id="btn-enviar"
                                             value="Enviar"
                                             icon="pi pi-send"                                     
                                             actionListener="#{testMensajeriaView.enviar()}"
                                             onstart="PF('bui').show()"
                                             oncomplete="PF('bui').hide()"
                                             styleClass="mt-3 text-lg ui-button-success btn-lg btn-block"
                                             update="@form"
                                             >                                                                        
                            </p:commandButton>
                         
                        </div>    

                        <p:blockUI block="btn-enviar"      

                                   widgetVar="bui">
                            <i class="pi pi-spin pi-spinner"></i>
                        </p:blockUI>

                    </h:form>

                </div>        


            </div>
        </div>



    </ui:define>

</ui:composition>
