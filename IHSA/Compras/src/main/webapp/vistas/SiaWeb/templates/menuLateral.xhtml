<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"                    
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    
    <c:set var="classIconoMenu" value="text-ligth"/>
    <c:set var="iconoSubMenu" value="${iconoSubMenu}"/>
    <c:set var="bg-gradient-warning" value="bg-gradient-warning"/>
    
    <style>
        [class*=sidebar-light-] .sidebar a {
           /*color: #67748e;*/
           color: #8C96AB;           
        }      
        
        [class*=sidebar-light-] .sidebar a:hover {
           color: #fff !important;
           /*color: #8C96AB !important;           */
        }
        
        
        [class*=sidebar-light-] .nav-treeview>.nav-item>.nav-link {
           color: #e9ecef;
           font-size: .9em;           
        }
        
        [class*=sidebar-light-] .nav-treeview>.nav-item>.nav-link:hover {
           color: #fff;           
           font-size: .9em;           
        }
    </style>
        
    <li class="nav-item menu-open " style="color: #fff !important;">
        <a href="#" class="nav-link  pb-0 pb-0">
            <i class="fas fa-list-alt ${classIconoMenu}"></i>
            <h:outputLabel value="Requisiciones" class="ml-2 label-header"/>
            <i class="fas fa-angle-left right"></i>
        </a>
        <ul class="nav nav-treeview " >
            <li class="nav-item ">                        
                <p:commandLink  id="btnCrearReq"  class="nav-link pt-1 pb-1 d-flex justify-content-between "
                                action="/vistas/SiaWeb/Requisiciones/CrearRequisicion.xhtml?faces-redirect=true"
                                title="Clic aquí para solicitar requisiciones..."
                                onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');"
                                >
                    <span>
                            <i class="far ${iconoSubMenu} nav-icon"></i>Solicitar
                    </span>
                    <span class="badge bg-gradient-warning ">#{contarBean.mapaTotal.get('reqsinSolicitar')}</span>
                </p:commandLink>
            </li>
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Visto Bueno Costos')}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    action="/vistas/SiaWeb/Requisiciones/vistoBuenoCosto.xhtml?faces-redirect=true"
                                    title="Clic aquí para revisar las requisiciones . . ."
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');">
                        <span>
                            <span class="far ${iconoSubMenu} nav-icon"></span>Costos
                        </span>
                        <span class="badge bg-gradient-warning ">#{contarBean.mapaTotal.get('reqsinVistoBueno')}</span>
                    </p:commandLink>
                </li>
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1"
                                    action="/vistas/SiaWeb/admin/tarea/adminTarea.xhtml?faces-redirect=true"
                                    title="Clic aquí para administrar tarea . . .">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Admin. Tarea
                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Visto Bueno Contabilidad')}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    action="/vistas/SiaWeb/Requisiciones/vistoBuenoContabilidad.xhtml?faces-redirect=true"
                                    title="Clic aquí para revisar las requisiciones . . ."
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');">
                        <span>
                            <span class="far ${iconoSubMenu} nav-icon"></span>Contabilidad
                        </span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('reqsinVoBoConta')}</span>

                    </p:commandLink>
                </li>
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1"
                                    action="/vistas/SiaWeb/Sistema/activoFijo.xhtml?faces-redirect=true"
                                    title="Clic aquí para Gerencia Activo Fijo. . .">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Admin. Activo Fijo
                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('reqsinRevisar') gt 0}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1  d-flex justify-content-between"
                                    action="/vistas/SiaWeb/Requisiciones/RevisarRequisicion.xhtml?faces-redirect=true"
                                    title="Clic aquí para revisar requisiciones..."
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');">
                        <span>
                            <span class="far ${iconoSubMenu} nav-icon"></span>Revisar
                        </span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('reqsinRevisar')}</span>                        

                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('reqsinAprobar') gt 0}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    action="/vistas/SiaWeb/Requisiciones/AprobarRequisicion.xhtml?faces-redirect=true"
                                    title="Clic aquí para aprobar requisiciones..."
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');">
                        <span>
                            <span class="far ${iconoSubMenu} nav-icon"></span>Aprobar
                        </span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('reqsinAprobar')}</span>

                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('notaReqInv') gt 0}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    action="/vistas/SiaWeb/Requisiciones/NotasRequisicion.xhtml?faces-redirect=true"
                                    title="Clic aquí para ver y responder notas de las requisiciones..." 
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Notas</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('notaReqInv')}</span>
                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('reqsinAsignar') gt 0}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    action="/vistas/SiaWeb/Requisiciones/AsignarRequisicion.xhtml?faces-redirect=true" 
                                    title="Clic aquí para asignar requisiciones..."
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Asignar</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('reqsinAsignar')}</span>

                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('reqenEspera') gt 0}">
                <li class="nav-item">
                    <p:commandLink  action="/vistas/SiaWeb/Requisiciones/RequisicionEspera.xhtml?faces-redirect=true" 
                                    title="Clic aquí para ver requisiciones en espera..." class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');">
                        <span>
                            <span class="far ${iconoSubMenu} nav-icon"></span>En Espera
                        </span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('reqenEspera')}</span>
                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('reqenEsperaAdm') gt 0}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    action="/vistas/SiaWeb/Requisiciones/RequisicionEspera.xhtml?faces-redirect=true" 
                                    title="Clic aquí para ver requisiciones en espera..."
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>En Espera</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('reqenEsperaAdm')}</span>
                    </p:commandLink>
                </li>
            </ui:fragment>
            <li class="nav-item">
                <p:commandLink  class="nav-link pt-1 pb-1 "
                                action="/vistas/SiaWeb/Requisiciones/HistorialRequisicion.xhtml?faces-redirect=true"
                                title="Clic aquí para ver historial de las requisiciones..."
                                onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');">
                    <span class="far ${iconoSubMenu} nav-icon"></span>Historial

                </p:commandLink>
            </li>
        </ul>
    </li>
    <li class="nav-item menu-open">
        <a href="#" class="nav-link pt-1 pb-1">
            <i class="fas fa-shopping-cart ${classIconoMenu}"></i>
            <h:outputLabel value="Orden OC/S" class="ml-2 label-header"/>
            <i class="fas fa-angle-left right"></i>
        </a>
        <ul class="nav nav-treeview">
            <ui:fragment rendered="#{contarBean.mapaTotal.get('reqSinDisgregar') gt 0 }">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    action="/vistas/SiaWeb/Orden/RecepcionRequisicion.xhtml?faces-redirect=true"
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');"
                                    title="Clic aquí para generar ordenes de compras...">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Requisición</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('reqSinDisgregar')}</span>
                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('ocsSinSolicitar') gt 0}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    action="/vistas/SiaWeb/Orden/OrdenCompra.xhtml?faces-redirect=true"
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');"
                                    title="Clic aquí para solicitar ordenes de compras...">
                        <span> <span class="far ${iconoSubMenu} nav-icon"></span>Solicitar</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('ocsSinSolicitar')}</span>
                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('ocsSinAprobar') gt 0}">
                <li class="nav-item">
                    <p:commandLink class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                   action="/vistas/SiaWeb/Orden/AprobarOrdenCompra.xhtml?faces-redirect=true"
                                   onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');"
                                   title="Clic aquí para dar visto bueno a la orden de compra...">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Visto Bueno</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('ocsSinAprobar')}</span>

                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('ocsSinAutorizarMPG') gt 0}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');"
                                    action="/vistas/SiaWeb/Orden/AutorizacionMpg.xhtml?faces-redirect=true"
                                    title="Clic aquí para revisar orden de compra...">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Revisar</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('ocsSinAutorizarMPG')}</span>

                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('ocsSinAutorizaFinanzas') gt 0}">
                <li class="nav-item">
                    <p:commandLink class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                   onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');"
                                   action="/vistas/SiaWeb/Orden/autorizaFinanza.xhtml?faces-redirect=true"
                                   title="Clic aquí para aprobar la orden de compra...">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Aprobar</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('ocsSinAutorizaFinanzas')}</span>

                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('ocsSinAutorizarIHSA') gt 0 }">
                <li class="nav-item"> 
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');"
                                    action="/vistas/SiaWeb/Orden/AutorizacionIhsa.xhtml?faces-redirect=true"
                                    title="Clic aquí para aprobar orden de compra...">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Aprobar</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('ocsSinAutorizarIHSA')}</span>

                    </p:commandLink>
                </li>
            </ui:fragment>

            <ui:fragment rendered="#{contarBean.mapaTotal.get('ocsSinAutorizaSocio') gt 0}">
                <li style="display: #{usuarioBean.mapaRoles.get('Socio') ? 'bloque' : 'none'}" >
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');"
                                    action="/vistas/SiaWeb/Orden/AutorizaSocio.xhtml?faces-redirect=true"
                                    title="Clic aquí para aprobar la orden de compra...">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Aprobar</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('ocsSinAutorizaSocio')}</span>

                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('ocsSinAutorizaCompras') gt 0}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');"
                                    action="/vistas/SiaWeb/Orden/AutorizaCompras.xhtml?faces-redirect=true"
                                    title="Clic aquí para autorizar orden de compra...">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Autorizar</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('ocsSinAutorizaCompras')}</span>

                    </p:commandLink>
                </li>
            </ui:fragment>

            <ui:fragment rendered="#{contarBean.mapaTotal.get('ocsSinAutoComprasLicita') gt 0}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');"
                                    action="/vistas/SiaWeb/Orden/AutorizaLicitacion.xhtml?faces-redirect=true"
                                    title="Clic aquí para autorizar compra de SM...">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Autorizar SM</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('ocsSinAutoComprasLicita')}</span>

                    </p:commandLink>
                </li>
            </ui:fragment>

            <ui:fragment rendered="#{contarBean.mapaTotal.get('ocsSinAautoComprasTarea') gt 0}">
                <li class="nav-item">
                    <p:commandLink class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                   onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');"
                                   action="/vistas/SiaWeb/Orden/AutorizaTarea.xhtml?faces-redirect=true"
                                   title="Clic aquí para enviar orden...">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Enviar PDF</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('ocsSinAautoComprasTarea')}</span>

                    </p:commandLink>
                </li>
            </ui:fragment>

            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Comprador') or usuarioBean.mapaRoles.get('Recepción de oc/s')}">
                <li class="nav-item">    
                    <p:commandLink   class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                     action="/vistas/SiaWeb/Orden/recepcionOrden.xhtml?faces-redirect=true"
                                     title="Clic aquí para recibir ordenes de compra..." >
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Recepción oc/s</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('ocsSinRecibir')}</span>

                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Revisores REPSE')}">
                <li class="nav-item">    
                    <p:commandLink  action="/vistas/SiaWeb/Orden/repse/revisarRepse.xhtml?faces-redirect=true"
                                    title="Clic aquí para revisar archivos REPSE..." class="nav-link pt-1 pb-1 d-flex justify-content-between">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>REPSE</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('totalPorRevREPSE')}</span>
                    </p:commandLink>
                </li>        
            </ui:fragment>
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('REPSE Reporte')}">
                <li class="nav-item">   
                    <p:commandLink  action="/vistas/SiaWeb/Orden/repse/reporteREPSE.xhtml?faces-redirect=true"
                                    title="Clic aquí para revisar reporte REPSE..." class="nav-link pt-1 pb-1">      
                        <span class="far ${iconoSubMenu} nav-icon"></span>REPSE Reporte                 
                    </p:commandLink>
                </li>        
            </ui:fragment>
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Revisa Contenido Nacional')}">
                <li class="nav-item">  
                    <p:commandLink  action="/vistas/SiaWeb/Orden/factura/recepcionFactura.xhtml?faces-redirect=true"
                                    title="Clic aquí para recibir facturas de compra..." class="nav-link pt-1 pb-1 d-flex justify-content-between" >
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Facturas / CN</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('totalFacSinProc')}</span>
                    </p:commandLink>
                </li>
                <li class="nav-item">
                    <p:commandLink  
                        action="/vistas/SiaWeb/Sistema/reporte/panelContenido.xhtml?faces-redirect=true"
                        title="Clic aquí para ver reporte de contenido nacional . . . " class="nav-link pt-1 pb-1 ">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Reporte CN

                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Enviar Facturas CNH')}">
                <li class="nav-item">  
                    <p:commandLink  action="/vistas/SiaWeb/Orden/factura/enviarFactura.xhtml?faces-redirect=true"
                                    title="Clic aquí para enviar las facturas a CNH..." class="nav-link pt-1 pb-1 d-flex justify-content-between">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Enviar Facturas CNH</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('totalFacSinEnviar')}</span>
                    </p:commandLink>
                </li>        
            </ui:fragment>
            <ui:fragment rendered="#{contarBean.mapaTotal.get('notasInvitado') gt 0}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                    action="/vistas/SiaWeb/Orden/NotasOrden.xhtml?faces-redirect=true"
                                    title="Clic aquí para ver y responder a notas de las OC/S ...">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Nota(s)</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('notasInvitado')}</span>

                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Comprador')}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1 "
                                    action="/vistas/SiaWeb/Orden/solicitarProveedor.xhtml?faces-redirect=true"
                                    title="Clic aquí solicitar registro de proveedor...">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Solicitar Proveedor

                    </p:commandLink>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Integra OC/S SIA-NAVISION')}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1"
                                    action="/vistas/SiaWeb/Orden/integraSIANAVISION.xhtml?faces-redirect=true"
                                    title="Clic aquí para integrar la SIA-NAVISION . . . ">
                        <span class="far ${iconoSubMenu} nav-icon"></span>SIA-NAVISION

                    </p:commandLink>
                </li>
            </ui:fragment>
            <li class="nav-item"> 
                <p:commandLink  class="nav-link pt-1 pb-1"
                                action="/vistas/SiaWeb/Orden/HistorialOrden.xhtml?faces-redirect=true"
                                title="Clic aquí para ver el historial de las ordenes...">
                    <span class="far ${iconoSubMenu} nav-icon"></span>Historial

                </p:commandLink>
            </li>
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Consulta reporte compras')}">
                <li class="nav-item">
                    <p:commandLink   class="nav-link pt-1 pb-1"
                                     action="/vistas/SiaWeb/Orden/reporte/reporte.xhtml?faces-redirect=true"
                                     title="Clic aquí para generar el reporte de compradores . . . ">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Reporte
                    </p:commandLink>
                </li>       
            </ui:fragment>
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Reportes BI')}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1"
                                    action="/vistas/SiaWeb/Orden/reporte/reporteBI.xhtml?faces-redirect=true"
                                    title="Clic aquí para generar el reporte de compradores . . . ">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Reporte BI

                    </p:commandLink>
                </li>       
            </ui:fragment>
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Consulta formatos entrada')}">
                <li class="nav-item"> 
                    <p:commandLink   action="/vistas/SiaWeb/Orden/almacen/formatosEntrada.xhtml?faces-redirect=true"
                                     title="Clic aquí para consultar los formatos de entrada en el almacén ..." class="nav-link pt-1 pb-1">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Formatos Entrada
                    </p:commandLink>
                </li>
            </ui:fragment>
        </ul>
    </li>
    <li class="nav-item menu-open">
        <a href="#" class="nav-link pt-1 pb-1">
            <i class="fas fa-file-invoice-dollar ${classIconoMenu}"></i>
            <h:outputLabel value="Facturas" class="ml-2 label-header"/>
            <i class="fas fa-angle-left right"></i>
        </a>
        <ul class="nav nav-treeview">
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Revisa Contenido Nacional')
                                     or usuarioBean.mapaRoles.get('Rep. Contenido Nacional')}">
                <li class="nav-item">     
                    <p:commandLink   action="/vistas/SiaWeb/Orden/factura/recepcionFactura.xhtml?faces-redirect=true"
                                     title="Clic aquí para recibir facturas de compra..." class="nav-link pt-1 pb-1 d-flex justify-content-between">
                        <span><span class="far ${iconoSubMenu} nav-icon"></span>Facturas / CN</span>
                        <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('totalFacSinProc')}</span>
                    </p:commandLink>
                </li>
                <li class="nav-item">
                    <p:commandLink   action="/vistas/SiaWeb/factura/devolverFactura.xhtml?faces-redirect=true"
                                     title="Clic aquí para devolver facturas ..." class="nav-link pt-1 pb-1 ">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Devolver
                    </p:commandLink>
                </li>        
            </ui:fragment>
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Rep. Contenido Nacional')}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1"
                                    action="/vistas/SiaWeb/Sistema/reporte/panelContenido.xhtml?faces-redirect=true"
                                    title="Clic aquí para ver reporte de contenido nacional . . . " >
                        <span class="far ${iconoSubMenu} nav-icon"></span>Reporte CN

                    </p:commandLink>
                </li>
            </ui:fragment>

            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Revisa Contenido Nacional')
                                     or usuarioBean.mapaRoles.get('Historial facturas')}">        
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1"
                                    action="/vistas/SiaWeb/factura/historiarFacturas.xhtml?faces-redirect=true"
                                    title="Clic aquí para aceptar o rechazar la factura . . . ">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Procesar
                    </p:commandLink>
                </li>
            </ui:fragment>

            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Comprobante Pago')}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1"
                                    action="/vistas/SiaWeb/factura/comprobantePago.xhtml?faces-redirect=true"
                                    title="Clic aquí para cargar el comprobante de pago . . . ">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Comprobante Pago
                    </p:commandLink>
                </li>
            </ui:fragment>

            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Consultar facturas')}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1"
                                    action="/vistas/SiaWeb/factura/consultaFactura.xhtml?faces-redirect=true"
                                    title="Clic aquí para consultar facturas . . . ">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Consultar
                    </p:commandLink>
                </li>
            </ui:fragment>

            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Exportar Facturas')}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1"
                                    action="/vistas/SiaWeb/factura/exportarFacturas.xhtml?faces-redirect=true"
                                    title="Clic aquí para exportar facturas . . . ">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Exportar Facturas
                    </p:commandLink>
                </li>
            </ui:fragment>
        </ul>
    </li>

    <li class="nav-item menu-open">
        <a href="#" class="nav-link pt-1 pb-1" >
            <i class="fas fa-envelope-open-text ${classIconoMenu}"></i>
            <h:outputLabel value="Evaluaciones" class="ml-2 label-header"/>     
            <i class="fas fa-angle-left right"></i>
        </a>
        <ul class="nav nav-treeview">
            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Historial Evaluaciones') or usuarioBean.mapaRoles.get('Evaluador')}">
                <ui:fragment rendered="#{contarBean.mapaTotal.get('totalEvaluaciones') gt 0 and usuarioBean.mapaRoles.get('Evaluador')}">
                    <li class="nav-item"> 
                        <p:commandLink  class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                        onclick="regresar('divTabla', 'divDatos', 'divOperacion', 'divAutoriza');"
                                        action="/vistas/SiaWeb/evaluaciones/EvaluacionProveedor.xhtml?faces-redirect=true"
                                        title="Clic aquí para contestar evaluaciones...">
                            <span><span class="far ${iconoSubMenu} nav-icon"></span>Evaluaciones</span>
                            <span class="badge bg-gradient-warning">#{contarBean.mapaTotal.get('totalEvaluaciones')}</span>

                        </p:commandLink>

                    </li>
                </ui:fragment>

                <ui:fragment rendered="#{contarBean.mapaTotal.get('totalHistEvaluaciones') gt 0 and usuarioBean.mapaRoles.get('Historial Evaluaciones')}">
                    <li class="nav-item"> 
                        <p:commandLink  action="/vistas/SiaWeb/evaluaciones/HistEvaluaciones.xhtml?faces-redirect=true"
                                        title="Clic aquí para consultar evaluaciones..." class="nav-link pt-1 pb-1">   
                            <span class="far ${iconoSubMenu} nav-icon"></span>Hist. Evaluaciones                     

                        </p:commandLink>
                    </li>
                </ui:fragment>

            </ui:fragment>

            <ui:fragment rendered="#{usuarioBean.mapaRoles.get('Consulta Reporte Gastos')}">
                <li class="nav-item">
                    <p:commandLink  class="nav-link pt-1 pb-1"
                                    action="/vistas/SiaWeb/Sistema/reporte/panelContabilidad.xhtml?faces-redirect=true"
                                    title="Clic aquí para ver reporte de compras . . . ">
                        <span class="far ${iconoSubMenu} nav-icon"></span>Compras
                    </p:commandLink>
                </li>
            </ui:fragment>
        </ul>
    </li>
    <!-- style="background-color:#A9AEB2 "-->
    
    <li class="nav-item menu-open  " >
        <a href="#" class="nav-link pt-1 pb-1">
            <i class="fas fa-user-clock ${classIconoMenu}"></i>
            <h:outputLabel value="Otros bloques"   class="ml-2 label-header"/>
            <i class="fas fa-angle-left right"></i>
        </a>
        <ul class="nav nav-treeview">
            <ui:repeat value="#{contarBean.listaModulo}" var="entry">
                <li class="nav-item menu-open">
                    <a href="#" class="nav-link pt-1 pb-1">
                        <i class="nav-icon fas fa-arrow-right ${classIconoMenu}"></i>
                        <h:outputLabel value="#{entry.campo}" class="label-header"/>
                        <i class="fas fa-angle-left right"></i>
                    </a>
                    <ul class="nav nav-treeview">
                        <ui:repeat value="#{entry.listaOpcion.entrySet().toArray()}" var="modulo">
                            <li class="nav-item menu-open">
                                <a href="#" class="nav-link pt-1 pb-1">
                                    <i class="nav-icon fas ${iconoSubMenu}"></i>
                                    <h:outputText value="#{modulo.key}"/>
                                    <i class="fas fa-angle-left right"></i>
                                </a>
                                <ul class="nav nav-treeview menu-open">
                                    <ui:repeat value="#{entry.listaOpcion.get(modulo.key)}" var="opc">
                                        <li class="nav-item">
                                            <p:commandLink class="nav-link pt-1 pb-1 d-flex justify-content-between"
                                                           title="#{opc.nombre}"                                                                
                                                           action="#{usuarioBean.cambiarPaginaPendiente(opc.pagina, entry.idCampo)}">                                                      
                                                    <i class="fa ${iconoSubMenu} sm" /> 
                                                #{opc.nombre}
                                                <span class="badge bg-gradient-warning" >#{opc.total}</span>
                                            </p:commandLink>
                                        </li>
                                    </ui:repeat>
                                </ul>
                            </li>
                        </ui:repeat>
                    </ul>
                </li>
            </ui:repeat>    
        </ul>
    </li>    
    
    <span id="end-of-menu"/>
    <script type="text/javascript">
       const scrollToEnd = () => window.scrollTo(0, $('#end-of-menu').scrollHeight);
       const scrollSmoothToBottom = (id) => {           
                    const element = $(`#${id}`);
                    element.animate({
                                scrollTop: element.prop("scrollHeight")
                            }, 500);
                    }
    </script>
    
    <style>
        .menu-open{
         max-height: -webkit-min-content !important;
  max-height: -moz-min-content !important;
  max-height: min-content !important;
  -webkit-animation-name: fadeIn !important;
  animation-name: fadeIn !important;
  -webkit-animation-duration: 0.3s!important;
  animation-duration: 0.3s !important;
  -webkit-animation-fill-mode: both !important;
  animation-fill-mode: both !important;
        }
    </style>
</ui:composition>

