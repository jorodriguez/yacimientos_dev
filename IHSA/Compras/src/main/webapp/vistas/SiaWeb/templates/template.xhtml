<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
              name="viewport" />

        <!-- Font Awesome -->
        <link rel="stylesheet" href="/resources/css/all.min.css" />
        <!-- Theme style -->
        <link rel="stylesheet" href="/resources/css/adminlte.min.css" />
        <!-- overlayScrollbars -->
        <link rel="stylesheet" href="/resources/css/OverlayScrollbars.min.css"/>
        <!-- general -->
        <link rel="stylesheet" href="/resources/css/general.css" />
        

        <!-- Google Font -->
        <link rel="stylesheet"
              href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic"></link>

        <noscript>
            <p>Su navegador no soporta javaScript</p>
        </noscript>
        <title>Sistema Integral de Administración</title>
        <style type="text/css">
            .ui-datepicker {
                z-index: 1000004 !important;
            }
            .ui-dialog{
                z-index: 100000044 !important;
            }

            .filaConSombra{
                background-color: #EEE !important;
            }

            .filaSinSombra{
                background-color: #f8f8f8 !important;
            }
            .ui-selectonemenu-panel {
                z-index: 100000033 !important;
            }
            .ui-autocomplete-panel {
                z-index: 100000033 !important;
            }
            .ui-datatable-header{
                padding: 5px  !important;
            }
            
            /*quitar underline de <a/> link dejar el del css de bootstrap*/
            a {
                text-decoration: none !important; 
            }
            a:link {
                text-decoration: none !important; 
            }
            a:visited{
                text-decoration: none !important; 
            }
            a:hover{
                text-decoration: none !important; 
            }
            a:active{
                text-decoration: none !important; 
            }
            /* agregar bold text a las columnas de un datatable cuando son visibles en un télefono */
            .ui-column-title{
                    font-weight: bold !important;
            }
            
            
        </style>
    </h:head>
    <h:body id="body" class="hold-transition  sidebar-mini layout-fixed">
        <div class="wrapper">
            <!--f:loadBundle basename="messages" var="msg" /-->
            <c:if test="#{not empty usuarioBean.usuarioConectado}">
                <p:ajaxStatus onstart="PF('statusDialog').show()" 
                              delay="300"
                              onsuccess="PF('statusDialog').hide()" />

                <p:dialog id="dlgProcesando" widgetVar="statusDialog" modal="true" draggable="false"  
                          appendTo="body"
                          closable="false" resizable="false" showHeader="false" style="z-index: 100000045; opacity: 0.8 !important;"
                           >
                    <img  src="/resources/img/loader.svg"  width="140px"  alt="Procesando . . . "  />
                </p:dialog>
                <!-- Navbar -->
                <nav class="main-header navbar navbar-expand " style="background-color: #3CA0CC !important;">                  
                    <ul class="navbar-nav  d-xl-none d-lg-none">
                        <li class="nav-item">
                            <a class="nav-link text-white " data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
                        </li>
                    </ul>
                    <!-- Right navbar links -->
                    <h:form class="navbar-nav ml-auto">
                        <ul class="navbar-nav ml-auto">
                            <ui:include src="fragmentos/barraSuperior.xhtml"/>
                        </ul>
                    </h:form>
                </nav>
                <!-- Main Sidebar Container sidebar-light-dark sidebar-light-dark -->
                <aside class="main-sidebar sidebar-light-dark text-white bg-menu-lateral  elevation-1 ">
                    <!-- Brand Logo -->
                    <div class="col-10 d-flex justify-content-center" >
                    <img src="/Compras/MostraImagen?ZWZ2W=#{usuarioBean.compania.rfc}" 
                         style="width: 97px; height: 40px;" alt="SIA"  />                        
                    </div>
                    
                    <!-- Sidebar -->
                    <!---->
                    <div class="sidebar">
                        <div class="user-panel">                                                                            
                            <div class="media d-flex justify-content-start ">
                                <p:avatar label="#{usuarioBean.usuarioConectado.nombre}"                                                                                                                                            
                                          styleClass="ml-2  bg-info w-80 h-80 border-radius d-flex justify-content-top align-items-center align-self-center align-content-center"                                              
                                          />
                                <div class="media-body mt-3 ml-1 mb-3 mr-1">
                                    <p class="m-0 p-0 ">#{usuarioBean.usuarioConectado.nombre}</p>
                                    <span class="text-xs">#{usuarioBean.puesto}</span>
                                </div>
                            </div>
                            <!--<ui:include src="datosUsuario.xhtml"/>-->                            
                        </div>
                        
                        <!-- SidebarSearch Form -->
                        <h:form id="frmBuscar">
                            <div class="container mt-2 ">
                                <div class="input-group d-flex justify-content-center" data-widget="sidebar-search">
                                    <p:selectOneRadio  value="#{usuarioBean.seleccion}" styleClass="custom-form radios-busqueda"                                                                                                               
                                                       >
                                        <f:selectItem itemLabel="Req." itemValue="REQUISICIÓN."  />
                                        <f:selectItem itemLabel="OC/S" itemValue="OCS" />
                                    </p:selectOneRadio>
                                    <div class="input-group mt-1">
                                        <p:inputText id="inpCodigo"  value="#{usuarioBean.codigo}" class="form-control"
                                                     placeholder="22-0001" />
                                        <p:commandLink id="btnBuscar" class="btn btn-sidebar"
                                                       title="Buscar"
                                                       action="#{usuarioBean.buscarElemento()}"
                                                       process="@this frmBuscar frmBuscar:inpCodigo" update="@form">
                                            <span class="fa fa-search" style="font-weight: bold; color: #303030; "></span>
                                        </p:commandLink>
                                    </div>
                                </div>
                                <div class="input-group-append d-flex justify-content-end">                                    
                                    <p:commandLink styleClass="text-xs p-2" action="/vistas/SiaWeb/Orden/buscarAvanzada.xhtml?faces-redirect=true"                                                    
                                                    ajax="false" >                                            
                                            <span>Hacer una busqueda avanzada</span>
                                            <span class="fa fa-arrow-right text-secondary shadow" style="font-weight: bold; color: #303030; "></span>
                                    </p:commandLink>
                                </div>
                            </div>
                        </h:form>

                        <!-- Sidebar Menu -->
                        <nav >
                            <li class="nav-link p-0  ">
                                <h5 style="cursor: pointer; font-weight: bold;" 
                                    onclick="$(modalBloqueActivo).modal('show');">
                                    <i class="fa fa-"/> #{usuarioBean.usuarioConectado.apCampo.nombre}</h5>                                    
                            </li>
                            <ul class="nav nav-pills nav-sidebar flex-column"  data-widget="treeview" role="menu" data-accordion="false">
                                <h:form id="frmMenu"  class="nav-item">
                                    <p:growl id="growl-sticky" for="sticky-key" showDetail="true" sticky="true" />
                                    <ui:include src="menuLateral.xhtml" />
                                </h:form>
                            </ul>
                        </nav>
                    </div>
                    <!-- /.sidebar -->
                </aside>
                <!-- Content Wrapper. Contains page content -->
                <div class="content-wrapper">
                    <!-- Main content -->
                    <section class="content">
                        <!-- style="text-align: center; font-weight: bold; color: #213c76"-->
                        <h4 class="text-center pt-2  font-weight-bold " style="color: #2B416F" >    
                            <ui:insert name="tituloPagina"/>
                        </h4>
                        <div  class="row">
                            <p:messages id="messages" showDetail="false" closable="true" 
                                        class="col-12">
                                <p:autoUpdate />
                            </p:messages>
                        </div>
                        <div id="divMensajeError" class="row alert alert-danger" style="display: none;">
                            <h:outputText id="mensajeError"/>
                            Por favor pongase en contacto con el equipo de desarrollo al correo soportesia@ihsa.mx
                        </div>
                        <div  class="col-12 ">
                            <ui:insert name="contenido"/>                    
                        </div>
                    </section>
                </div>
                
                <!-- /.content-wrapper -->
                <ui:include src="pie.xhtml"/>
        
                <!-- Control Sidebar -->
                <aside class="control-sidebar control-sidebar-dark">
                    <!-- Control sidebar content goes here -->
                </aside>

                <ui:include src="../../SiaWeb/templates/fragmentos/popCambiarBloque.xhtml"/>
            </c:if>
            <c:if test="#{empty usuarioBean.usuarioConectado}">
                <ui:include src="/login.xhtml"/>
            </c:if>
            <!--ui:include src="sessionTimeOut.xhtml" /-->
        </div>

        <!-- jQuery -->
        <script src="/resources/js/jquery.min.js"></script>
        <!-- jQuery UI 1.11.4 -->
        <script>
                                        $.noConflict(true);
                                        // Code that uses other library's $ can follow here.
        </script>
        <script src="/resources/js/jquery-ui.min.js" type="text/javascript"></script>
        <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
        <script>
                                        $.widget.bridge('uibutton', $.ui.button)
        </script>
        <!-- Bootstrap 4 -->
        <script src="/resources/js/bootstrap.bundle.min.js" type="text/javascript"></script>
        <!-- overlayScrollbars -->
        <script src="/resources/js/jquery.overlayScrollbars.min.js" type="text/javascript"></script>
        <!-- AdminLTE App -->
        <script src="/resources/js/adminlte.js" type="text/javascript"></script>
        <!--Grafica-->
        <script src="#{request.contextPath}/recursos/js/highcharts.js" type="text/javascript"></script>
        <script src="#{request.contextPath}/recursos/js/exporting.js" type="text/javascript"></script>
        <script src="#{request.contextPath}/recursos/js/validaFormaROCS.js" type="text/javascript"></script>
        <!-- bootbox -->
        <script type="text/javascript" src="#{request.contextPath}/recursos/js/bootbox.js"></script>
    </h:body>
</html>