<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
              name="viewport" />

        <!-- Font Awesome -->
        <link rel="stylesheet" href="/resources/css/all.min.css" />
        <!-- Theme style -->
        <link rel="stylesheet" href="/resources/css/adminlte.min.css" />
        <!-- overlayScrollbars -->
        <link rel="stylesheet" href="/resources/css/OverlayScrollbars.min.css"/>

        <!-- Google Font -->
        <link rel="stylesheet"
              href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic"></link>

        <noscript>
            <p>Su navegador no soporta javaScript</p>
        </noscript>
        <title>Sistema Integral de Administración</title>
        <style type="text/css">
            .ui-datepicker{
                z-index: 1000006;
            }
        </style>
    </h:head>
    <h:body  class="hold-transition sidebar-mini layout-fixed">
        <div class="wrapper">
            <!--f:loadBundle basename="messages" var="msg" /-->
            <c:if test="#{not empty usuarioBean.usuarioConectado}">

                <p:ajaxStatus onstart="PF('statusDialog').show()"
                              onsuccess="PF('statusDialog').hide()" />

                <p:dialog widgetVar="statusDialog" modal="true" draggable="false"
                          closable="false" resizable="false" showHeader="false">
                    <p:graphicImage name="/resources/img/wait.gif" width="550px" />
                </p:dialog>
                <!-- Navbar -->
                <nav class="main-header navbar navbar-expand navbar-white navbar-light">
                    <!-- Left navbar links -->
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" data-widget="pushmenu" href="#" role="button">
                                <i class="fas fa-bars"></i></a>
                        </li>
                    </ul>
                    <!-- Right navbar links -->
                    <h:form class="navbar-nav ml-auto">
                        <ul class="navbar-nav ml-auto">
                            <ui:include src="fragmentos/barraSuperior.xhtml"/>
                        </ul>
                    </h:form>
                </nav>
                <!-- Main Sidebar Container -->
                <aside class="main-sidebar sidebar-light-primary elevation-4">
                    <!-- Brand Logo -->
                    <img src="/resources/img/logo.png" alt="SIA" 
                         class="brand-image img-circle elevation-3" style="opacity: .8"/>
                    <span class="brand-text font-weight-light">SIA</span>
                    <!-- Sidebar -->
                    <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                        <div class="image">
                            <span class="fa fa-user img-circle elevation-2"/>                                     
                        </div>
                        <div class="info">
                            <ui:include src="datosUsuario.xhtml"/>
                        </div>
                    </div>
                    <!-- SidebarSearch Form -->
                    <div class="container-fluid">
                        <div class="input-group" data-widget="sidebar-search">
                            <p:selectOneRadio  value="#{estiloBean.seleccion}" styleClass="custom-form" 
                                               >
                                <f:selectItem itemLabel="Req." itemValue="REQUISICIÓN."/>
                                <f:selectItem itemLabel="OC/S" itemValue="OCS"/>
                            </p:selectOneRadio>
                            <div class="input-group">
                                <h:inputText  value="#{estiloBean.codigo}" class="form-control"/>
                                <p:commandLink id="btnBuscar" styleClass="btn btn-default"
                                               title="Buscar"
                                               action="#{estiloBean.buscarElemento()}">
                                    <span class="fa fa-search" style="font-weight: bold; color: #303030; "></span>
                                </p:commandLink>
                            </div>
                        </div>
                        <p:commandLink  action="/vistas/SiaWeb/Orden/buscarAvanzada.xhtml?faces-redirect=true" 
                                        actionListener="#{buscarBean.limpiarValor}">
                            Busqueda avanzada
                        </p:commandLink>
                    </div>

                    <!-- Sidebar Menu -->
                    <nav class="mt-2">
                        <li class="nav-link">
                            <h4 style="color: #337ab7; cursor: pointer; font-weight: bold;" 
                                onclick="$(modalBloqueActivo).modal('show');">
                                #{usuarioBean.usuarioConectado.apCampo.nombre}</h4>
                        </li>
                        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                            <ui:include src="menuLateral.xhtml" />
                        </ul>
                    </nav>
                </aside>
                <!-- Content Wrapper. Contains page content -->
                <div class="content-wrapper">
                    <!-- Main content -->
                    <section class="content">
                        <div id="titulo" class="font-weight-bold text-large" >
                            <ui:insert name="tituloPagina"> 
                                Título
                            </ui:insert>
                        </div>
                        <div  class="row">
                            <h:message id="msgGeneral"  for="" style="display: block;" infoClass="alert alert-success" warnClass="alert alert-warning"
                                        errorClass="alert alert-danger" fatalClass="alert alert-danger"  />
                        </div>
                        <div id="divMensajeError" class="row alert alert-danger" style="display: none;">
                            <h:outputText id="mensajeError"/>
                            Por favor pongase en contacto con el equipo de desarrollo al correo soportesia@ihsa.mx
                        </div>

                        <ui:insert name="contenido"/>                    
                    </section>
                    <div id="areaBlock" style="display: none;position: fixed;top: 0;left: 0;z-index: 250006;width: 100%;height: 100%;
                         background: #dddddd;opacity: 0.6;">
                        <div style="position:absolute;top:50%;left: 50%;">
                            <img  src="/resources/img/wait.gif" alt="Procesando"/><br/>
                            <font style="font-weight: bold; font-style: italic; font-size: 11px;">Procesando . . .</font>
                        </div>                            
                    </div> 
                </div>
                <!-- /.content-wrapper -->
                <footer class="main-footer">


                    <div class="pull-right hidden-xs">
                        <b>Version</b> 1.0
                    </div>
                    <strong>Copyright &#xA9; 2020 <a
                            href="http://www.kubicsoft.com" target="_blank"
                            rel="noopener noreferrer">KubicSoft, S. A. de C. V.</a>
                    </strong> All rights reserved.
                </footer>

                <!-- Control Sidebar -->
                <aside class="control-sidebar control-sidebar-dark">
                    <!-- Control sidebar content goes here -->
                </aside>

                <ui:include src="../../SiaWeb/templates/fragmentos/popCambiarBloque.xhtml"/>
            </c:if>
            <c:if test="#{empty usuarioBean.usuarioConectado}">
                <ui:include src="/login.xhtml"/>
            </c:if>
            <!--ui:include src="sessionTimeOut.xhtml" /-->
        </div>

        <!-- jQuery -->
        <script src="/resources/js/jquery.min.js"></script>
        <!-- jQuery UI 1.11.4 -->
        <script>
                                    $.noConflict(true);
                                    // Code that uses other library's $ can follow here.
        </script>
        <script src="/resources/js/jquery-ui.min.js"></script>
        <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
        <script>
                                    $.widget.bridge('uibutton', $.ui.button)
        </script>
        <!-- Bootstrap 4 -->
        <script src="/resources/js/bootstrap.bundle.min.js"></script>
        <!-- overlayScrollbars -->
        <script src="/resources/js/jquery.overlayScrollbars.min.js"></script>
        <!-- AdminLTE App -->
        <script src="/resources/js/adminlte.js"></script>
        <!--Grafica-->
        <script src="/resources/js/highcharts.js"></script>
        <script src="/resources/js/exporting.js"></script>
        <script src="/resources/js/validaFormaROCS.js"></script>
        <!-- bootbox -->
        <script type="text/javascript" src="/resources/js/bootbox.js"></script>
    </h:body>
</html>