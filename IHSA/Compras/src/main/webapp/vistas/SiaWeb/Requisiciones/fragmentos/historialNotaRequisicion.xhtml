<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                >  
    <h:dataTable  value="#{requisicionBean.historialNotas}" style="padding-left: 15%" styleClass="textoIzquierda" 
                  var="data" width="80%" cellpadding="0"  >
        <p:column> 
            <h:panelGroup styleClass="bordePanelGrid" style="padding-bottom: 5px;">
                <p:panel  > 
                    <p:graphicImage url="/sia/resources/img/logo.png" width="35" height="30" 
                                      style="text-align: right;"/>
                    <p:panel >
                        <p:panel >
                            <h:outputLabel styleClass="fNegrita12" value="#{data['usuarioNombre']}"/>
                            <h:outputText styleClass="f11gris" value=" - "/>  
                            <h:outputText styleClass="f11gris" value="#{data['fechaGenero']}">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputText>
                            <h:outputText styleClass="f11gris" value=" - "/>  
                            <h:outputText styleClass="f11gris" value="#{data['horaGenero']}">
                                <f:convertDateTime pattern="h:mm a" timeStyle="default" type="time"/>
                            </h:outputText>
                        </p:panel>
                        <h:panelGrid   >
                            <h:outputLabel  value="#{data['titulo']}" styleClass="f12Negrita"/>                            
                        </h:panelGrid>
                        <h:outputText style=" text-align: justify; font-size: 1.0em; padding-left: 4px;" value="#{data['mensajeAutomatico']}"/>                                                
                        <p:accordionPanel  >
                            <p:tab title="Archivo(s)" rendered="#{(data['adjuntosCount'] gt 0)}">
                                <h:dataTable id="adjuntos" value="#{data.listaAdjunto}"
                                             var="arch"> 
                                    <p:column style="width: 1%">
                                        <h:outputLink target="_blank"  value="/Compras/AbrirArchivo?ZWZ2W=#{arch['id']}&amp;ZWZ3W=#{arch['uuid']}">
                                            <i class="fa fa-file"/>
                                        </h:outputLink>
                                    </p:column>
                                    <p:column >      
                                        <h:outputLink target="_blank"  value="/Compras/AbrirArchivo?ZWZ2W=#{arch['id']}&amp;ZWZ3W=#{arch['uuid']}">
                                            <h:outputText value="#{arch['nombre']}" styleClass="btn btn-default"/>
                                        </h:outputLink>
                                    </p:column>                                    
                                </h:dataTable>
                            </p:tab>
                            <p:tab title="Respuesta(s)" rendered="#{not empty data.listaComentario}">
                                <h:dataTable value="#{data.listaComentario}" var="comentario" style="padding-left: 1%;">
                                    <p:column >
                                        <p:panel  >
                                            <p:graphicImage url="/sia/resources/img/logo.png" width="35" height="30"/>
                                            <p:panel>
                                                <p:panel  >
                                                    <h:outputLabel styleClass="f11" value="#{comentario.usuarioNombre}"/>
                                                    <h:outputText styleClass="f11gris" value=" - "/> 
                                                    <h:outputText styleClass="f11gris" value="#{comentario.fechaGenero}">
                                                        <f:convertDateTime dateStyle="medium" type="date"/>
                                                    </h:outputText>
                                                    <h:outputText styleClass="f11gris" value=" - "/>  
                                                    <h:outputText styleClass="f11gris" value="#{comentario.horaGenero}">
                                                        <f:convertDateTime pattern="h:mm a" timeStyle="default" type="time"/>
                                                    </h:outputText>
                                                </p:panel>
                                                <p:panel  >
                                                    <h:outputText  value="#{comentario.mensaje}" style="text-align: justify; font-size: 1.2em; font-weight: normal;"/>                                                    
                                                </p:panel>
                                            </p:panel>
                                        </p:panel>
                                    </p:column>
                                </h:dataTable>
                            </p:tab>
                        </p:accordionPanel>
                    </p:panel>
                </p:panel>
            </h:panelGroup>
        </p:column>
    </h:dataTable>   
    <br/>
</ui:composition>
