<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                >
    <p:panel  >
        <h:selectOneRadio id="rdTipos" value="#{reporteBean.tipoRequisicion}" >
            <f:selectItem itemLabel="Costos" itemValue="PS" />
            <f:selectItem itemLabel="Contabilidad" itemValue="AF"/>
            <p:ajax listener="#{reporteBean.buscarRequicion}" update="frmRep:tbReportes:dtConta"/>
        </h:selectOneRadio>
        <p:commandLink value="#{msgs['sistema.buscar']}" action="#{reporteBean.traerRequisicionesFinanzas}" 
                       styleClass="btn btn-sm btn-primary" process="@this frmRep:tbReportes:rdTipos" update="frmRep:tbReportes:dtConta"/>
    </p:panel>
    

    <hr/>
    <p:dataTable size="small" stripedRows="true" showGridlines="true" id="dtConta" value="#{reporteBean.listaR}" var="data"
                 rows="10" 
                 paginator="true"  
                 paginatorPosition="bottom" >
        <p:column headerText="#{msgs['orden.nombre.solicita']}">
            <h:outputText value="#{data.solicita}"/>
        </p:column>
        <p:column headerText="#{msgs['orden.consecutivo']}">
            <h:outputText value="#{data.consecutivo}"/>
        </p:column>
        <p:column headerText="#{msgs['requisicion.referencia']}">
            <h:outputText value="#{data.referencia}"/>
        </p:column>
        <p:column headerText="#{msgs['orden.fecha.solicita']}">
            <h:outputText value="#{data.fechaSolicitada}">
                <f:convertDateTime pattern="dd/MM/yyyy"/>
            </h:outputText>
        </p:column>
        <p:column headerText="#{msgs['orden.gerencia.nombre']}">
            <h:outputText value="#{data.gerencia}">
            </h:outputText>
        </p:column>
        <p:column headerText="#{msgs['orden.proyecto.ot']}">
            <h:outputText value="#{data.proyectoOT}">
            </h:outputText>
        </p:column>                        
    </p:dataTable>
    <p:commandButton value="Exportar" styleClass="p-mr-2 p-mb-2" process="@this frmRep:tbReportes:dtConta"> 
        <p:dataExporter fileName="Finanzas" type="xls" target="dtConta" />
    </p:commandButton>
</ui:composition> 