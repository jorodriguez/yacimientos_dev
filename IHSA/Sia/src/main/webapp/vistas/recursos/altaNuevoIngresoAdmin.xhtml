<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"    
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"  

      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <body>
        <ui:composition template="./../../WEB-INF/facelets/templates/templateGrupos.xhtml">
            <ui:define name="tituloPagina">
                Registro nuevo ingreso
            </ui:define>
            <ui:define name="contenido">
                <div class="row"> 
                    <h:form  id="frmUser">
                        <div class="row">
                            <h:messages id="error" errorClass="errorMessage" infoClass="infoMessage"/>
                        </div>
                        <div class="col-lg-10 col-xs-10">
                            <div class="col-lg-6 col-xs-6">
                                <p:panelGrid columns="2"  >
                                    <f:facet name="header"><h:outputText value="Datos personales" styleClass="textoListaTabla"/></f:facet>                        
                                    <p:panelGrid columns="2">
                                        <h:outputText value="Nombre"/>
                                        <h:outputText value="*"/>
                                    </p:panelGrid>
                                    <p:panelGrid columns="2">
                                        <p:inputText value="#{usuarioBean.nombre}" id="nombre" required="true" requiredMessage="El nombre es requerido"/>    
                                        <h:message errorClass="textoMensajeError" infoStyle="textoMensajeError" for="nombre"/>
                                    </p:panelGrid>
                                    <p:panelGrid columns="2">
                                        <h:outputText value="Primer apellido"/>
                                        <h:outputText value="*"/>
                                    </p:panelGrid>
                                    <p:panelGrid columns="2" >                                
                                        <p:inputText value="#{usuarioBean.primerApellido}" id="papp" required="true" requiredMessage="El apellido es requerido"/>
                                        <h:message errorClass="textoMensajeError" infoStyle="textoMensajeError" for="papp"/>
                                    </p:panelGrid>
                                    <h:outputText value="Segundo Apellido"/>
                                    <p:inputText value="#{usuarioBean.segundoApellido}"/>

                                    <h:outputText value="Mail *"/>
                                    <p:panelGrid columns="2">                                
                                        <p:inputText value="#{usuarioBean.usuarioVOAlta.mail}" id="mail" style="width: 200px;"/>
                                        <h:message errorClass="textoMensajeError" infoStyle="textoMensajeError" for="mail"/>
                                    </p:panelGrid>

                                    <h:outputText value="Usuario en Directorio"/>
                                    <p:inputText value="#{usuarioBean.usuarioVOAlta.usuarioDirectorio}"/>


                                    <h:outputText value="Teléfono"/>
                                    <p:inputText value="#{usuarioBean.usuarioVOAlta.telefono}" size="20"/>
                                    <h:outputText value="Celular"/>
                                    <p:inputText value="#{usuarioBean.usuarioVOAlta.celular}"/>
                                    <h:outputText value="Extensión"/>
                                    <p:inputText value="#{usuarioBean.usuarioVOAlta.extension}" size="10"/>
                                    <h:outputText value="Sexo"/>
                                    <p:selectOneRadio value="#{usuarioBean.usuarioVOAlta.sexo}">
                                        <f:selectItem itemLabel="Masculino" itemValue="M"/>
                                        <f:selectItem itemLabel="Femenino" itemValue="F"/>
                                    </p:selectOneRadio>
                                    <h:outputText value="Fecha nacimiento"/>
                                    <p:datePicker  value="#{usuarioBean.usuarioVOAlta.fechaNacimiento}"
                                                   pattern="dd/MM/yyyy">
                                    </p:datePicker>
                                </p:panelGrid>
                            </div>
                            <div class="col-lg-6 col-xs-6">
                                <p:panelGrid columns="2" >                    
                                    <f:facet name="header"><h:outputText value="Datos profesionales" styleClass="textoListaTabla"/></f:facet>                                               
                                    <p:panelGrid columns="2">
                                        <h:outputText value="Campo default"/>
                                        <h:outputText value="*"/>
                                    </p:panelGrid>      
                                    <p:panelGrid columns="2">
                                        <p:selectOneMenu value="#{usuarioBean.usuarioVOAlta.idCampo}" style="width: 200px;" id="campoUser"
                                                         valueChangeListener="#{usuarioBean.cambiarValorCampoNuevoIngreso}" >
                                            <f:selectItem itemLabel="Seleccione . . . " itemValue="-1"/>
                                            <f:selectItems value="#{usuarioBean.listaCampo}"/>
                                        </p:selectOneMenu>
                                        <h:message errorClass="textoMensajeError" infoStyle="textoMensajeError" for="campoUser"/>
                                    </p:panelGrid>
                                    <p:panelGrid columns="2">
                                        <h:outputText value="Oficina"/>
                                        <h:outputText value="*"/>
                                    </p:panelGrid>      
                                    <p:panelGrid columns="2">
                                        <p:selectOneMenu value="#{usuarioBean.usuarioVOAlta.idOficina}" style="width: 200px;" id="oficina">
                                            <f:selectItem itemLabel="Seleccione . . . " itemValue="-1"/>
                                            <f:selectItems value="#{usuarioBean.listaOficina}"/>
                                        </p:selectOneMenu>
                                        <h:message errorClass="textoMensajeError" infoStyle="textoMensajeError" for="oficina"/>
                                    </p:panelGrid>
                                    <h:outputText value="Gerencia *"/>
                                    <p:selectOneMenu value="#{usuarioBean.idGerencia}" style="width: 200px;">
                                        <f:selectItem itemLabel="Seleccione . . ." itemValue="-1"/>
                                        <f:selectItems value="#{usuarioBean.listaGerencia}"/>
                                    </p:selectOneMenu>       
                                    <p:panelGrid columns="2">
                                        <h:outputText value="Puesto"/>
                                        <h:outputText value="*"/>
                                    </p:panelGrid>
                                    <p:panelGrid columns="2">                                            
                                        <h:inputHidden id="hidenDesPuesto" value="#{usuarioBean.rhPuestoVo.id}"/>
                                    </p:panelGrid>
                                    <p:autoComplete id="autoInPuesto"
                                                    value="#{usuarioBean.rhPuestoVo.nombre}"
                                                    completeMethod="#{usuarioBean.puestoListener}"
                                                    size="40" forceSelection="true">
                                    </p:autoComplete>
                                    <p:panelGrid columns="2">
                                        <h:outputText value="Fecha ingreso"/>
                                        <h:outputText value="*"/>
                                    </p:panelGrid>      
                                    <p:datePicker  value="#{usuarioBean.usuarioVOAlta.fechaIngreso}" 
                                                   pattern="dd/MM/yyyy">
                                    </p:datePicker>
                                    <p:panelGrid columns="2">
                                        <h:outputText value="Nomina"/>
                                        <h:outputText value="*"/>
                                    </p:panelGrid>                            
                                    <p:selectOneMenu value="#{usuarioBean.usuarioVOAlta.idNomina}" style="width: 200px;">
                                        <f:selectItem itemLabel="Seleccione . . ." itemValue="-1"/>
                                        <f:selectItems value="#{usuarioBean.listaEmpresa}"/>
                                    </p:selectOneMenu>  
                                    <h:outputText value="Gafete *"/>
                                    <p:selectOneRadio rendered="true" value="#{usuarioBean.usuarioVOAlta.gafete}">
                                        <f:selectItem itemLabel="Si" itemValue="si"/>
                                        <f:selectItem itemLabel="No" itemValue="no"/>
                                    </p:selectOneRadio>
                                </p:panelGrid>         
                                <div class="col-lg-6 col-xs-6">
                                </div>
                            </div> 
                        </div>
                        <div class="col-lg-10 col-xs-10">
                            <div class="col-lg-8 col-xs-8">
                                <div class="col-lg-2 col-xs-2">
                                    <p:commandLink id="guardar" value="Guardar" 
                                                   action="#{usuarioBean.guardarUsuarioNuevoIngreso('AD')}"
                                                   styleClass="btn btn-info text-white">
                                    </p:commandLink>
                                </div>
                                <div class="col-lg-2 col-xs-2">
                                    <p:commandLink value="Cancelar" immediate="true"  
                                                   action="#{usuarioBean.cancelarNuevoIngreso}" 
                                                   styleClass="btn btn-default"/>
                                </div>
                            </div>
                        </div>
                    </h:form>
                </div>
            </ui:define>
        </ui:composition>

    </body>
</html>
