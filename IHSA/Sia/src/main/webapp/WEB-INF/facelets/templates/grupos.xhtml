<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <body>
        <ui:composition>
           <ui:include src="/vistas/comunicacion/popupsComunicacion.xhtml"/>  
           <h:form rendered="#{not empty sesion.usuario}">  
                <table width="180px">
                    <tr>
                        <td>
                            <p:panelGrid styleClass="titulo" columns="2">
                                <p:graphicImage styleClass="sinBorde" value="/resources/imagenes/grupo.png"/>
                                #{msgs['sistema.opcion.tusGrupos']}
                            </p:panelGrid>
                        </td>
                        <td align="right">
                            <p:commandButton icon="/resources/imagenes/mas.png" disabled="true" title="#{msgs['sistema.nuevo']}" actionListener="#{grupoBean.nuevoGrupo(actionEvent)}"/>             
                        </td>
                    </tr>
                </table>        
                 <h:dataTable value="#{grupoBean.grupos}" var="grupo">
                    <p:column>
                        <ul class="opciones">
                            <li>
                                <table width="100%">
                                    <tr>
                                        <td><p:commandLink value="#{grupo['nombre']} (#{grupoBean.totalMiembros})" title="#{grupo['descripcion']}" actionListener="#{grupoBean.traeMiembros(actionEvent)}" action="/vistas/comunicacion/editarGrupo"/></td>
                                        <td align="right" width="11px"><p:commandButton  title="#{msgs['sistema.modificar']}" actionListener="#{grupoBean.actualizarGrupo(actionEvent)}" icon="/resources/imagenes/editarMini.gif"/></td>
                                        <td align="right" width="11px"><p:commandLink value="X" title="#{msgs['sistema.eliminar']}" actionListener="#{grupoBean.eliminarGrupo(actionEvent)}"/></td>
                                    </tr>
                                </table>
                            </li>  
                        </ul>
                    </p:column> 
                </h:dataTable>                
                <!--    <p:panelGrid styleClass="titulo" columns="3">
                        <p:graphicImage styleClass="sinBorde" value="/resources/imagenes/grupo.png"/>
                #{msgs['sistema.opcion.tusGrupos']}
                <p:commandButton image="/resources/imagenes/mas.png" title="#{msgs['sistema.nuevo']}..." />
            </p:panelGrid>
                -->

<!--      <h:panelGroup styleClass="grupo" onmouseover="show_hide('#{grupo['id']}')">

                #{grupo['nombre']} (4) <p:commandLink value="Ver" actionListener="#{grupoBean.traeMiembros(actionEvent)}"/>    
         
        </h:panelGroup> 
       <p:panelTooltip id="pnlTlTipGrupos"
                          hideOn="mouseout"
                          hoverDelay="100" style="width: 150px;float: left; background-color: whitesmoke" displayListener="#{grupoBean.tooltipDisplayListener(event)}">
            <f:facet name="body">  
                <h:panelGroup >
                    <h:dataTable value="#{grupoBean.miembros}" var="miembro">
                        <p:column>
                #{miembro['miembro'].nombre}     
            </p:column>
        </h:dataTable> 
    </h:panelGroup>
</f:facet>
</p:panelTooltip>                         
                <div id="#{grupo['id']}" onmouseout="show_hide('#{grupo['id']}')">
                    <h:dataTable value="#{grupoBean.miembros}" var="miembro">
                        <p:column>
                #{miembro['miembro'].nombre}     
            </p:column>
        </h:dataTable> 
    </div>  
                -->  




            </h:form>
        </ui:composition>        
    </body>
</html>
