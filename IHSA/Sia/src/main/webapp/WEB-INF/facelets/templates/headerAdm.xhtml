<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:my="http://www.mytags.com/schema/mytags"
                >
    <!-- Navigation -->

    <nav class="main-header navbar navbar-expand navbar-light">
        <!-- Left navbar links -->
        <ul class="navbar-nav">
            <li class="nav-item d-none d-sm-inline-block">
                <a href="/principal.xhtml" class="nav-link">Inicio</a>
            </li>
        </ul>


        <!-- Right navbar links -->
        <h:form class="ml-auto">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item ml-3">
                    <p:commandLink value="#{sesion.usuarioVo.campo}" onclick="$(dialogoUsuarioCampo).modal('show');" 
                                   title="Campo"
                                   process="@this" update="frmCampoUsuario"/>
                </li> 
                <li class="nav-item ml-3">
                    <p:commandLink title="Ayuda" 
                                   action="/vistas/administracion/ayuda/consultarArbolAyudas">
                        <i class="fa fa-question-circle fa-fw "></i>
                    </p:commandLink>        
                </li>    
                <li class="nav-item ml-3">
                    <p:commandLink title="Soporte técnico" action="/vistas/administracion/ticket/tickets"
                                   >
                        <i class="fa fa-user-cog "></i>
                    </p:commandLink>
                </li>
                <li class="nav-item ml-3">
                    <p:commandLink title="Inicio" 
                                   action="/principal">
                        <i class="fa fa-home fa-fw "></i>
                    </p:commandLink>
                </li>
                <li  class="nav-item ml-3">
                    <h:commandLink title="#{msgs['menu.titulo.CerrarSesion']}" 
                                   actionListener="#{sesion.cerrarSesion}"
                                   action="/login"
                                   id="linkLogout"
                                   styleClass="fa fa-eye-slash text-danger"/>
                </li>

            </ul>
        </h:form>
    </nav>
    <!-- Registro de categoría -->
    <div class="modal fade" id="dialogoUsuarioCampo" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Campos</h4>
                </div>
                <h:form id="frmCampoUsuario">
                    <div class="modal-body">				    
                        <p:dataTable size="small" stripedRows="true" showGridlines="true" value="#{sesion.camposPorUsuario}" var="data"
                                     rowStyleClass="table table-bordered table-striped">
                            <p:column style="text-align: left;">
                                <h:outputText value=" #{data.campo}" 
                                              class="#{sesion.usuario.apCampo.id  eq data.idCampo ? 'fa fa-dot-circle-o text-info' : 'fa fa-circle-o'} " />
                            </p:column>
                            <p:column width="50">
                                <p:commandLink action="#{sesion.cambioCampoUsuario(data.idCampo)}"
                                               rendered="#{sesion.usuario.apCampo.id  ne data.idCampo}">
                                    <i class="fas fa-check text-primary"/>
                                </p:commandLink>
                            </p:column>
                        </p:dataTable>
                    </div>
                    <div class="modal-footer">
                        <p:commandLink value="Cerrar" styleClass="btn btn-default"
                                       immediate="true"
                                       onclick="$(dialogoUsuarioCampo).modal('hide');"/>
                    </div>
                </h:form>
            </div>
        </div>
    </div>
</ui:composition>