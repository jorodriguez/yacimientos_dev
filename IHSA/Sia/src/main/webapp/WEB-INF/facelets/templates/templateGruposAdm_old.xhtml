<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <!-- New Relic RUM -->
        <script type="text/javascript">
            //@@RUM@@
        </script>

        <link href="../resources/boot/css/bootstrap.min.css" rel="stylesheet" type="text/css"></link>
        <link href="../resources/boot/css/panel/metisMenu.css" rel="stylesheet"></link>
        <link rel="stylesheet" href="../resources/boot/css/panel/timeline.css"></link>
        <link  href="../resources/boot/css/panel/sb-admin-2.css" rel="stylesheet"></link>
        <link href="../resources/boot/css/panel/morris.css" rel="stylesheet"></link>
        <link rel="stylesheet" type="text/css" href="../resources/font-awesome/css/font-awesome.min.css"></link>


        <script type="text/javascript" src="../resources/boot/js/jquery1.11.0.js"></script>
        <script type="text/javascript" src="../resources/boot/js/bootstrap.js"></script>
        <script type="text/javascript" src="../resources/boot/js/panel/sb-admin-2.js"></script>
        <script type="text/javascript" src="../resources/boot/js/panel/metisMenu.js"></script>
        <script type="text/javascript" src="../resources/boot/js/panel/morris.min.js"></script>
        <script type="text/javascript" src="../resources/boot/js/panel/raphael-min.js"></script>
        <script type="text/javascript" src="../resources/boot/js/panel/morris.data.js"></script>
        <!--dsfsdfsdfsfsdf-->
        <title>Sistema Integral de Administraci√≥n</title>


        <script type="text/javascript" src="./resources/js/validacionSIA.js"></script> 

        <link href="../resources/css/jqueryui-1.10.3.css" rel="stylesheet" type="text/css"></link>        
        <script type="text/javascript" src="../resources/js/jquery-ui1.10.3.js"></script>        
        <link href="./resources/css/cssSia.css" rel="stylesheet" type="text/css"/>        
        <script type="text/javascript">

            var json;
            var data;
            var usuario;
            var puesto;

            function setJson(json) {
                this.data = json;
            }
            function llenarJsonUsuario(datos) {
                usuario = datos;
                //   alert(datos.length);
            }
            function llenarJsonPuesto(datos) {
                puesto = datos;
                // alert('Puesto' + puesto.length);
                //alert(datos);
            }


            function autocompletar(componente, hidenC, forma) {
                $(componente).autocomplete({
                    source: this.data,
                    focus: function (event, ui) {
                        // prevent autocomplete from updating the textbox
                        event.preventDefault();
                        // manually update the textbox
                        $(this).val('');
                    },
                    select: function (event, ui) {
                        $(componente).val(ui.item.label);
                        $("#" + forma + "\\:" + hidenC).val(ui.item.value);
                        ejecutarFiltros(forma, 'btnFiltro');
                        llenarEtiqueta(forma, 'cjNombreProveedor', ui.item.label);
                        return false;
                    }
                })

                $(componente).css({
                    "text-align": "left",
                    "width": "400px;"
                });
                $("ul.ui-autocomplete").addClass("autocompletar");
                //return true;
            }

            function autocompletarUsuario(componente, hidenC, forma) {
//		alert(1);
                $(componente).autocomplete({
                    source: usuario,
                    focus: function (event, ui) {
                        // prevent autocomplete from updating the textbox
                        event.preventDefault();
                        // manually update the textbox
                        $(this).val('');
                    },
                    select: function (event, ui) {
                        $(componente).val(ui.item.label);
                        $("#" + forma + "\\:" + hidenC).val(ui.item.value);
                        return false;
                    }
                })

                $(componente).css({
                    "text-align": "left",
                    "width": "400px;",
                    "z-index": "100000005"
                });
                $("ul.ui-autocomplete").addClass("autocompletar");
                //return true;
            }

            function autocompletarPuesto(componente, hidenC, forma) {
                $(componente).autocomplete({
                    source: this.puesto,
                    focus: function (event, ui) {
                        event.preventDefault();
                        $(this).val();
                    },
                    select: function (event, ui) {
                        $(componente).val(ui.item.label);
                        $("#" + forma + "\\:" + hidenC).val(ui.item.value);
                        return false;
                    }
                })

                $(componente).css({
                    "text-align": "left",
                    "width": "400px;",
                    "z-index": "100000"
                });
                $("ul.ui-autocomplete").addClass("autocompletar");
                //return true;
            }
            function ejecutarFiltros(frm, boton) {
                $("#" + frm + "\\:" + boton).click();
            }

            $(document).init(function () {
                bloquearPantalla();
            });
            function bloquearPantalla() {
                jsf.ajax.addOnEvent(statusUpdate);
                jsf.ajax.addOnError(statusUpdate);
                return true;
            }
            var statusUpdate = function statusUpdate(data) {
                if (data.status == 'error') {
                    $("#areaBlock").css("display", "none");
                }
                if (data.status == 'begin') {
                    $("#areaBlock").css("display", "block");
                }
                if (data.status == 'complete') {
                    $("#areaBlock").css("display", "none");
                }
                if (data.status == 'success') {
                    $("#areaBlock").css("display", "none");
                }
            }
            var status = function status(data) {
                $("#areaBlock").css("display", "none");
            }
        </script>	
        <script type="text/javascript">
            function areaBlockCSS() {
                $("#areaBlock").css({
                    "display": "block",
                    "right": "100px",
                    "bottom": "155px",
                    "position": "fixed",
                    "z-index": "25006"
                });
            }

            function quitarAareaBlockCSS() {
                $("#areaBlock").css({
                    "display": "block",
                    "right": "100px",
                    "bottom": "155px",
                    "position": "fixed",
                    "z-index": "25006"
                });
            }
        </script>	
    </h:head>
    <h:body id="dummybodyid">
        <c:if test="#{not empty sesion.usuario}">
            <div id="wrapper">
                <ui:include src="headerAdm.xhtml"/>
                <div id="page-wrapper">
                    <ui:insert name="contenido"/>			
                    <div id="areaBlock" style="display: none;position: fixed;top: 0;left: 0;z-index: 9500007;width: 100%;height: 100%;
                         background: #dddddd;opacity: 0.6;">
                        <div style="position:absolute;top:50%;left: 50%;">
                            <img  src="./resources/imagenes/wait.gif"/><br/>
                            <font style="font-weight: bold; font-style: italic; font-size: 11px;">Procesando . . .</font>
                        </div>                            
                    </div> 
                </div>
                <div class="col-lg-2 col-xs-12">                            
                </div>
                <div class="col-lg-10 col-xs-12">
                    <ui:include src="pie.xhtml" />
                </div>

            </div>
        </c:if>
        <c:if test="#{empty sesion.usuario}">
            <ui:insert name="contenido"/>
        </c:if>
    </h:body>
</html>
