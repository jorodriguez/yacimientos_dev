<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"

      xmlns:f="http://java.sun.com/jsf/core"

      >
    <body>
        <ui:composition template="./../../../WEB-INF/facelets/templates/templateServiciosGenerales.xhtml">
            <ui:define name="contenido">
                <h:panelGroup  rendered="#{empty sesion.usuario}" styleClass="altura">
                    <ui:include src="./../../../login.xhtml"/>
                </h:panelGroup> 
                <h:form >
                    <p class="tituloEncabezado">Administrar oficina </p>
                    <h:panelGrid columns="8" rendered="#{sesion.oficinaActual != null}">
                        <!--<center><h:messages errorClass="errorMessage" infoClass="infoMessage"/></center>-->
                        <h:panelGrid columns="2">
                            <p:commandLink title="Agregar"  actionListener="#{oficinaBean.agregarCaracteristicaOficina(event)}"
                                           styleClass="btn btn-default">
                                <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" 
                                                styleClass="imagenSinBorde"/>
                            </p:commandLink>
                            <p:commandLink value="Características Generales" styleClass="linkPequenio" actionListener="#{oficinaBean.agregarCaracteristicaOficina(event)}"/>
                        </h:panelGrid>
                        <h:panelGrid columns="2" >
                            <p:commandLink title="Agregar convenios" actionListener="#{oficinaBean.agregarOficinaContrato(event)}" 
                                           styleClass="btn btn-default">
                                <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" 
                                                styleClass="imagenSinBorde"/>
                            </p:commandLink>
                            <p:commandLink value="Convenios" actionListener="#{oficinaBean.agregarOficinaContrato(event)}" styleClass="linkPequenio"/>
                        </h:panelGrid>                        
                        <h:panelGrid columns="2">
                            <p:commandLink title="Agregar comedor"  
                                           styleClass="btn btn-default" actionListener="#{oficinaBean.agregarComedor(event)}">                               
                                <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" 
                                                styleClass="imagenSinBorde"/>
                            </p:commandLink>
                            <p:commandLink value="Comedor" styleClass="linkPequenio" actionListener="#{oficinaBean.agregarComedor(event)}"/>                               
                        </h:panelGrid>
                        <h:panelGrid columns="2">
                            <p:commandLink title="Agregar sala de juntas"  actionListener="#{oficinaBean.agregarSalaJunta(event)}"
                                           styleClass="btn btn-default">
                                <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" 
                                                styleClass="imagenSinBorde"/>
                            </p:commandLink>
                            <p:commandLink value="Sala juntas" actionListener="#{oficinaBean.agregarSalaJunta(event)}" styleClass="linkPequenio"/>
                        </h:panelGrid> 
                        <h:panelGrid columns="2">
                            <p:commandLink title="Agregar saniarios" actionListener="#{oficinaBean.agregarOficinaSanitario(event)}" 
                                           styleClass="btn btn-default">
                                <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" 
                                                styleClass="imagenSinBorde"/>
                            </p:commandLink>
                            <p:commandLink value="Sanitario" actionListener="#{oficinaBean.agregarOficinaSanitario(event)}" styleClass="linkPequenio"/>
                        </h:panelGrid>
                        <h:panelGrid columns="2" >
                            <p:commandLink title="Agregar plano" actionListener="#{oficinaBean.agregarPlano(event)}" 
                                           styleClass="btn btn-default">
                                <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" 
                                                styleClass="imagenSinBorde"/>
                            </p:commandLink>
                            <p:commandLink value="Plano oficina" actionListener="#{oficinaBean.agregarPlano(event)}" styleClass="linkPequenio"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <br/>
                    <!-- Datos Generales -->
                    <p:accordionPanel>
                        <p:tab   title="Datos generales">
                            <h:panelGroup>
                                <h:panelGrid columns="2">
                                    <h:panelGrid columns="2">
                                        <h:outputText value="Nombre"/>
                                        <p:inputText value="#{sesion.oficinaActual.nombre}" disabled="true"/>
                                        <h:outputText value="País"/>
                                        <p:inputText value="#{sesion.oficinaActual.nombreSiPais}" disabled="true"/>
                                        <h:outputText value="Estado"/>
                                        <p:inputText value="#{sesion.oficinaActual.nombreSiEstado}" disabled="true"/>
                                        <h:outputText value="Municipio"/>
                                        <p:inputText value="#{sesion.oficinaActual.municipio}" disabled="true"/>         
                                        <h:outputText value="Ciudad"/>
                                        <p:inputText value="#{sesion.oficinaActual.nombreSiCiudad}" disabled="true"/>         
                                        <h:outputText value="Colonia"/>
                                        <p:inputText value="#{sesion.oficinaActual.colonia}" disabled="true"/>         
                                    </h:panelGrid>
                                    <h:panelGrid columns="2">
                                        <h:outputText value="Calle"/>
                                        <p:inputText value="#{sesion.oficinaActual.calle}" disabled="true"/>
                                        <h:outputText value="Número exterior"/>
                                        <p:inputText value="#{sesion.oficinaActual.numeroExterior}" disabled="true"/>
                                        <h:outputText value="Número interior"/>
                                        <p:inputText value="#{sesion.oficinaActual.numeroInterior}" disabled="true"/>         
                                        <h:outputText value="Piso"/>
                                        <p:inputText value="#{sesion.oficinaActual.piso}" disabled="true"/>         
                                        <h:outputText value="Código postal"/>
                                        <p:inputText value="#{sesion.oficinaActual.codigoPostal}" disabled="true"/>         
                                        <h:outputText value="Teléfono"/>
                                        <p:inputText value="#{sesion.oficinaActual.numeroTelefono}" disabled="true"/>         
                                    </h:panelGrid>
                                </h:panelGrid>
                                <br/>
                            </h:panelGroup>
                        </p:tab  >

                        <!-- Características Generales -->
                        <p:tab   title="Características generales">
                            <h:panelGroup>
                                <h:panelGrid columns="2">
                                    <p:commandLink title="Agregar Característica General"  actionListener="#{oficinaBean.agregarCaracteristicaOficina(event)}"
                                                   styleClass="btn btn-default">
                                        <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" 
                                                        styleClass="imagenSinBorde"/>
                                    </p:commandLink>
                                    <p:commandLink value="Agregar Caracteristica general" styleClass="linkPequenio" actionListener="#{oficinaBean.agregarCaracteristicaOficina(event)}"/>
                                </h:panelGrid>

                                <br />

                                <p:dataTable showGridlines="true" size="small"  id="dtCar" value="#{oficinaBean.mapaLista.get('caracteristica_oficina')}"  var="data" rows="5">
                                    <p:column>
                                        <f:facet name="header">
                                            <h:outputText value="Cantidad" />
                                        </f:facet>
                                        <h:outputText value="#{data.cantidad}" />
                                    </p:column> 
                                    <p:column>
                                        <f:facet name="header">
                                            <h:outputText value="Nombre" />
                                        </f:facet>
                                        <h:outputText value="#{data.nombre}" />
                                    </p:column>
                                </p:dataTable>

                                <br/>
                            </h:panelGroup>
                        </p:tab  >

                        <!-- Convenio  -->
                        <p:tab   title="Convenios" >
                            <h:panelGroup>
                                <h:panelGrid columns="2" >
                                    <p:commandLink title="Agregar convenios" actionListener="#{oficinaBean.agregarOficinaContrato(event)}" 
                                                   styleClass="btn btn-default">
                                        <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" 
                                                        styleClass="imagenSinBorde"/>
                                    </p:commandLink>
                                    <p:commandLink value="Convenios" actionListener="#{oficinaBean.agregarOficinaContrato(event)}" styleClass="linkPequenio"/>
                                </h:panelGrid>                                 

                                <br/>

                                <h:outputText value="Convenio vigente" rendered="#{oficinaBean.sgHistorialConvenioOficina != null}" styleClass="fNegrita12"/>
                                <h:outputText value="Sin convenio vigente" rendered="#{oficinaBean.sgHistorialConvenioOficina == null}" styleClass="fNegrita12"/>                                

                                <!--<h:outputText value="Contrato vigente" styleClass="fNegrita12"/>-->
                                <h:panelGrid columns="8"  bgcolor="white" 
                                             rendered="#{oficinaBean.sgHistorialConvenioOficina != null}">
                                    <h:panelGrid >                                        
                                        <h:outputLabel value="No. convenio"/>
                                        <h:outputText value="#{oficinaBean.sgHistorialConvenioOficina.convenio.codigo}"/>
                                    </h:panelGrid>
                                    <h:panelGrid >
                                        <h:outputLabel value="Proveedor"/>
                                        <h:outputText value="#{oficinaBean.sgHistorialConvenioOficina.convenio.proveedor.nombre}"/>
                                    </h:panelGrid>
                                    <h:panelGrid >                                        
                                        <h:outputLabel value="Inicio"/>
                                        <h:outputText value="#{oficinaBean.sgHistorialConvenioOficina.convenio.fechaInicio}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </h:panelGrid>     
                                    <h:panelGrid>
                                        <h:outputLabel value="Fin"/>
                                        <h:outputText value="#{oficinaBean.sgHistorialConvenioOficina.convenio.fechaVencimiento}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </h:panelGrid>
                                    <h:panelGrid >                                                                                
                                        <h:outputLabel value="Monto"/>
                                        <h:outputText value="#{oficinaBean.sgHistorialConvenioOficina.convenio.monto}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </h:panelGrid>
                                    <h:panelGrid>
                                        <h:outputLabel value="Moneda"/>
                                        <h:outputText value="#{oficinaBean.sgHistorialConvenioOficina.convenio.moneda.siglas}"/>
                                    </h:panelGrid>
                                    <h:panelGrid >
                                        <p:commandLink value="#{msgs['sistema.eliminar']}" actionListener="#{oficinaBean.openPopupEliminarRelacionContrato(event)}" styleClass ="link"/>
                                    </h:panelGrid>
                                    <h:panelGrid >
                                        <p:commandLink value="#{msgs['sistema.historial']}" actionListener="#{oficinaBean.verHistorialContrato(event)}" styleClass ="link"/>
                                    </h:panelGrid>
                                </h:panelGrid>
                                <br />
                                <h:outputText value="Archivos del convenio" styleClass="fNegrita12"/>
                                <p:dataTable showGridlines="true" size="small"  id="dtContrato" value="#{oficinaBean.traerContratoOficina}" var="cont" >
                                    <p:column>
                                        <f:facet name="header"><h:outputText value="Archivo"/></f:facet> 
                                        <h:outputText value="#{cont.nombre}"/>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header"><h:outputText value="Tipo"/></f:facet> 
                                        <h:outputText value="#{cont.tipoArchivo}"/>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <h:outputLink target="_blank" value="/ServiciosGenerales/AbrirArchivo?ZWZ2W=#{cont.id}&amp;ZWZ3W=#{cont.uuid}">
                                                <h:graphicImage url="#{msgs['sgl.ruta.imagen']}icon_attach.gif" styleClass="imagenSinBorde"/>
                                            </h:outputLink>                                        
                                        </center>
                                    </p:column>
                                </p:dataTable>
                                <br/>
                            </h:panelGroup>
                        </p:tab  >

                        <!-- Comedor -->
                        <p:tab   title="Comedor">
                            <h:panelGroup>
                                <h:panelGrid columns="2">
                                    <p:commandLink title="Agregar Comedor"  
                                                   styleClass="btn btn-default" actionListener="#{oficinaBean.agregarComedor(event)}">                               
                                        <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" 
                                                        styleClass="imagenSinBorde"/>
                                    </p:commandLink>
                                    <p:commandLink value="Agregar Comedor" styleClass="linkPequenio" actionListener="#{oficinaBean.agregarComedor(event)}"/>                               
                                </h:panelGrid>

                                <br />

                                <p:dataTable showGridlines="true" size="small"   id="dtComedor" value="#{oficinaBean.mapaLista.get('comedorOficina')}"   var="com">
                                    <p:column>
                                        <f:facet name="header"><h:outputText value="Nombre"/></f:facet>
                                        <h:outputText value="#{com.nombre}"/>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <p:commandLink value="#{msgs['sistema.modificar']}" actionListener="#{oficinaBean.modificarComedorOficina(event)}" styleClass="link"/>                                        
                                        </center>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <p:commandLink value="#{msgs['sistema.eliminar']}" actionListener="#{oficinaBean.eliminarComedorOficina(event)}" styleClass="link"/>
                                        </center>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <p:commandLink value="Caracteristicas" actionListener="#{oficinaBean.agregarCaracteristicaComedorOficina(event)}" styleClass="link"/>
                                        </center>
                                    </p:column>

                                    <p:column>
                                        <center>
                                            <p:commandLink value="#{msgs['sistema.detalle']}" actionListener="#{oficinaBean.openPopupDetalleComedor(event)}" styleClass="link"/>
                                        </center>
                                    </p:column>
                                </p:dataTable>
                                <br/>
                            </h:panelGroup>
                        </p:tab  >

                        <!-- Sala de Juntas -->
                        <p:tab   title="Salas de juntas">
                            <h:panelGroup>
                                <h:panelGrid columns="2">
                                    <p:commandLink title="Agregar Sala de Juntas"  actionListener="#{oficinaBean.agregarSalaJunta(event)}"
                                                   styleClass="btn btn-default">
                                        <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" 
                                                        styleClass="imagenSinBorde"/>
                                    </p:commandLink>
                                    <p:commandLink value="Agregar Sala de Juntas" actionListener="#{oficinaBean.agregarSalaJunta(event)}" styleClass="linkPequenio"/>
                                </h:panelGrid>

                                <br />

                                <p:dataTable showGridlines="true" size="small"  id="dtSala" value="#{oficinaBean.mapaLista.get('salaOficina')}"  var="sala">
                                    <p:column>
                                        <f:facet name="header"><h:outputText value="Nombre"/></f:facet>
                                        <h:outputText value="#{sala.nombre}"/>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <p:commandLink value="#{msgs['sistema.modificar']}" actionListener="#{oficinaBean.modificarOficinaSalaJunta(event)}" styleClass="link"/>
                                        </center>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <p:commandLink value="#{msgs['sistema.eliminar']}" actionListener="#{oficinaBean.eliminarOficinaSalaJunta(event)}" styleClass="link"/>
                                        </center>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <p:commandLink value="Caracteristicas" actionListener="#{oficinaBean.agregarCaracteristicaSalaJuntaOficina(event)}" styleClass="link"/>
                                        </center>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <p:commandLink value="#{msgs['sistema.detalle']}" actionListener="#{oficinaBean.openPopupDetalleSalaJuntas(event)}" styleClass="link"/>
                                        </center>
                                    </p:column>
                                </p:dataTable>
                                <br/>
                            </h:panelGroup>
                        </p:tab  >

                        <!-- Sanitario -->
                        <p:tab   title="Sanitarios">
                            <h:panelGroup>
                                <h:panelGrid columns="2">
                                    <p:commandLink title="Agregar Sanitario" actionListener="#{oficinaBean.agregarOficinaSanitario(event)}" 
                                                   styleClass="btn btn-default">
                                        <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" 
                                                        styleClass="imagenSinBorde"/>
                                    </p:commandLink>
                                    <p:commandLink value="Agregar Sanitario" actionListener="#{oficinaBean.agregarOficinaSanitario(event)}" styleClass="linkPequenio"/>
                                </h:panelGrid>

                                <br />

                                <p:dataTable showGridlines="true" size="small"  id="dtSanitario" value="#{oficinaBean.mapaLista.get('sanitarioOficina')}" var="san" >
                                    <p:column>
                                        <f:facet name="header"><h:outputText value="Nombre"/></f:facet>
                                        <h:outputText value="#{san.nombre}"/>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header"><h:outputText value="Sexo"/></f:facet>
                                        <h:outputText value="#{san.sexo eq 'M'?'Hombre':'Mujer'}"/>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <p:commandLink value="#{msgs['sistema.modificar']}" actionListener="#{oficinaBean.modificarSanitarioOficina(event)}" styleClass="link"/>
                                        </center>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <p:commandLink value="#{msgs['sistema.eliminar']}" actionListener="#{oficinaBean.eliminarSanitarioOficina(event)}" styleClass="link"/>
                                        </center>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <p:commandLink value="Características" actionListener="#{oficinaBean.agregarCaracteristicaSanitario(event)}" styleClass="link"/>
                                        </center>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <p:commandLink value="#{msgs['sistema.detalle']}" actionListener="#{oficinaBean.openPopupDetalleSanitario(event)}" styleClass="link"/>
                                        </center>
                                    </p:column>
                                </p:dataTable>
                                <br/>
                            </h:panelGroup>
                        </p:tab  >

                        <!-- Plano -->
                        <p:tab   title="Plano(s) Oficina">
                            <h:panelGroup>
                                <h:panelGrid columns="2" >
                                    <p:commandLink title="Agregar plano" actionListener="#{oficinaBean.agregarPlano(event)}" 
                                                   styleClass="btn btn-default">
                                        <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" 
                                                        styleClass="imagenSinBorde"/>
                                    </p:commandLink>
                                    <p:commandLink value="Plano oficina" actionListener="#{oficinaBean.agregarPlano(event)}" styleClass="linkPequenio"/>
                                </h:panelGrid>

                                <br />

                                <p:dataTable showGridlines="true" size="small"  id="dtPlano" rows="5" value="#{oficinaBean.traerPlano}" var="plano" >
                                    <p:column>
                                        <f:facet name="header"><h:outputText value="Cargó"/></f:facet>
                                        <h:outputText value="#{plano.genero.nombre}"/>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header"><h:outputText value="Archivo"/></f:facet>
                                        <h:outputText value="#{plano.siAdjunto.nombre}"/>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header"><h:outputText value="Vigente"/></f:facet>
                                        <center>
                                            <h:graphicImage  url="#{msgs['sgl.ruta.imagen']}icon_good.png" rendered="#{plano.vigente eq 'True'}" styleClass="imagenSinBorde"/>
                                        </center>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <h:outputLink target="_blank"  value="/ServiciosGenerales/AbrirArchivo?ZWZ2W=#{plano.siAdjunto.id}&amp;ZWZ3W=#{plano.siAdjunto.uuid}">
                                                <h:graphicImage url="#{msgs['sgl.ruta.imagen']}icon_attach.gif"  alt="Abrir archivo" styleClass="imagenSinBorde"/>
                                            </h:outputLink>
                                        </center>
                                    </p:column>
                                    <p:column>
                                        <center>
                                            <p:commandLink value="Eliminar" styleClass="link" actionListener="#{oficinaBean.eliminarPlano(event)}"/>

                                        </center>
                                    </p:column>
                                </p:dataTable>
                            </h:panelGroup>
                        </p:tab  >
                    </p:accordionPanel>
                </h:form>

                <!--Eliminar Sanitario -->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" visible="#{oficinaBean.eliminarPop and oficinaBean.sgSanitario != null}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup > 
                                <h:outputText  value="Eliminar sanitario"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid columns="3">
                                    <h:outputText value="La operación va a eliminar el sanitario "/>
                                    <h:outputText value="#{oficinaBean.sgSanitario.nombre}" style="font-weight: bold;"/>
                                    <h:outputText value=", ¿está seguro?"/>
                                </h:panelGrid><br/>
                                <center>
                                    <h:panelGrid columns="2" cellspacing="8">
                                        <p:commandLink value="Aceptar" actionListener="#{oficinaBean.completarEliminarSanitarioOficina(event)}" styleClass="btn btn-info"/>
                                        <p:commandLink value="Cancelar" actionListener="#{oficinaBean.cerrarPopEliminar(event)}" styleClass="btn btn-default"/>
                                    </h:panelGrid>
                                </center>
                            </h:panelGroup> 
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!--Eliminar Sala de Juntas -->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" visible="#{oficinaBean.eliminarPop and oficinaBean.sgSalaJunta != null}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup > 
                                <h:outputText  value="Eliminar sala de junta"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid columns="3">
                                    <h:outputText value="La operación va a eliminar la sala "/>
                                    <h:outputText value="#{oficinaBean.sgSalaJunta.nombre}" style="font-weight: bold;"/>
                                    <h:outputText value=", ¿está seguro?"/>
                                </h:panelGrid>
                                <br/>
                                <center>
                                    <h:panelGrid columns="2" cellspacing="8">
                                        <p:commandLink value="Aceptar" actionListener="#{oficinaBean.completarEliminarSalaJuntaOficina(event)}" styleClass="btn btn-info"/>
                                        <p:commandLink value="Cancelar" actionListener="#{oficinaBean.cerrarPopEliminar(event)}" styleClass="btn btn-default"/>
                                    </h:panelGrid>
                                </center>
                            </h:panelGroup> 
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!--Eliminar Comedor -->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" visible="#{oficinaBean.eliminarPop and oficinaBean.sgComedor != null}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup > 
                                <h:outputText  value="Eliminar comedor "
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid columns="3" cellspacing="8">
                                    <h:outputText value="La operación va a eliminar el comedor"/>
                                    <h:outputText value="#{oficinaBean.sgComedor.nombre}" style="font-weight: bold;"/>
                                    <h:outputText value=", ¿está seguro?"/>
                                </h:panelGrid><br/>
                                <center>
                                    <h:panelGrid columns="2">
                                        <p:commandLink value="Aceptar" actionListener="#{oficinaBean.completarEliminarComedorOficina(event)}" styleClass="btn btn-info"/>
                                        <p:commandLink value="Cancelar" actionListener="#{oficinaBean.cerrarPopEliminar(event)}" styleClass="btn btn-default"/>
                                    </h:panelGrid>
                                </center>
                            </h:panelGroup> 
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!-- Agregar Comedor -->
                <h:form id="formAgregarComedor" >
                    <p:dialog   style="background: #FFFFFF;" visible="#{oficinaBean.popUp and oficinaBean.sgComedor != null}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup > 
                                <h:panelGrid columns="2"  rendered="#{oficinaBean.crearPop}">
                                    <h:outputText  value="Agregar comedor "
                                                   style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                                    <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" immediate="false" actionListener="#{oficinaBean.cerrarPop(event)}"

                                                     style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
                                </h:panelGrid>
                                <h:panelGrid columns="2"  rendered="#{oficinaBean.modificarPop}">                                
                                    <h:outputText  value="Modificar comedor "
                                                   style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                                    <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" actionListener="#{oficinaBean.cerrarPop(event)}"

                                                     style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
                                </h:panelGrid>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid columns="2">
                                    <h:outputText value="Oficina"/>
                                    <p:inputText  value="#{sesion.oficinaActual.nombre}" disabled="true"/>                                    
                                    <h:outputText value="Nombre *"/>
                                    <h:panelGrid columns="2">
                                        <p:inputText id="textN" value="#{oficinaBean.sgComedor.nombre}" />
                                        <!--h:message id="msgNombreComedor" for="textN" errorClass="errorMessage" infoClass="infoMessage" /-->
                                    </h:panelGrid>
                                    <h:panelGrid rendered="#{oficinaBean.crearPop}">
                                        <p:commandLink value="Guardar" styleClass="btn btn-info" actionListener="#{oficinaBean.guardarOficinaComedor(event)}"/>
                                    </h:panelGrid>
                                    <h:panelGrid rendered="#{oficinaBean.modificarPop}">
                                        <p:commandLink value="Actualizar" styleClass="btn btn-info" actionListener="#{oficinaBean.completarModificacioOficinaComedor(event)}"/>
                                    </h:panelGrid>
                                    <p:commandLink value="Cancelar" styleClass="btn btn-default" actionListener="#{oficinaBean.cerrarPop(event)}"/>
                                </h:panelGrid>
                                <center><h:messages id="msgModCarac" errorClass="errorMessage" infoClass="infoMessage"/></center>
                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!--Caracteristicas Comedor -->
                <h:form id="formCaracteristicasComedor" >
                    <p:dialog   style="background: #FFFFFF;" visible="#{sesion.controladorPopups['popupCaracteristicasComedor']}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup> 
                                <h:outputText  value="Agregar características al comedor"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <center><h:messages  errorClass="errorMessage" infoClass="infoMessage"/></center>
                                <h:panelGrid columns="1">
                                    <h:panelGrid columns="2">
                                        <h:outputLabel value="Oficina: " />
                                        <h:outputText id="nombreOficinaCom" value="#{sesion.oficinaActual.nombre}" style="width: 200px" styleClass="f11" />
                                    </h:panelGrid>

                                    <h:panelGrid columns="1" styleClass="bordePanelGrid" >

                                        <h:panelGrid columns="3"  >
                                            <h:outputText value="Cantidad" />
                                            <h:outputText value="Nombre" />
                                            <h:outputText value="" />
                                            <p:inputText value="#{oficinaBean.cantidadCaracteristica}" style="width: 40px" />
                                            <p:selectOneMenu id="sinTxtCaracteristicaCom"
                                                             value="#{oficinaBean.sgCaracteristicaOficina.nombre}"
                                                             >
                                                <f:selectItems value="#{oficinaBean.matchesList}"/>
                                                <f:facet name="selectInputText">
                                                    <h:outputText  value="#{varCaracteristica}"/>
                                                </f:facet>
                                            </p:selectOneMenu>
                                            <p:commandLink value="+" title="Agregar" 
                                                           actionListener="#{oficinaBean.addCaracteristicaComedor(actionEvent)}" styleClass="btn btn-default" />
                                        </h:panelGrid> 

                                        <br />

                                        <h:panelGrid  >
                                            <h:outputLabel value="Características asignadas al Comedor #{oficinaBean.sgComedor.nombre}: " />

                                            <p:dataTable showGridlines="true" size="small"  id="dtCom" value="#{oficinaBean.mapaLista.get('comedor')}"
                                                         var="data" scrollable="true" scrollHeight="300px"   >
                                                <p:column>
                                                    <f:facet name="header" >
                                                        <h:outputText value="Cantidad" />
                                                    </f:facet>
                                                    <h:outputText value="#{data.cantidad}" />
                                                </p:column>                                     
                                                <p:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Nombre"/>
                                                    </f:facet>
                                                    <h:outputText value="#{data.nombre}" />
                                                </p:column>
                                                <p:column>
                                                    <h:commandLink value = "Quitar" action="#{oficinaBean.removeCaracteristicaComedor(actionEvent)}" styleClass="link" />
                                                </p:column>
                                            </p:dataTable>    
                                        </h:panelGrid>
                                    </h:panelGrid>                                    
                                </h:panelGrid>
                                <center>
                                    <p:commandButton value="#{msgs['sistema.cerrar']}" actionListener="#{oficinaBean.closePopupCaracteristicasComedor(actionEvent)}" styleClass="btn btn-default"/>
                                </center>                                 
                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!--Detalle Comedor-->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" visible="#{sesion.controladorPopups['popupDetalleComedor']}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup> 
                                <h:outputText  value="Detalle del comedor"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup >
                                <h:panelGrid >
                                    <h:panelGrid columns="2">
                                        <h:outputText value="Oficina"/> 
                                        <p:inputText value="#{sesion.oficinaActual.nombre}" disabled="true"/>
                                        <h:outputText value="Comedor"/> 
                                        <p:inputText value="#{oficinaBean.sgComedor.nombre}" disabled="true"/>                                
                                    </h:panelGrid>
                                    <p:dataTable id="dataGridDetalleCaracteristicasComedor" 
                                                 value="#{oficinaBean.mapaLista.get('comedor')}"  var="data" >
                                        <p:column>
                                            <f:facet name="header" >
                                                <h:outputText value="Cantidad" />
                                            </f:facet>
                                            <h:outputText value="#{data.cantidad}" />
                                        </p:column>                                     
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="Nombre"/>
                                            </f:facet>
                                            <h:outputText value="#{data.nombre}" />
                                        </p:column>
                                    </p:dataTable>
                                </h:panelGrid>
                                <center>
                                    <p:commandLink value="Cancelar" styleClass="btn btn-default" actionListener="#{oficinaBean.closePopUpDetalleComedor(event)}"/>
                                </center>                                
                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!--Caracteristicas Sala Junta-->
                <h:form id="formCaracteristicasSalaJunta" >
                    <p:dialog   style="background: #FFFFFF;" visible="#{sesion.controladorPopups['popupCaracteristicasSalaJuntas']}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup> 
                                <h:outputText  value="Agregar características a sala de junta"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <center><h:messages id="msgCaracteristicas" errorClass="errorMessage" infoClass="infoMessage"/></center>
                                <h:panelGrid columns="1">
                                    <h:panelGrid columns="2">
                                        <h:outputLabel value="Oficina: " />
                                        <h:outputText id="nombreStaff" value="#{sesion.oficinaActual.nombre}" style="width: 200px" styleClass="f11" />
                                    </h:panelGrid>

                                    <h:panelGrid columns="1" styleClass="bordePanelGrid" >

                                        <h:panelGrid columns="3"  >
                                            <h:outputText value="Cantidad" />
                                            <h:outputText value="Nombre" />
                                            <h:outputText value="" />
                                            <p:inputText value="#{oficinaBean.cantidadCaracteristica}" style="width: 40px" />
                                            <p:selectOneMenu id="sinTxtCaracteristica"
                                                             value="#{oficinaBean.sgCaracteristicaOficina.nombre}" >
                                                <f:selectItems value="#{oficinaBean.matchesList}"/>
                                                <f:facet name="selectInputText">
                                                    <h:outputText id="outTxtCaracteristica" value="#{varCaracteristica}"/>
                                                </f:facet>
                                            </p:selectOneMenu>
                                            <p:commandLink value="+" title="Agregar" actionListener="#{oficinaBean.addCaracteristicaSalaJunta(actionEvent)}" styleClass="btn btn-default" />
                                        </h:panelGrid> 

                                        <br />

                                        <h:panelGrid  >
                                            <h:outputLabel value="Características asignadas a la Sala de Juntas #{oficinaBean.sgSalaJunta.nombre}: " />

                                            <p:dataTable showGridlines="true" size="small"  id="dtSala"
                                                         value="#{oficinaBean.mapaLista.get('sala')}"
                                                         var="data"
                                                         scrollable="true"
                                                         scrollHeight="300px" >
                                                <p:column>
                                                    <f:facet name="header" >
                                                        <h:outputText value="Cantidad" />
                                                    </f:facet>
                                                    <h:outputText value="#{data.cantidad}" />
                                                </p:column>                                     
                                                <p:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Nombre"/>
                                                    </f:facet>
                                                    <h:outputText value="#{data.nombre}" />
                                                </p:column>
                                                <p:column>
                                                    <h:commandLink value = "Quitar" action="#{oficinaBean.removeCaracteristicaSalaJunta(actionEvent)}" styleClass="link" />
                                                </p:column>
                                            </p:dataTable>    
                                        </h:panelGrid>
                                    </h:panelGrid>
                                </h:panelGrid>
                                <center>
                                    <p:commandButton value="#{msgs['sistema.cerrar']}" actionListener="#{oficinaBean.closePopupCaracteristicasSalaJuntas(actionEvent)}" styleClass="btn btn-default"/>
                                </center>                                
                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!--Detalle Sala de Juntas -->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" visible="#{sesion.controladorPopups['popupDetalleSalaJuntas']}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup> 
                                <h:outputText  value="Detalle de la sala de junta"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                                style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>-->
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid>
                                    <h:panelGrid columns="2">
                                        <h:outputText value="Oficina"/> 
                                        <p:inputText value="#{sesion.oficinaActual.nombre}" disabled="true"/>
                                        <h:outputText value="Sala de Juntas"/> 
                                        <p:inputText value="#{oficinaBean.sgSalaJunta.nombre}" disabled="true"/>                                
                                    </h:panelGrid>
                                    <p:dataTable id="dataGridDetalleCaracteristicasSal" 
                                                 value="#{oficinaBean.mapaLista.get('sala')}" 
                                                 var="data">
                                        <p:column>
                                            <f:facet name="header" >
                                                <h:outputText value="Cantidad" />
                                            </f:facet>
                                            <h:outputText value="#{data.cantidad}" />
                                        </p:column>                                     
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="Nombre"/>
                                            </f:facet>
                                            <h:outputText value="#{data.nombre}" />
                                        </p:column>
                                    </p:dataTable>
                                </h:panelGrid>
                                <center>
                                    <p:commandLink value="#{msgs['sistema.cerrar']}" styleClass="btn btn-default" actionListener="#{oficinaBean.closePopUpDetalleSalaJuntas(event)}"/>
                                </center>                                
                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!--Agregar Sala de Juntas -->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" visible="#{oficinaBean.popUp and oficinaBean.sgSalaJunta != null}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup > 
                                <h:panelGrid columns="2"  rendered="#{oficinaBean.crearPop}">
                                    <h:outputText  value="Agregar sala de junta "
                                                   style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                                    <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" immediate="false" actionListener="#{oficinaBean.cerrarPop(event)}"

                                                     style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
                                </h:panelGrid>
                                <h:panelGrid columns="2"  rendered="#{oficinaBean.modificarPop}">                                
                                    <h:outputText  value="Modificar sala de junta "
                                                   style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                                    <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" actionListener="#{oficinaBean.cerrarPop(event)}"

                                                     style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
                                </h:panelGrid>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid columns="2">
                                    <h:outputText value="Oficina"/>
                                    <p:inputText  value="#{sesion.oficinaActual.nombre}" disabled="true"/>                                    
                                    <h:outputText value="Nombre *"/>
                                    <p:inputText id="textSala" value="#{oficinaBean.sgSalaJunta.nombre}"/>
                                    <h:panelGrid rendered="#{oficinaBean.crearPop}">
                                        <p:commandLink value="Guardar" styleClass="btn btn-info" actionListener="#{oficinaBean.guardarOficinaSalaJunta(event)}"/>
                                    </h:panelGrid>
                                    <h:panelGrid rendered="#{oficinaBean.modificarPop}">
                                        <p:commandLink value="Actualizar" styleClass="btn btn-info" actionListener="#{oficinaBean.completarModificacioOficinaSalaJunta(event)}"/>
                                    </h:panelGrid>
                                    <p:commandLink value="Cancelar" styleClass="btn btn-default" actionListener="#{oficinaBean.cerrarPop(event)}"/>
                                </h:panelGrid>
                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!--Agregar Sanitario -->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" visible="#{oficinaBean.popUp and oficinaBean.sgSanitario != null}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup > 
                                <h:panelGrid columns="2"  rendered="#{oficinaBean.crearPop}">
                                    <h:outputText  value="Agregar sanitario "
                                                   style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                                    <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" immediate="false" actionListener="#{oficinaBean.cerrarPop(event)}"

                                                     style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
                                </h:panelGrid>
                                <h:panelGrid columns="2"  rendered="#{oficinaBean.modificarPop}">                                
                                    <h:outputText  value="Modificar sanitario "
                                                   style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                                    <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" actionListener="#{oficinaBean.cerrarPop(event)}"

                                                     style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
                                </h:panelGrid>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid columns="2">
                                    <h:outputText value="Oficina"/>
                                    <p:inputText  value="#{sesion.oficinaActual.nombre}" disabled="true"/>                                    
                                    <h:outputText value="Nombre *"/>
                                    <p:inputText id="textNombre" value="#{oficinaBean.sgSanitario.nombre}"/>
                                    <h:outputText value="Sexo *"/>
                                    <p:selectOneRadio value="#{oficinaBean.sgSanitario.sexo}" required="true" requiredMessage="Es necesario elejir una opción">
                                        <f:selectItem itemLabel="Hombre" itemValue="M"/>
                                        <f:selectItem itemLabel="Mujer"  itemValue="F"/>
                                    </p:selectOneRadio>
                                    <h:panelGrid rendered="#{oficinaBean.crearPop}">
                                        <p:commandLink value="Guardar" styleClass="btn btn-info" actionListener="#{oficinaBean.guardarOficinaSanitario(event)}"/>
                                    </h:panelGrid>
                                    <h:panelGrid rendered="#{oficinaBean.modificarPop}">
                                        <p:commandLink value="Actualizar" styleClass="btn btn-info" actionListener="#{oficinaBean.completarModificacioOficinaSanitario(event)}"/>
                                    </h:panelGrid>
                                    <p:commandLink value="Cancelar" styleClass="btn btn-default" actionListener="#{oficinaBean.cerrarPop(event)}"/>
                                </h:panelGrid>
                                <center><h:messages errorClass="errorMessage" infoClass="infoMessage"/></center>
                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!--Caracteristicas Sanitario-->
                <h:form id="formCaracteristicasSanitario" >
                    <p:dialog   style="background: #FFFFFF;" visible="#{sesion.controladorPopups['popupCaracteristicasSanitario']}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup> 
                                <h:outputText  value="Agregar características a Sanitario"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <center><h:messages id="msgCaracteristicas" errorClass="errorMessage" infoClass="infoMessage"/></center>
                                <h:panelGrid columns="1">
                                    <h:panelGrid columns="2">
                                        <h:outputLabel value="Oficina: " />
                                        <h:outputText id="nombreStaff" value="#{sesion.oficinaActual.nombre}" style="width: 200px" styleClass="f11" />
                                    </h:panelGrid>

                                    <h:panelGrid columns="1" styleClass="bordePanelGrid" >

                                        <h:panelGrid columns="3"  >
                                            <h:outputText value="Cantidad" />
                                            <h:outputText value="Nombre" />
                                            <h:outputText value="" />
                                            <p:inputText value="#{oficinaBean.cantidadCaracteristica}" style="width: 40px" />
                                            <p:selectOneMenu id="sinTxtCaracteristica"
                                                             value="#{oficinaBean.sgCaracteristicaOficina.nombre}"
                                                             >
                                                <f:selectItems value="#{oficinaBean.matchesList}"/>
                                                <f:facet name="selectInputText">
                                                    <h:outputText id="outTxtCaracteristica" value="#{varCaracteristica}"/>
                                                </f:facet>
                                            </p:selectOneMenu>
                                            <p:commandLink value="+" title="Agregar" actionListener="#{oficinaBean.addCaracteristicaSanitario(actionEvent)}" styleClass="btn btn-default" />
                                        </h:panelGrid> 

                                        <br />

                                        <h:panelGrid  >
                                            <h:outputLabel value="Características asignadas al Sanitario #{oficinaBean.sgSanitario.nombre}: " />

                                            <p:dataTable showGridlines="true" size="small"  id="dtSan"
                                                         value="#{oficinaBean.mapaLista.get('sanitario')}"
                                                         var="data"
                                                         scrollable="true"
                                                         scrollHeight="300px"  >
                                                <p:column>
                                                    <f:facet name="header" >
                                                        <h:outputText value="Cantidad" />
                                                    </f:facet>
                                                    <h:outputText value="#{data.cantidad}" />
                                                </p:column>                                     
                                                <p:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Nombre"/>
                                                    </f:facet>
                                                    <h:outputText value="#{data.nombre}" />
                                                </p:column>
                                                <p:column>
                                                    <h:commandLink value = "Quitar" action="#{oficinaBean.removeCaracteristicaSanitario(actionEvent)}" styleClass="link" />
                                                </p:column>
                                            </p:dataTable>    
                                        </h:panelGrid>
                                    </h:panelGrid>
                                </h:panelGrid>
                                <center>
                                    <p:commandButton value="#{msgs['sistema.cerrar']}" actionListener="#{oficinaBean.closePopupCaracteristicasSanitario(actionEvent)}" styleClass="btn btn-default"/>
                                </center>                                 
                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!--Detalle Sanitario-->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" visible="#{sesion.controladorPopups['popupDetalleSanitario']}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup> 
                                <h:outputText  value="Detalle del Sanitario"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid>
                                    <h:panelGrid columns="2">
                                        <h:outputText value="Oficina"/> 
                                        <p:inputText value="#{sesion.oficinaActual.nombre}" disabled="true"/>
                                        <h:outputText value="Sanitario"/> 
                                        <p:inputText value="#{oficinaBean.sgSanitario.nombre}" disabled="true"/>                                
                                        <h:outputText value="Sexo"/> 
                                        <p:inputText value="#{oficinaBean.sgSanitario.sexo}" disabled="true"/>                                
                                    </h:panelGrid>
                                    <p:dataTable id="dataGridDetalleCaracteristicasComedor" 
                                                 value="#{oficinaBean.mapaLista.get('sanitario')}" 
                                                 var="data">
                                        <p:column>
                                            <f:facet name="header" >
                                                <h:outputText value="Cantidad" />
                                            </f:facet>
                                            <h:outputText value="#{data.cantidad}" />
                                        </p:column>                                     
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="Nombre"/>
                                            </f:facet>
                                            <h:outputText value="#{data.nombre}" />
                                        </p:column>
                                    </p:dataTable>
                                </h:panelGrid>
                                <center>
                                    <p:commandLink value="#{msgs['sistema.cerrar']}" styleClass="btn btn-default" actionListener="#{oficinaBean.closePopUpDetalleSanitario(event)}"/>
                                </center>                                
                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!-- Características Generales de Oficina-->
                <h:form id="formCaracteristicasGeneralesOficina" >
                    <p:dialog   style="background: #FFFFFF;" visible="#{sesion.controladorPopups['popupCaracteristicasOficina']}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup>
                                <h:outputText  value="Agregar característica oficina"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <center><h:messages id="msgCaracteristicas" errorClass="errorMessage" infoClass="infoMessage"/></center>
                                <h:panelGrid columns="1">
                                    <h:panelGrid columns="2">
                                        <h:outputLabel value="Oficina: " />
                                        <h:outputText id="nombreOficina" value="#{sesion.oficinaActual.nombre}" style="width: 200px" styleClass="f11" />
                                    </h:panelGrid>

                                    <h:panelGrid columns="1" styleClass="bordePanelGrid" >

                                        <h:panelGrid columns="3"  >
                                            <h:outputText value="Cantidad" />
                                            <h:outputText value="Nombre" />
                                            <h:outputText value="" />
                                            <p:inputText value="#{oficinaBean.cantidadCaracteristica}" style="width: 40px" />
                                            <p:selectOneMenu id="sinTxtCaracteristica"
                                                             value="#{oficinaBean.sgCaracteristicaOficina.nombre}"
                                                             >
                                                <f:selectItems value="#{oficinaBean.matchesList}"/>
                                                <f:facet name="selectInputText">
                                                    <h:outputText id="outTxtCaracteristica" value="#{varCaracteristica}"/>
                                                </f:facet>
                                            </p:selectOneMenu>
                                            <p:commandLink value="+" title="Agregar" actionListener="#{oficinaBean.addCaracteristicaOficina(actionEvent)}" styleClass="btn btn-default" />
                                        </h:panelGrid> 

                                        <br />

                                        <h:panelGrid  >
                                            <h:outputLabel value="Características asignadas a la Oficina #{sesion.oficinaActual.nombre}: " />

                                            <p:dataTable showGridlines="true" size="small"  id="dtCara"
                                                         value="#{oficinaBean.mapaLista.get('caracteristica_oficina')}"
                                                         var="data"
                                                         scrollable="true"
                                                         scrollHeight="300px" >
                                                <p:column>
                                                    <f:facet name="header" >
                                                        <h:outputText value="Cantidad" />
                                                    </f:facet>
                                                    <h:outputText value="#{data.cantidad}" />
                                                </p:column>                                     
                                                <p:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Nombre"/>
                                                    </f:facet>
                                                    <h:outputText value="#{data.nombre}" />
                                                </p:column>
                                                <p:column>
                                                    <h:commandLink value = "Quitar" action="#{oficinaBean.removeCaracteristicaOficina(actionEvent)}" styleClass="link" />
                                                </p:column>
                                            </p:dataTable>    
                                        </h:panelGrid>
                                    </h:panelGrid>
                                </h:panelGrid>

                                <center>
                                    <p:commandButton value="#{msgs['sistema.cerrar']}" actionListener="#{oficinaBean.closePopupCaracteristicasOficina(actionEvent)}" styleClass="btn btn-default"/>
                                </center>                                

                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!--Agregar Contrato -->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" 
                                visible="#{oficinaBean.agregarPopContrato}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup > 
                                <h:outputText  value="Agregar convenio"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid columns="2">
                                    <h:outputText value="Proveedor"/>
                                    <p:selectOneMenu id="prov"  
                                                     value="#{oficinaBean.pro}" valueChangeListener="#{oficinaBean.proveedorListener}"
                                                     >
                                        <f:selectItems value="#{oficinaBean.listaProveedor}"/>
                                        <f:facet name="selectInputText">
                                            <h:outputText id="autoCompleteDatos" value="#{prov}"/>
                                        </f:facet>
                                    </p:selectOneMenu>                                   
                                </h:panelGrid>   
                                <h:panelGrid >
                                    <center><h:messages errorClass="errorMessage" infoClass="infoMessage"/></center>
                                    <p:dataTable showGridlines="true" size="small"  id="dtCon" value="#{oficinaBean.traerConvenioPorProveedor}" var="c" rows="7" >
                                        <f:facet name="header"><h:outputText value="Lista de convenios"/> </f:facet>                                    
                                        <p:column>
                                            <f:facet name="header"><h:outputText value="Código"/></f:facet>
                                            <h:outputText value="#{c.codigo}"/>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header"><h:outputText value="Inicio"/></f:facet>
                                            <h:outputText value="#{c.fechaInicio}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header"><h:outputText value="Fin"/></f:facet>
                                            <h:outputText value="#{c.fechaVencimiento}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                        <p:column>
                                            <center>
                                                <p:commandLink value="Seleccionar" styleClass="link" actionListener="#{oficinaBean.asignarContratoOficina(event)}"
                                                               onclick="if (!confirm('La operación va a asignar el convenio, si hay alguno ya asignado se pasará al historial, ¿está seguro?'))
                                                                           return false;"/>
                                            </center>
                                        </p:column>
                                    </p:dataTable>  
                                </h:panelGrid>
                                <br/>
                                <center>
                                    <h:panelGrid>
                                        <p:commandLink value="Cerrar" styleClass="btn btn-default" actionListener="#{oficinaBean.cerrarPopAgregarContrato(event)}" immediate="true"/>
                                    </h:panelGrid>
                                </center>
                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!-- Eliminar Ralacion Convenio Oficina -->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" visible="#{sesion.controladorPopups['popupEliminarConvenio']}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup > 
                                <h:outputText  value="Eliminar relación entre el convenio y la oficina"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid columns="3">
                                    <h:outputText value="La operación va a eliminar la relación entre la Oficina y el convenio"/>
                                    <h:outputText value="#{oficinaBean.sgHistorialConvenioOficina.convenio.codigo}" style="font-weight: bold;"/>
                                    <h:outputText value=", ¿está seguro?"/>
                                </h:panelGrid><br/>
                                <center>
                                    <h:panelGrid columns="2" cellspacing="8">
                                        <p:commandLink value="Aceptar" actionListener="#{oficinaBean.completarEliminarConvenioOficina(event)}" styleClass="btn btn-info"/>
                                        <p:commandLink value="Cancelar" actionListener="#{oficinaBean.closePopupEliminarRelacionContrato(event)}" styleClass="btn btn-default"/>
                                    </h:panelGrid>
                                </center>
                            </h:panelGroup> 
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!--Ver historial convenio oficina-->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" visible="#{oficinaBean.verDetallePop and oficinaBean.sgHistorialConvenioOficina != null}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup> 
                                <h:outputText  value="Historial de convenios oficina"
                                               style="float: left; padding: 4px;text-align: center;
                                               vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                                <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" 
                                                 immediate="true" actionListener="#{oficinaBean.cerrarPopHistorial(event)}"

                                                 style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid>
                                    <p:dataTable showGridlines="true" size="small"  id="dtCon" value="#{oficinaBean.traerHistorialConvenio}" var="c" rows="7" >
                                        <f:facet name="header"><h:outputText value="Lista de convenios"/> </f:facet>                                    
                                        <p:column>
                                            <f:facet name="header"><h:outputText value="Proveedor"/></f:facet>
                                            <h:outputText value="#{c.convenio.proveedor.nombre}"/>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header"><h:outputText value="Código"/></f:facet>
                                            <h:outputText value="#{c.convenio.codigo}"/>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header"><h:outputText value="Inicio"/></f:facet>
                                            <h:outputText value="#{c.convenio.fechaInicio}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header"><h:outputText value="Fin"/></f:facet>
                                            <h:outputText value="#{c.convenio.fechaVencimiento}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>                                      
                                        <p:column style="text-align: center;">
                                            <f:facet name="header"><h:outputText value="Vigente"/></f:facet>                                            
                                            <h:graphicImage rendered="#{c.vigente eq 'True'}" url="#{msgs['sgl.ruta.imagen']}icon_good.png" styleClass="sinBorde"/>
                                        </p:column>
                                        <p:column>
                                            <center>
                                                <p:commandLink value="Datos del convenio" actionListener="#{oficinaBean.abrirAdjuntoConvenioHistorial(event)}" styleClass="link"/>
                                            </center>
                                        </p:column>
                                    </p:dataTable>
                                    <br/>
                                </h:panelGrid>
                                <h:panelGrid>
                                    <h:panelGrid columns="8">
                                        <h:panelGrid >                                        
                                            <h:outputText value="No. convenio"/>
                                            <h:outputLabel value="#{oficinaBean.convenio.codigo}"/>
                                        </h:panelGrid>
                                        <h:panelGrid >
                                            <h:outputText value="Proveedor"/>
                                            <h:outputLabel value="#{oficinaBean.convenio.proveedor.nombre}"/>
                                        </h:panelGrid>
                                        <h:panelGrid >                                        
                                            <h:outputText value="Inicio"/>
                                            <h:outputLabel value="#{oficinaBean.convenio.fechaInicio}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputLabel>
                                        </h:panelGrid>   
                                        <h:panelGrid>
                                            <h:outputText value="Fin"/>
                                            <h:outputLabel value="#{oficinaBean.convenio.fechaVencimiento}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputLabel>
                                        </h:panelGrid>
                                        <h:panelGrid >                                                                                
                                            <h:outputText value="Monto"/>
                                            <h:outputLabel value="#{oficinaBean.convenio.monto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputLabel>
                                        </h:panelGrid>
                                        <h:panelGrid>
                                            <h:outputText value="Moneda"/>
                                            <h:outputLabel value="#{oficinaBean.convenio.moneda.siglas}"/>
                                        </h:panelGrid>
                                    </h:panelGrid>
                                </h:panelGrid>
                                <p:dataTable showGridlines="true" size="small"  id="dtConArc" value="#{oficinaBean.traerAdjuntoContrato}" var="a" rows="7" >
                                    <f:facet name="header"><h:outputText value="Lista de archivos"/> </f:facet>                                    
                                    <p:column>
                                        <f:facet name="header"><h:outputText value="Archivo"/></f:facet>
                                        <h:outputText value="#{a.nombre}"/>
                                    </p:column>
                                    <p:column>
                                        <h:outputLink target="_blank"  value="/ServiciosGenerales/AbrirArchivo?ZWZ2W=#{a.id}&amp;ZWZ3W=#{a.uuid}">
                                            <center><h:graphicImage url="#{msgs['sgl.ruta.imagen']}icon_attach.gif"  alt="Abrir archivo" styleClass="imagenSinBorde"/></center>
                                        </h:outputLink>
                                    </p:column>   
                                </p:dataTable>
                                <br/>
                                <center>
                                    <h:panelGrid>
                                        <p:commandLink value="Cerrar" styleClass="btn btn-default" actionListener="#{oficinaBean.cerrarPopHistorial(event)}"/>
                                    </h:panelGrid>                                        
                                </center>
                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>



                <!--Abrir pop para subir plano-->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" visible="#{oficinaBean.subirArchivo and oficinaBean.sgOficinaPlano != null}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup > 
                                <h:outputText  value="Abrir archivo convenio en el historial"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid columns="5">
                                    <h:outputText value="Archivos"/>
                                    <p:fileUpload   id="fileEntryPlano"
                                                    listener="#{oficinaBean.subirPlanoOficina}" 
                                                    />
                                    <p:commandLink value="Cancelar" 
                                                   styleClass="btn btn-default" 
                                                   actionListener="#{oficinaBean.cerrarPopSubirArchivoPlano(event)}" 
                                                   immediate="true"/>
                                </h:panelGrid>
                            </h:panelGroup>
                        </f:facet>
                    </p:dialog >
                </h:form>

                <!-- Eliminar plano a oficina -->
                <h:form >
                    <p:dialog   style="background: #FFFFFF;" visible="#{oficinaBean.eliminarPop and oficinaBean.sgOficinaPlano != null}"
                                draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup > 
                                <h:outputText  value="Eliminar el plano la oficina"
                                               style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="body">
                            <h:panelGroup>
                                <h:panelGrid columns="2">
                                    <h:outputText value="La operación va a eliminar el plano de la oficina"/>
                                    <h:outputText value=", ¿está seguro?"/>
                                </h:panelGrid><br/>
                                <center>
                                    <h:panelGrid columns="2" cellspacing="8">
                                        <p:commandLink value="Aceptar" actionListener="#{oficinaBean.completarEliminarPlano(event)}" styleClass="btn btn-info"/>
                                        <p:commandLink value="Cancelar" actionListener="#{oficinaBean.cerrarPopEliminar(event)}" styleClass="btn btn-default"/>
                                    </h:panelGrid>
                                </center>
                            </h:panelGroup> 
                        </f:facet>
                    </p:dialog >
                </h:form>
            </ui:define>
        </ui:composition>
    </body>
</html>
