<ui:composition xmlns="http://www.w3.org/1999/xhtml"
		xmlns:p="http://primefaces.org/ui"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		
		xmlns:c="http://java.sun.com/jsp/jstl/core">
    <div class="modal fade" id="dialogoAgregarAccesorio" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Agregar accesorio</h4>
                </div>
                <h:form id="frmAgregarAccesorio">
                    <div class="modal-bodycard panel-body">
			<h:messages infoClass="textoMensajeError"/>
			<div class="input-group">
			    <div class="form-group col-lg-8">                           
				<h:outputText class="col-lg-3 control-label text-left" value="Proveedor*"/>
				<div class="col-lg-8">
				    <p:inputText id="autocomplete" size="40"         styleClass="form-control"   
						   onclick="autocompletar(this, 'hidenDes', 'frmAgregarAccesorio');">
				    </p:inputText>
				    <h:inputHidden id="hidenDes" value="#{accesorioBean.accesorioVo.idProveedor}" />  
				</div>
			    </div>
			    <div class="form-group col-lg-8">                           
				<h:outputText class="col-lg-3 control-label text-left" value="Tipo"/>
				<div class="col-lg-8">
				    <p:selectOneMenu styleClass="form-control"    value="#{accesorioBean.accesorioVo.idTipoEspecifico}" >
					<f:selectItem itemLabel="Seleccione . . ." itemValue="-1"/>
					<f:selectItems value="#{accesorioBean.listaTipoEspecifico}"/>
				    </p:selectOneMenu>
				</div>
			    </div>

			    <div class="form-group col-lg-8">                           
				<h:outputText class="col-lg-3 control-label text-left" value="Marca*"/>
				<div class="col-lg-8">
				    <div class="col-lg-10">
					<p:selectOneMenu styleClass="form-control"    value="#{accesorioBean.accesorioVo.idMarca}"
							   valueChangeListener="#{accesorioBean.cambiarMarca}"
							   >
					    <f:selectItem itemLabel="Seleccione . . ." itemValue="-1"/>
					    <f:selectItems value="#{accesorioBean.listaMarca}"/>   
					</p:selectOneMenu>
				    </div>
				    <div class="col-lg-2">
					<p:commandLink value="+" styleClass="btn btn-default" 
							 onclick="return $(dialogoAgregarMarca).modal('show');"
							 rendered="#{accesorioBean.accesorioVo.idTipoEspecifico gt 0}"/>
				    </div>
				</div>
			    </div>

			    <div class="form-group col-lg-8">                           
				<h:outputText class="col-lg-3 control-label text-left" value="Modelo*"/>
				<div class="col-lg-8">
				    <div class="col-lg-10">
					<p:selectOneMenu id="modelo" styleClass="form-control"    value="#{accesorioBean.accesorioVo.idModelo}">
					    <f:selectItem itemLabel="Seleccione . . ." itemValue="-1"/>
					    <f:selectItems value="#{accesorioBean.listaModelo}"/>   
					</p:selectOneMenu>    
				    </div>
				    <div class="col-lg-2">
					<p:commandLink value="+" styleClass="btn btn-default" 
							 onclick="return $(dialogoAgregarModelo).modal('show');"
							 rendered="#{accesorioBean.accesorioVo.idTipoEspecifico gt 0}"/>
				    </div>
				</div>
			    </div>

			    <div class="form-group col-lg-8">                           
				<h:outputText class="col-lg-3 control-label text-left" value="Concidición*"/>
				<div class="col-lg-8">
				    <p:selectOneMenu styleClass="form-control"    value="#{accesorioBean.accesorioVo.idCondicion}">
					<f:selectItem itemLabel="Seleccione . . ." itemValue="-1"/>
					<f:selectItems value="#{accesorioBean.listaCondicion}"/>
				    </p:selectOneMenu>
				</div>
			    </div>
			    <div class="form-group col-lg-8">                           
				<h:outputText class="col-lg-3 control-label text-left" value="Sistema*"/>
				<div class="col-lg-8">
				    <p:inputText styleClass="form-control"    value="#{accesorioBean.accesorioVo.sistemaOperativo}" />
				</div>
			    </div>
			    <div class="form-group col-lg-8">                           
				<h:outputText class="col-lg-3 control-label text-left" value="Serie*"/>
				<div class="col-lg-8">
				    <p:inputText value="#{accesorioBean.accesorioVo.serie}" styleClass="form-control"   />
				</div>
			    </div>
			    <div class="form-group col-lg-8">                           
				<h:outputText class="col-lg-3 control-label text-left" value="Garantia*"/>
				<div class="col-lg-8">
				    <p:selectBooleanCheckbox value="#{accesorioBean.accesorioVo.garantia}" styleClass="form-control"   >

				    </p:selectBooleanCheckbox>
				</div>
			    </div>
			    <div class="form-group col-lg-8">                           
				<h:outputText class="col-lg-3 control-label text-left" value="Vencimiento*"/>
				<div class="col-lg-8">
				    <p:datePicker  value="#{accesorioBean.accesorioVo.fechaVencimiento}" 
							timeZone="America/Monterrey"
							pattern="dd/MM/yyyy"/>

				</div>
			    </div>
			    <div class="form-group col-lg-8">                           
				<h:outputText class="col-lg-3 control-label text-left" value="Adquirido*"/>
				<div class="col-lg-8">
				    <p:datePicker value="#{accesorioBean.accesorioVo.fechaAdquisicion}"  pattern="dd/MM/yyyy" 
						       timeZone="America/Monterrey"/>
				</div>
			    </div>
			    <div class="form-group col-lg-8">                           
				<h:outputText class="col-lg-3 control-label text-left" value="Descripcion*"/>
				<div class="col-lg-8">
				    <p:inputTextarea value="#{accesorioBean.accesorioVo.descripcion}" cols="65"
						       required="true" requiredMessage="Agregue la descripcion"/>
				</div>
			    </div>
			</div>                            
		    </div>
                    <div class="modal-footer">
			<p:commandLink value="Guardar" styleClass="btn btn-info" actionListener="#{accesorioBean.guardarAccesorio(event)}"/>
			<p:commandLink value="Cancelar" styleClass="btn btn-default" 
					 actionListener="#{accesorioBean.cancelarAccesorio(event)}"
					 onclick="$(dialogoAgregarAccesorio).modal('hide');"/>
                    </div>
                </h:form>
	    </div>
	</div>
    </div>
    <!--Agregar Modelo de accesorio-->
    <div class="modal fade" id="dialogoAgregarModelo" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Agregar Modelo</h4>
                </div>
                <h:form id="frmAgregarModelo">
                    <div class="modal-bodycard panel-body">
			<div class="form-group col-lg-8">                           
			    <h:outputText class="col-lg-3 control-label text-left" value="Modelo: *"/>
			    <div class="col-lg-8">
				<p:inputText value="#{accesorioBean.accesorioVo.modelo}" size="30" styleClass="form-control"   />
			    </div>
			</div>
		    </div>
		    <div class="modal-footercard panel-footer">
			<p:commandLink value="Guardar" styleClass="btn btn-info" actionListener="#{accesorioBean.guardarModelo(event)}"/>
			<p:commandLink value="Cancelar" styleClass="btn btn-default" 
					 onclick="return $(dialogoAgregarModelo).modal('hide');"/>
		    </div>
		</h:form>
	    </div>
	</div>
    </div>

    <!--Agregar Modelo de accesorio-->
    <div class="modal fade" id="dialogoAgregarMarca" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Agregar Marca</h4>
                </div>
                <h:form id="frmAgregarMarca">
                    <div class="modal-bodycard panel-body">

			<div class="form-group col-lg-8">                           
			    <h:outputText class="col-lg-3 control-label text-left" value="Marca: *"/>
			    <div class="col-lg-8">
				<p:inputText value="#{accesorioBean.accesorioVo.marca}" size="30" styleClass="form-control"   />
			    </div>
			</div>

		    </div>
		    <div class="modal-footercard panel-footer">
			<p:commandLink value="Guardar" styleClass="btn btn-info" actionListener="#{accesorioBean.agragarMarca(event)}"/>
			<p:commandLink value="Cancelar" styleClass="btn btn-default" 
					 onclick="return $(dialogoAgregarMarca).modal('hide');"/>
		    </div>
		</h:form>
	    </div>
	</div>
    </div>
    <!--h:form id="formRecibir" >
                    <p:dialog   id="popup1" style="background: #FFFFFF;" visible="#{accesorioBean.recibirPop and accesorioBean.sgAsignarAccesorio != null}"
                                    draggable="false" modal="true">
                        <f:facet name="header">
                            <h:panelGroup>
                                <h:outputText  value="Recibir accesorio"
                                                 style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
                                <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" immediate="false" actionListener="#{accesorioBean.cerrarPopRecibir(event)}"
                                                   
                                                   style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet id="facet1" name="body">
                            <h:panelGroup id="card Group1" >
                                <h:panelGrid columns="2">
                                    <h:outputText value="Usuario"/>
                                    <h:outputLabel value="#{accesorioBean.sgAsignarAccesorio.usuario.nombre}"/>
                                    <h:outputText value="Fecha"/>
                                    <h:outputText value="#{accesorioBean.sgAsignarAccesorio.fechaOperacion}">
                                        <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Monterrey"/>
                                    </h:outputText>
                                    <h:outputText value="Concidición"/>
                                    <p:selectOneMenu value="#{accesorioBean.idCondicion}">
                                        <f:selectItem itemLabel="Seleccione . . ." itemValue="-1"/>
                                        <f:selectItems value="#{accesorioBean.listaCondicion}"/>
                                    </p:selectOneMenu>                                    
                                </h:panelGrid>
                                <center>
                                    <h:panelGrid columns="2" cellspacing="10" >
                                        <p:commandLink value="Guardar" styleClass="btn btn-info" actionListener="#{accesorioBean.recibirAccesorio(event)}"/> 
                                        <p:commandLink value="Cancelar" styleClass="btn btn-default" actionListener="#{accesorioBean.cerrarPopRecibir(event)}"/> 
                                    </h:panelGrid>
                                </center>
                            </h:panelGroup>
                        </f:facet>
                    </<p:dialog >
                </h:form-->

    <!--Adjuntar archivos pago de servicios-->
    <!--h:form id="formComprobantePagoServicio" >
	<p:dialog   id="popup1" style="background: #FFFFFF;" visible="#{accesorioBean.subirArchivo and accesorioBean.sgAsignarAccesorio != null}"
			draggable="false" modal="true">
	    <f:facet name="header">
		<h:panelGroup>
		    <h:outputText  value="Adjuntar carta"
				     style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
		    <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" immediate="false" actionListener="#{accesorioBean.cerrarPopSubirArchivo(event)}"
				       
				       style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
		</h:panelGroup>
	    </f:facet>
	    <f:facet id="facet1" name="body">
		<h:panelGroup id="card Group1" >
		    
		</h:panelGroup>
	    </f:facet>
	</<p:dialog >
    </h:form-->


    <!--Asignar acccesorio-->
    <!--h:form >
	<p:dialog   style="background: #FFFFFF;" visible="#{accesorioBean.popUp and accesorioBean.sgAsignarAccesorio != null}"
			draggable="false" modal="true">
	    <f:facet name="header">
		<h:panelGroup > 
		    <h:outputText  value="Asignar accesorio" 
				     style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
		    <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" immediate="false" 
				       actionListener="#{accesorioBean.cancelarAsignarAccesorio(event)}"
				       
				       style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
		</h:panelGroup>
	    </f:facet>
	    <f:facet name="body">
		<h:panelGroup>
		    <h:messages infoClass="textoMensajeError"/>
		    <h:outputText value="Datos generales" styleClass="tituloAdministra"/>
		    <h:panelGrid columns="6">
			<h:panelGrid >                                    
			    <h:outputText value="Modelo"/>
			    <h:outputLabel value="#{accesorioBean.sgAccesorio.sgModelo.nombre}"/>
			</h:panelGrid>
			<h:panelGrid >
			    <h:outputText value="Marca"/>
			    <h:outputLabel value="#{accesorioBean.sgAccesorio.sgMarca.nombre}"/>
			</h:panelGrid>
			<h:panelGrid >
			    <h:outputText value="Nombre"/>
			    <h:outputLabel value="#{accesorioBean.sgAccesorio.sgNombreAccesorio.nombre}"/>
			</h:panelGrid>
			<h:panelGrid >
			    <h:outputText value="Serie"/>
			    <h:outputLabel value="#{accesorioBean.sgAccesorio.serie}"/>
			</h:panelGrid>
			<h:panelGrid >
			    <h:outputText value="Garantia"/>
			    <h:outputLabel value="#{accesorioBean.sgAccesorio.garantia eq 'True'?'Si':'No'}"/>
			</h:panelGrid>
		    </h:panelGrid>
		    <h:panelGrid columns="2">
			<h:outputText value="Usuario"/>
			<ice:selectInputText id="userSelect" immediate="true" 
					     listVar="analista"
					     width="205" listValue="#{accesorioBean.listaUsuario}"
					     value="#{accesorioBean.user}" 
					     valueChangeListener="#{accesorioBean.usuarioListener}"
					     actionListener="#{accesorioBean.buscarUsuario(event)}">
			    <f:facet name="selectInputText">
				<h:panelGrid columns="2" style="margin-bottom: 2px;">
				    <h:outputText id="autoCompleteUsurOp" value="#{analista.nombre}" />
				</h:panelGrid>
			    </f:facet>
			</ice:selectInputText>   
			<h:outputText value="Fecha "/>
			<ice:selectInputDate   value="#{accesorioBean.sgAsignarAccesorio.fechaOperacion}">
			    <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Monterrey"/>
			</ice:selectInputDate>
			<h:outputText value="Concidición"/>
			<p:selectOneMenu value="#{accesorioBean.idCondicion}">
			    <f:selectItem itemLabel="Seleccione . . ." itemValue="-1"/>
			    <f:selectItems value="#{accesorioBean.listaCondicion}"/>
			</p:selectOneMenu>                                    
		    </h:panelGrid>
		    <center>
			<h:panelGrid columns="2" cellspacing="10">
			    <p:commandLink value="Guardar" styleClass="btn btn-info" actionListener="#{accesorioBean.guardarAsignarAccesorio(event)}"/> 
			    <p:commandLink value="Cancelar" styleClass="btn btn-default" actionListener="#{accesorioBean.cancelarAsignarAccesorio(event)}"/> 
			</h:panelGrid>
		    </center>
		</h:panelGroup>
	    </f:facet>
	</<p:dialog >
    </h:form-->

    <!--modificar recepcion de acccesorio -->
    <!--h:form >
	<p:dialog   style="background: #FFFFFF;" visible="#{accesorioBean.modificarPop and accesorioBean.sgAsignarAccesorioRecibido != null}"
			draggable="false" modal="true">
	    <f:facet name="header">
		<h:panelGroup > 
		    <h:outputText  value="Modificar recepción de accesorio" 
				     style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
		    <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" immediate="false" 
				       actionListener="#{accesorioBean.cancelarRecepcionAccesorio(event)}"
				       
				       style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
		</h:panelGroup>
	    </f:facet>
	    <f:facet name="body">
		<h:panelGroup>
		    <h:messages infoClass="textoMensajeError"/>
		    <h:outputText value="Datos generales" styleClass="tituloAdministra"/>
		    <h:panelGrid columns="6">
			<h:panelGrid >                                    
			    <h:outputText value="Modelo"/>
			    <h:outputLabel value="#{accesorioBean.sgAccesorio.sgModelo.nombre}"/>
			</h:panelGrid>
			<h:panelGrid >
			    <h:outputText value="Marca"/>
			    <h:outputLabel value="#{accesorioBean.sgAccesorio.sgMarca.nombre}"/>
			</h:panelGrid>
			<h:panelGrid >
			    <h:outputText value="Nombre"/>
			    <h:outputLabel value="#{accesorioBean.sgAccesorio.sgNombreAccesorio.nombre}"/>
			</h:panelGrid>
			<h:panelGrid >
			    <h:outputText value="Serie"/>
			    <h:outputLabel value="#{accesorioBean.sgAccesorio.serie}"/>
			</h:panelGrid>
			<h:panelGrid >
			    <h:outputText value="Garantia"/>
			    <h:outputLabel value="#{accesorioBean.sgAccesorio.garantia eq 'True'?'Si':'No'}"/>
			</h:panelGrid>
		    </h:panelGrid>
		    <h:panelGrid columns="2">
			<h:outputText value="Usuario"/>
			<h:outputLabel value="#{accesorioBean.sgAsignarAccesorioRecibido.usuario.nombre}"/>
			<h:outputText value="Concidición"/>
			<h:outputLabel value="#{accesorioBean.sgAsignarAccesorioRecibido.siCondicion.nombre}"/> 
			<h:outputText value="Fecha "/>
			<ice:selectInputDate   value="#{accesorioBean.sgAsignarAccesorioRecibido.fechaOperacion}">
			    <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Monterrey"/>
			</ice:selectInputDate>                                  
		    </h:panelGrid>
		    <center>
			<h:panelGrid columns="2" cellspacing="10">
			    <p:commandLink value="Guardar" styleClass="btn btn-info" actionListener="#{accesorioBean.modificarRecepcionAccesorio(event)}"/> 
			    <p:commandLink value="Cancelar" styleClass="btn btn-default" actionListener="#{accesorioBean.cancelarMoficiarRecepcionAccesorio(event)}"/> 
			</h:panelGrid>
		    </center>
		</h:panelGroup>
	    </f:facet>
	</<p:dialog >
</h:form-->

    <!--ver detalle de la  recepcion de acccesorio -->
    <!--h:form >
	<p:dialog   style="background: #FFFFFF;" visible="#{accesorioBean.verDetallePop and accesorioBean.sgAsignarAccesorio != null}"
			draggable="false" modal="true">
	    <f:facet name="header">
		<h:panelGroup > 
		    <h:outputText  value="Detalle de la asignación de accesorio" 
				     style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
		    <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" immediate="false" 
				       actionListener="#{accesorioBean.cerrarDetalleAsigna(event)}"
				       
				       style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
		</h:panelGroup>
	    </f:facet>
	    <f:facet name="body">
		<h:panelGroup>
		    <h:panelGrid columns="4"  rendered="#{accesorioBean.sgAsignarAccesorio != null and accesorioBean.sgAsignarAccesorio.pertenece == 0}">
			<f:facet name="header">
			    <h:outputText value="Datos de la asignación" rendered="#{accesorioBean.sgAsignarAccesorio.pertenece == 0}"/>
			</f:facet>
			<h:panelGrid>
			    <h:outputText value="Usuario"/>
			    <h:outputText value="#{accesorioBean.sgAsignarAccesorio.usuario.nombre}"/>
			</h:panelGrid>
			<h:panelGrid>
			    <h:outputText value="Condición"/>
			    <h:outputText value="#{accesorioBean.sgAsignarAccesorio.siCondicion.nombre}"/>
			</h:panelGrid>
			<h:panelGrid>
			    <h:outputText value="Fecha"/>
			    <h:outputText value="#{accesorioBean.sgAsignarAccesorio.fechaOperacion}">
				<f:convertDateTime pattern="dd/MM/yyyy"/>
			    </h:outputText>
			</h:panelGrid>
			<h:panelGrid>
			    <h:outputText value="Carta"/>
			    <h:outputLink target="_blank"  value="/ServiciosGenerales/AbrirArchivo?ZWZ2W=#{accesorioBean.sgAsignarAccesorio.siAdjunto.id}&amp;ZWZ3W=#{accesorioBean.sgAsignarAccesorio.siAdjunto.uuid}" rendered="#{accesorioBean.sgAsignarAccesorio.siAdjunto != null}">
				<center><h:graphicImage url="#{msgs['sgl.ruta.imagen']}icon_attach.gif"  alt="Abrir archivo" rendered="#{accesorioBean.sgAsignarAccesorio.siAdjunto != null}"/></center>
			    </h:outputLink>
			</h:panelGrid>
		    </h:panelGrid>
		    <center>
			<h:panelGrid>
			    <p:commandLink styleClass="btn btn-default" value="Cerrar" actionListener="#{accesorioBean.cerrarDetalleAsigna(event)}"/>
			</h:panelGrid>
		    </center>
		</h:panelGroup>
	    </f:facet>
	</<p:dialog >
    </h:form-->

    <!--ver detalle de la  recepcion de acccesorio -->
    <!--h:form >
	<p:dialog   style="background: #FFFFFF;" visible="#{accesorioBean.verDetallePop and accesorioBean.sgAsignarAccesorioRecibido != null}"
			draggable="false" modal="true">
	    <f:facet name="header">
		<h:panelGroup > 
		    <h:outputText  value="Detalle de la recepción de accesorio" 
				     style="float: left; padding: 4px;text-align: center; vertical-align: middle;font: 11px;color: #484848; font-weight: bold;"/>
		    <p:commandButton title="Cerrar ventana" type="button" alt="Cerrar" immediate="false" 
				       actionListener="#{accesorioBean.cerrarDetalleAsigna(event)}"
				       
				       style="vertical-align: middle;margin: 4px;display: inline; float: right;"/>
		</h:panelGroup>
	    </f:facet>
	    <f:facet name="body">
		<h:panelGroup>                              
		    <h:panelGrid columns="4"  >
			<f:facet name="header">
			    <h:outputText value="Datos de la recepción" />
			</f:facet>
			<h:panelGrid>
			    <h:outputText value="Usuario"/>
			    <h:outputText value="#{accesorioBean.sgAsignarAccesorioRecibido.usuario.nombre}"/>
			</h:panelGrid>
			<h:panelGrid>
			    <h:outputText value="Condición"/>
			    <h:outputText value="#{accesorioBean.sgAsignarAccesorioRecibido.siCondicion.nombre}"/>
			</h:panelGrid>
			<h:panelGrid>
			    <h:outputText value="Fecha"/>
			    <h:outputText value="#{accesorioBean.sgAsignarAccesorioRecibido.fechaOperacion}">
				<f:convertDateTime pattern="dd/MM/yyyy"/>
			    </h:outputText>
			</h:panelGrid>
		    </h:panelGrid>
		</h:panelGroup>
		<center>
		    <p:commandLink value="Cerrar" actionListener="#{accesorioBean.cerrarDetalleRecepcion(event)}" styleClass="btn btn-default"/>
		</center>
	    </f:facet>
	</<p:dialog >
    </h:form-->   
</ui:composition>