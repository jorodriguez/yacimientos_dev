<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <body>
        <ui:composition template="./../../../WEB-INF/facelets/templates/templateServiciosGenerales.xhtml">
            <ui:define name="contenido">
                <h:panelGroup  rendered="#{empty sesion.usuario}" styleClass="altura">
                    <ui:include src="./../../../login.xhtml"/>
                </h:panelGroup> 
                <h:form >
                    <div class="row">
			<p class="tituloEncabezado"> Administrar accesorio #{accesorioBean.accesorioVo.descripcion}  </p>
		    </div>
		    <div class="col-lg-12 col-xs-12">
			<p:commandLink title="Regresar " action="/vistas/sgl/accesorio/catalogoAccesorio"
					 styleClass="btn btn-default">
			    <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_back.png" 
					      styleClass="imagenSinBorde"/>
			</p:commandLink>
			<p:commandLink value="Regresar" styleClass="linkPequenio" 
					 action="/vistas/sgl/accesorio/catalogoAccesorio"/>
		    </div>
		    <div class="row-fluid">
			<h:messages infoClass="textoMensajeError"/>
		    </div><hr/>
		    <div class="row-fluid">
			<div class="col-lg-4 col-xs-4 col-md-4">
			    <div class="card  card-primary">
				<div class="card -heading">
				    <h1 class="card -title">Datos generales</h1>
				</div>
				<div class="card-body">
				    <div class="col-lg-6 col-xs-6">
					<div class="row input-group">
					    <div class="row form-group">                           
						<h:outputText class="col-lg-4 control-label" value="Marca: "/>
						<div class="col-lg-8">
						    <h:outputLabel value="#{accesorioBean.accesorioVo.marca}"/>
						</div>
					    </div>
					    <div class="row form-group ">                           
						<h:outputText class="col-lg-4 control-label" value="Modelo: "/>
						<div class="col-lg-8">
						    <h:outputLabel value="#{accesorioBean.accesorioVo.modelo}"/>
						</div>
					    </div>
					    <div class="row form-group">                           
						<h:outputText class="col-lg-3 control-label" value="Desc.: "/>
						<div class="col-lg-8">
						    <h:outputLabel value="#{accesorioBean.accesorioVo.descripcion}"/>
						</div>
					    </div>
					</div>
				    </div>
				    <div class="col-lg-6 col-xs-6">
					<div class="row input-group">
					    <div class="row form-group">                           
						<h:outputText class="col-lg-3 control-label" value="Serie: "/>
						<div class="col-lg-8">
						    <h:outputLabel value="#{accesorioBean.accesorioVo.serie}"/>
						</div>
					    </div>
					    <div class="row form-group">                           
						<h:outputText class="col-lg-4 control-label" value="Garantia: "/>
						<div class="col-lg-8">
						    <h:outputLabel value="#{accesorioBean.accesorioVo.garantia ? 'Si':'No'}"/>
						</div>
					    </div>
					    <div class="row  form-group">                           
						<h:outputText class="col-lg-4 control-label" value="Compró: "/>
						<div class="col-lg-8">
						    <h:outputLabel value="#{accesorioBean.accesorioVo.fechaAdquisicion}">
							<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Monterrey"/>
						    </h:outputLabel>
						</div>
					    </div>
					</div>
				    </div>
				</div>
				<div class="card -footer" >
				    <small class="text-right" >
					<p:commandLink value="Modificar"
							 onclick="return $(dialogoModificarAccesorio).modal('show');"/>
				    </small>
				</div>
			    </div>

			</div>
			<!--style="border: 1px solid green;"-->
			<div class="col-lg-4 col-xs-4 col-md-4">
			    <div class="card  card-primary">
				<div class="card -heading">
				    <h1 class="card -title">Asignación (#{accesorioBean.accesorioVo.disponible ? 'Disponible' : 'No Disponible'})</h1>
				</div>
				<div class="card-body">
				    <div class="row input-group" >
					<div class="form-group col-lg-12">                           
					    <h:outputText class="col-lg-3 control-label text-left" value="Usuario:"/>
					    <div class="col-lg-8">
						<h:outputLabel value="#{accesorioBean.accesorioAsignadoVo.usuarioVO.nombre}"/>
					    </div>
					</div>
					<div class="form-group col-lg-12">                           
					    <h:outputText class="col-lg-3 control-label text-left" value="Asignado: "/>
					    <div class="col-lg-8">
						<h:outputLabel value="#{accesorioBean.accesorioAsignadoVo.fechaAsignacion}">
						    <f:convertDateTime pattern="dd/MM/yyyy"/>
						</h:outputLabel>
					    </div>
					</div>
					<div class="form-group col-lg-12">                           
					    <h:outputText class="col-lg-3 control-label text-left" value="Archivo:"/>
					    <div class="col-lg-8">
						<ui:fragment rendered="#{accesorioBean.accesorioAsignadoVo.adjuntoVO.id gt 0}">
						    <h:outputLink target="_blank"  
                                                                  value="/ServiciosGenerales/AbrirArchivo?ZWZ2W=#{accesorioBean.accesorioAsignadoVo.adjuntoVO.id}&amp;ZWZ3W=#{accesorioBean.accesorioAsignadoVo.adjuntoVO.uuid}"
								  style="color: blue;">
							<h:outputText value="#{accesorioBean.accesorioAsignadoVo.adjuntoVO.nombreUUID}"/>
						    </h:outputLink>
						    <p:commandLink value="Quitar" 
                                                                     styleClass="text-right" 
                                                                     actionListener="#{accesorioBean.eliminarCarta()}"
								     style="padding-left: 10%;"/>
						</ui:fragment>
						<ui:fragment rendered="#{accesorioBean.accesorioAsignadoVo.adjuntoVO.id eq 0}">
                                                    <p:fileUpload id="fileEntryAccesorio"
                                                                  listener="#{accesorioBean.subirCartaGenerada}" 
								   />
						</ui:fragment>
					    </div>

					</div>
				    </div>
				</div>
				<div class="card -footer" >
				    <ui:fragment rendered="#{accesorioBean.accesorioAsignadoVo.terminada eq 'True'}">
					<p:commandLink title="Asignar" value="Asignar" actionListener="#{accesorioBean.asignarAccesorio(event)}" />
				    </ui:fragment>
				    <ui:fragment rendered="#{accesorioBean.accesorioAsignadoVo.terminada eq 'False'}">
					<div class="form-group">
					    <div class="col-lg-6">
						<h:outputLink target="_blank"  value="/ServiciosGenerales/GeneraCarta?ALZY=#{accesorioBean.accesorioAsignadoVo.id}"  
								styleClass="link" > 
						    <h:outputText value="Genera carta" styleClass="link"/>
						</h:outputLink>
					    </div>
					    <div class="col-lg-4">
						<p:commandLink value="Recibir" actionListener="#{accesorioBean.recibirAccesorio(e)}"/>
					    </div>
					    <div class="col-lg-2">
						<p:commandLink value="Quitar" actionListener="#{accesorioBean.quitarAsignacion(e)}"/>
					    </div>
					</div>
				    </ui:fragment>
				</div>
			    </div>
			</div>
			<div class="col-lg-4 col-xs-4 col-md-4">
			    <div class="card  card-primary">
				<div class="card -heading">
				    <div class="form-group" >
					<div align="left" class="col-lg-4">
					    <h:outputText class="card -title" value="Linea"/>
					</div>
					<div align="right" class="col-lg-8">
					    <p:commandLink actionListener="#{accesorioBean.agregarLinea(event)}"
							     styleClass="btn btn-md">
						<i class="glyphicon glyphicon-plus" style="color: white;"/>
					    </p:commandLink>
					</div>
				    </div>

				</div>
				<div class="card-body">
				    <div class="row input-group">
					<div class="form-group col-lg-12">                           
					    <h:outputText class="col-lg-3 control-label text-left" value="Subcuenta: "/>
					    <div class="col-lg-8">
						<h:outputLabel value="#{accesorioBean.accesorioVo.lineaVo.subCuenta}"/>
					    </div>
					</div>
					<div class="form-group col-lg-12">                           
					    <h:outputText class="col-lg-3 control-label text-left" value="Número: "/>
					    <div class="col-lg-8">
						<h:outputLabel value="#{accesorioBean.accesorioVo.lineaVo.numero}">
						    <f:convertDateTime pattern="dd/MM/yyyy"/>
						</h:outputLabel>
					    </div>
					</div>
					<div class="form-group">
					    <div class="form-group col-lg-12">                           
						<h:outputText class="col-lg-3 control-label text-left" value="Tipo: "/>
						<div class="col-lg-8">
						    <h:outputLabel value="#{accesorioBean.accesorioVo.lineaVo.tipoLinea}">
							<f:convertDateTime pattern="dd/MM/yyyy"/>
						    </h:outputLabel>
						</div>
					    </div>
					    <div class="form-group col-lg-12">                           
						<h:outputText class="col-lg-3 control-label text-left" value="Estado: "/>
						<div class="col-lg-8">
						    <h:outputLabel value="#{accesorioBean.accesorioVo.lineaVo.estado}">
							<f:convertDateTime pattern="dd/MM/yyyy"/>
						    </h:outputLabel>
						</div>
					    </div>
					</div>
				    </div>
				</div>
				<div class="card -footer" >
				    <div class="form-group">
					<ui:fragment rendered="#{accesorioBean.accesorioVo.lineaVo.id ne 0}">
					    <div class="col-lg-4">
						<p:commandLink value="Modificar"
								 onclick="$(dialogoModificarLinea).modal('show');"/>
					    </div>
					</ui:fragment>
					<div class="col-lg-4">
					    <p:commandLink value="Relacionar" actionListener="#{accesorioBean.agregarAccesorioLinea(event)}"/>
					</div>
				    </div>
				</div>
			    </div>
			</div>
		    </div>
                </h:form>
		<ui:include src="fragmentos/popAdministrar.xhtml"/>
            </ui:define>
        </ui:composition>

    </body>
</html>
