<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      
      xmlns:c="http://java.sun.com/jsp/jstl/core"
     >
    <body>
        <ui:composition template="./../../../WEB-INF/facelets/templates/templateServiciosGenerales.xhtml">
            <ui:define name="contenido">
                <h:panelGroup  rendered="#{empty sesion.usuario}" styleClass="altura">
                    <ui:include src="./../../../login.xhtml"/>
                </h:panelGroup> 
                <br/>
                <h:form >
                    <p class="tituloEncabezado"> #{msgs['sgl.semaforo.politica']}</p>
                    <h:panelGrid  columns="1">
                        
                        <p:tabView >
                            <!-- p:tab title="#{msgs['sgl.solicitudViaje.titulo.aOficinas']}">
                                <p:dataTable value="#{catalogoBean.traerEstadoSemaforo.listaRutaOficina}" var="data" >
                                    <ui:include src="/vistas/sgl/administrar/pagina/columnasGeneralesSemaforo.xhtml"/>
                                </p:dataTable>
                            </p:tab -->
                            <!-- p:tab title="#{msgs['sgl.solicitudViaje.titulo.aCiudades']}">                                    
                                <p:dataTable value="#{catalogoBean.traerEstadoSemaforo.listaRutaCiudad}" var="data" >
                                    <ui:include src="/vistas/sgl/administrar/pagina/columnasGeneralesSemaforo.xhtml"/>
                                </p:dataTable>
                            </p:tab -->
                            <p:tab title="Color">
                                <p class="tituloEncabezado"> Cambiar horario</p>
                                <h:messages infoClass="textoMensajeError"/>
                                <p:dataTable showGridlines="true" size="small"  id="dtTipo" value="#{catalogoBean.listaSemaforo}" var="ls" >
                                    <p:column>
                                        <f:facet name="header"><h:outputText value="Color"/></f:facet>
                                        <h:panelGrid styleClass="#{ls.estilo}"></h:panelGrid>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header"><h:outputText value="Descripción"/></f:facet>
                                        <h:outputText value="#{ls.descripcion}"/>
                                    </p:column>
                                    <!-- p:column>
                                        <f:facet name="header"><h:outputText value="H. Minina"/></f:facet>
                                        <h:outputText value="#{ls.horaMinima}"/>
                                    </p:column -->
                                    <!-- p:column>
                                        <f:facet name="header"><h:outputText value="H. Maxima"/></f:facet>
                                        <h:outputText value="#{ls.horaMaxima}"/>
                                    </p:column -->
                                    <!-- p:column>
                                        <p:commandLink value="Modificar horario" styleClass="link"
                                                         actionListener="#{catalogoBean.modificarSemaforo(event)}"/>
                                    </p:column -->
                                </p:dataTable>
                            </ice:panelTab>
                        </p:tabView>
                    </h:panelGrid>
                    <br/>
                    <!-- p:dialog  header="#{msgs['sia.semaforo.titulo.cambio.horario']}"
                                 widgetVar="dialogoCambiarHorario"
                                 closable="false"
                                 modal="true"
                                 draggable="false"
                                 showEffect="clip"
                                 hideEffect="fade"
                                 width="600">    
                        <p:panel>
                            <h:panelGrid columns="5" bgcolor="gray">
                                <h:panelGrid>
                                    <h:outputLabel value="#{msgs['sgl.seguridad.ruta']}"/>
                                    <h:outputText value="#{catalogoBean.semaforoVo.nombreRuta}"/>
                                </h:panelGrid>
                                <h:panelGrid>
                                    <h:outputLabel value="#{msgs['sgl.semaforo.hora.maxima']}"/>
                                    <h:outputText value="#{catalogoBean.semaforoVo.color}"/>
                                </h:panelGrid>
                                <h:panelGrid>
                                    <h:outputLabel value="#{msgs['sgl.staff.contrato.fechaInicio']}"/>
                                    <h:outputText value="#{catalogoBean.semaforoVo.fechaInicio}"/>
                                </h:panelGrid>
                                <h:panelGrid>
                                    <h:outputLabel value="#{msgs['sgl.semaforo.hora.minima']}"/>
                                    <h:outputText value="#{catalogoBean.semaforoVo.horaMinimaRuta}"/>
                                </h:panelGrid>
                                <h:panelGrid>
                                    <h:outputLabel value="#{msgs['sgl.semaforo.hora.maxima']}"/>
                                    <h:outputText value="#{catalogoBean.semaforoVo.horaMaximaRuta}"/>
                                </h:panelGrid>
                            </h:panelGrid>
                            <h:panelGrid columns="2" >
                                <h:outputText value="#{msgs['sgl.solicitud.viaje.hora.minima.salida']}"/>
                                <p:datePicker  locale="America/Monterrey" timeOnly="true"
                                                   pattern="HH:mm"
                                                   value="#{catalogoBean.horaMinima}">
                                </ace:dateTimeEntry>
                                <h:outputText value="#{msgs['sgl.solicitud.viaje.hora.maxima.regreso']}"/>
                                <p:datePicker   locale="America/Monterrey" timeOnly="true"
                                                    pattern="HH:mm"
                                                    value="#{catalogoBean.horaMaxima}">
                                </ace:dateTimeEntry>
                            </h:panelGrid>
                            <br/>
                            <center>
                                <h:panelGrid columns="2">
                                    <h:commandLink value="#{msgs['sistema.aceptar']}" actionListener="#{catalogoBean.actualizarRangoHorario(event)}" styleClass="btn btn-info"
                                                   />
                                    <h:commandLink value="#{msgs['sistema.cancelar']}" actionListener="#{catalogoBean.cancelarModificarHorario(event)}" styleClass="btn btn-default"
                                                   onclick="dialogoCambiarHorario.hide()"/>
                                </h:panelGrid>
                            </center>
                        </p:panel>
                    </p:dialog -->
                    <!--MOSTRAR LA JUSTIFICACION COMPLETA-->
                    <p:dialog  header="#{msgs['sia.semaforo.titulo.justifiacion.completa']}"
                                 widgetVar="justificar"
                                 closable="false"
                                 modal="true"
                                 draggable="false"
                                 showEffect="clip"
                                 hideEffect="fade">    
                        <p:panel>
                            <h:panelGrid columns="2" styleClass="textoIzquierda">
                                <h:outputText value="#{msgs['sgl.solicitudViaje.motivoRetraso.justificacion']}:"/>
                                <h:outputLabel value="#{catalogoBean.semaforoVo.justificacion}"/>
                            </h:panelGrid>
                            <br/>
                            <center>
                                <h:panelGrid columns="2">
                                    <h:commandLink value="#{msgs['sistema.cancelar']}" actionListener="#{catalogoBean.cerrarMostrarJustifiacion(event)}" styleClass="btn btn-default"/>
                                </h:panelGrid>
                            </center>
                        </p:panel>
                    </p:dialog>
                </h:form>
                <!--Crear Operación-->

                <!--Modificar Operación-->
                <h:form >
                    
                    <p:dialog  header="#{msgs['sgl.cambio.semaforo']}" >
                        <h:panelGrid columns="2">
                            <h:outputText value="#{msgs['sgl.vehiculo.color']}"/>
                            <h:panelGrid styleClass="#{catalogoBean.semaforoVo.estilo}" />
                            <h:outputText value="#{msgs['sgl.generales.descripcion']}"/>
                            <h:inputTextarea value="#{catalogoBean.semaforoVo.descripcion}" cols="45" rows="2"/>
                        </h:panelGrid>
                        <h:panelGrid columns="2" rendered="#{catalogoBean.semaforoVo.idSemaforo eq 2 || catalogoBean.semaforoVo.idSemaforo eq 3 || catalogoBean.semaforoVo.idSemaforo eq 1}">
                            <h:outputText value="#{msgs['sgl.solicitud.viaje.hora.minima.salida']}"/>
                            <p:datePicker  locale="America/Monterrey" timeOnly="true"
                                               pattern="HH:mm"
                                               value="#{catalogoBean.semaforoVo.horaMinimaRuta}">
                            </ace:dateTimeEntry>
                            <h:outputText value="#{msgs['sgl.solicitud.viaje.hora.maxima.regreso']}"/>
                            <p:datePicker   locale="America/Monterrey" timeOnly="true"
                                                pattern="HH:mm"
                                                value="#{catalogoBean.semaforoVo.horaMaximaRuta}">
                            </ace:dateTimeEntry>
                        </h:panelGrid>
                        <h:panelGrid style="margin-left: 40%; text-align: center;" columns="2">
                            <h:commandButton  value="#{msgs['sistema.cambiar']}" actionListener="#{catalogoBean.cambiarRango(event)}" 
                                              styleClass="btn btn-info"/>
                            <h:commandButton id="submit" value="#{msgs['sistema.cerrar']}" styleClass="btn btn-default" actionListener="#{catalogoBean.cancelarCambioCiudad(event)}" onclick="diaJustificar.hide();"/>
                        </h:panelGrid>
                    </my:panelPopup>
                </h:form>
            </ui:define>

        </ui:composition>

    </body>
</html>
