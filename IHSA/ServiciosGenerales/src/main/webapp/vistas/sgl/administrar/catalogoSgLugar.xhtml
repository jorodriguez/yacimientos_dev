<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      
     >

    <body>

        <ui:composition template="./../../../WEB-INF/facelets/templates/templateServiciosGenerales.xhtml">

            <ui:define name="contenido">

                <h:panelGroup  rendered="#{empty sesion.usuario}" styleClass="altura">
                    <ui:include src="./../../../login.xhtml"/>
                </h:panelGroup>                

                <h:panelGroup  rendered="#{not empty sesion.usuario}" >
                    <center><h:messages globalOnly="true" errorClass="errorMessage" infoClass="infoMessage"/></center>

                    <p class="tituloEncabezado">#{msgs['sgl.sgLugar.titulo.catalogo']}</p>
                    <h:form  >
                        <h:panelGrid >
                            <p:commandLink actionListener="#{catalogoBean.openPopupCreateSgLugar(actionEvent)}" title="#{msgs['sistema.crear']} #{msgs['sgl.sgLugar']}" styleClass="btn btn-default" >
                                <h:graphicImage title="#{msgs['sistema.crear']} #{msgs['sgl.sgLugar']}" alt="#{msgs['sistema.crear']} #{msgs['sgl.sgLugar']}" url="#{msgs['sgl.ruta.imagen']}button_create.png" styleClass="imagenSinBorde" />
                            </p:commandLink>
                            <p:commandLink action="#{catalogoBean.openPopupCreateSgLugar(actionEvent)}" value="#{msgs['sistema.crear']} #{msgs['sgl.sgLugar']}" title="#{msgs['sistema.crear']} #{msgs['sgl.sgLugar']}" styleClass="linkPequenio" />
                        </h:panelGrid>
                    </h:form>                

                    <h:form>
                        <p:dataTable id="dgSgLugares" rows="10" value="#{catalogoBean.allSgLugarDataModel}" var="data" 
                                     >
                            <p:column>
                                <f:facet name="header"><h:outputText value="#{msgs['sgl.generales.nombre']}"/></f:facet>
                                <h:outputText value="#{data.nombre}"/>
                            </p:column>                            
                            <p:column>
                                <p:commandLink value="#{msgs['sistema.modificar']}" actionListener="#{catalogoBean.openPopupUpdateSgLugar(actionEvent)}" styleClass="link"/>
                            </p:column>                          
                            <p:column>
                                <p:commandLink value="#{msgs['sistema.eliminar']}" actionListener="#{catalogoBean.openPopupDeleteSgLugar(actionEvent)}" styleClass="link"/>
                            </p:column>
                        </p:dataTable>   
                    </h:form>  

                </h:panelGroup>

                <!-- Popup Crear SgLugar -->
                <h:form id="formPopupCreateSgLugar">
                    <<p:dialog  id="popupCreateSgLugar"
                                header="#{msgs['sistema.crear']} #{msgs['sgl.sgLugar']}" >
                        <h:outputText id="msgsPopupCreateSgLugar" value="" />
                        <center><h:message for="msgsPopupCreateSgLugar" infoClass="infoMessage" warnClass="warnClass" errorClass="errorMessage" /></center>

                        <h:panelGrid columns="2">
                            <h:panelGrid columns="2">
                                <h:outputLabel value="#{msgs['sgl.generales.nombre']}: "/>
                                <h:outputText value="*" styleClass="textoRojo" />
                            </h:panelGrid>
                            <h:panelGrid columns="2">
                                <p:inputText id="nombre" value="#{catalogoBean.sgLugar.nombre}" 
                                             styleClass="f11" maxlength="64" size="50" required="true" requiredMessage="Nombre es requerido" />
                                <h:message id="nombreSgLugarMessage" for="nombre" errorClass="errorMessage" infoClass="infoMessagenombreSgLugarMessage"/>
                            </h:panelGrid>
                        </h:panelGrid>
                        <center>
                            <h:panelGrid columns="2">
                                <p:commandButton value="#{msgs['sistema.guardar']}" actionListener="#{catalogoBean.saveSgLugar(actionEvent)}" styleClass="btn btn-info"/>
                                <p:commandButton value="#{msgs['sistema.cancelar']}" actionListener="#{catalogoBean.closePopupCreateSgLugar(actionEvent)}" immediate="true" styleClass="btn btn-default" />        
                            </h:panelGrid>                        
                        </center>
                    </<p:dialog >
                </h:form>                

                <!-- Popup Modificar SgLugar -->
                <h:form id="formPopupUpdateSgLugar">
                    <p:dialog  header="#{msgs['sistema.actualizar']} #{msgs['sgl.sgLugar']}" >
                        <h:outputText id="msgsPopupUpdateSgLugar" value="" />
                        <center><h:message for="msgsPopupUpdateSgLugar" infoClass="infoMessage" warnClass="warnClass" errorClass="errorMessage" /></center>

                        <h:panelGrid columns="2">
                            <h:panelGrid columns="2">
                                <h:outputLabel value="#{msgs['sgl.generales.nombre']}: "/>
                                <h:outputText value="*" styleClass="textoRojo" />
                            </h:panelGrid>
                            <h:panelGrid columns="2">
                                <p:inputText id="nombre" value="#{catalogoBean.cadena}" styleClass="f11" maxlength="64" size="50" required="true" requiredMessage="Nombre es requerido" />
                                <h:message id="nombreSgLugarMessage" for="nombre" infoClass="infoMessage" errorClass="errorMessage" warnClass="warnMessage" />
                            </h:panelGrid>
                        </h:panelGrid>
                        <center>
                            <h:panelGrid columns="2">
                                <p:commandButton value="#{msgs['sistema.actualizar']}" actionListener="#{catalogoBean.updateSgLugar(actionEvent)}" styleClass="btn btn-info"/>
                                <p:commandButton value="#{msgs['sistema.cancelar']}" actionListener="#{catalogoBean.closePopupUpdateSgLugar(actionEvent)}" immediate="true" styleClass="btn btn-default" />        
                            </h:panelGrid>                        
                        </center>
                    </<p:dialog >
                </h:form> 

                <!-- Popup Eliminar SgLugar -->
                <h:form id="formPopupDeleteSgLugar">
                    <p:dialog  header="#{msgs['sistema.eliminar']} #{msgs['sgl.sgLugar']}" >
                        <h:outputText id="msgsPopupDeleteSgLugar" value="" />
                        <center><h:message for="msgsPopupDeleteSgLugar" infoClass="infoMessage" warnClass="warnClass" errorClass="errorMessage" /></center>

                        <h:panelGrid columns="3">
                            <h:outputText value="#{msgs['sgl.sgLugar.mensaje.confirmacion.eliminacion']} " />
                            <h:outputText value="#{catalogoBean.sgLugar.nombre}" styleClass="fNegrita12" />
                            <h:outputText value="?" />
                        </h:panelGrid>

                        <center>
                            <h:panelGrid columns="2">
                                <p:commandButton value="#{msgs['sistema.eliminar']}" actionListener="#{catalogoBean.deleteSgLugar(actionEvent)}" styleClass="btn btn-info"/>
                                <p:commandButton value="#{msgs['sistema.cancelar']}" actionListener="#{catalogoBean.closePopupDeleteSgLugar(actionEvent)}" immediate="true" styleClass="btn btn-default"/>        
                            </h:panelGrid>                        
                        </center>
                    </<p:dialog >
                </h:form>                                

            </ui:define>

        </ui:composition>

    </body>
</html>
