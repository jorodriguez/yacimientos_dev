<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html" 
     
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:body>

        <ui:composition template="./../../../WEB-INF/facelets/templates/templateServiciosGenerales.xhtml">

            <ui:define name="contenido">
                <center><h:messages globalOnly="true" errorClass="errorMessage" infoClass="infoMessage"/></center>

                <h:panelGroup >
                    <h:panelGroup  rendered="#{empty sesion.usuario}" styleClass="altura">
                        <ui:include src="./../../../login.xhtml"/>
                    </h:panelGroup>

                    <h:form  >
                        <p class="tituloEncabezado">#{msgs['sgl.staff.titulo.catalogoStaff']}</p>
                        <h:panelGrid columns="1" >
                            <p:commandLink type="submit" title="#{msgs['sgl.staff.create']}" actionListener="#{staffBean.mostrarPopupCrearStaff(actionEvent)}" styleClass="btn btn-default" >
                                <h:graphicImage url="#{msgs['sgl.ruta.imagen']}button_create.png" alt="#{msgs['sgl.staff.create']}" styleClass="imagenSinBorde" width="16px" height="16px" />
                            </p:commandLink>
                            <p:commandLink value="#{msgs['sgl.staff.create']}" styleClass="linkPequenio" actionListener="#{staffBean.mostrarPopupCrearStaff(actionEvent)}"/>
                        </h:panelGrid>

                        <p:dataTable id="dataGridStaff" rows="5" value="#{staffBean.staffDataModel}" var="data" 
                                     >
                            <!--<p:column>
                                <f:facet name="header">
                                    <h:outputText value="Id" />
                                </f:facet>
                                <h:outputText value="#{data['id']}" />
                            </p:column>-->
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Nombre" />
                                </f:facet>
                                <h:outputText value="#{data['nombre']}" />
                            </p:column>                                
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="# Staff" />
                                </f:facet>
                                <h:outputText value="#{data['numeroStaff']}" />
                            </p:column>                                
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="# Habitaciones"  />
                                </f:facet>
                                <h:outputText value="#{data['numeroCuartos'] gt 0? data['numeroCuartos'] : 0}" />
                            </p:column>
                            <p:column>
                                <h:commandLink value="#{msgs['sistema.eliminar']}" actionListener="#{staffBean.mostrarPopupEliminarStaff(actionEvent)}" styleClass="link" />
                            </p:column>
                            <p:column>
                                <h:commandLink value="#{msgs['sistema.administrar']}" action="#{staffBean.goToAdministrarStaff()}" />
                            </p:column>                
                        </p:dataTable>

                    </h:form>
                </h:panelGroup>                 

                <!-- Crear Staff -->
                <h:form id="formCrearStaff">
                    <p:dialog  header="#{msgs['sgl.staff.create']}" >
                        <h:panelGrid columns="1" >
                            <h:panelGrid columns="2" styleClass="bordePanelGrid" >
                                <f:facet name="header"><h:outputText value="#{msgs['sgl.staff.create.datosGenerales']}" /></f:facet>

                                <h:panelGrid columns="2">
                                    <h:outputLabel value="#{msgs['sgl.staff.nombreStaff']}: " styleClass="f10" />
                                    <h:outputText value="*" styleClass="textoRojo" />
                                </h:panelGrid>
                                <h:panelGrid columns="2">
                                    <p:inputText id="nombreStaff" value="#{staffBean.staff.nombre}" style="width: 200px" styleClass="f11" maxlength="32" required="true" requiredMessage="Nombre es requerido" />
                                    <h:message for="nombreStaff" errorClass="mensaje" infoClass="mensaje"/>
                                </h:panelGrid>

                                <h:panelGrid columns="2">
                                    <h:outputLabel value="#{msgs['sgl.staff.numeroStaff']}: " styleClass="f10"/>
                                    <h:outputText value="*" styleClass="textoRojo" />
                                </h:panelGrid>
                                <h:panelGrid columns="2">
                                    <p:inputText id="numeroStaff" value="#{staffBean.staff.numeroStaff}" style="width: 200px" styleClass="f11" maxlength="8" required="true" requiredMessage="Número Staff es requerido" />                                
                                    <h:message for="numeroStaff" errorClass="mensaje" infoClass="mensaje"/>
                                </h:panelGrid>

                                <h:outputLabel value="#{msgs['sgl.staff.telefonoStaff']}: " styleClass="f10"/>
                                <p:inputText id="telefonoStaff" value="#{staffBean.staff.numeroTelefono}" style="width: 200px" styleClass="f11" maxlength="15" />                                
                            </h:panelGrid>

                            <br />

                            <h:panelGrid columns="2" styleClass="bordePanelGrid" >
                                <f:facet name="header"><h:outputText value="#{msgs['sgl.staff.create.direccion']}" /></f:facet>
                                <h:panelGrid columns="2">
                                    <h:outputLabel value="#{msgs['sgl.direccion.pais']}: " styleClass="f10"/>      
                                    <h:outputText value="*" styleClass="textoRojo" />
                                </h:panelGrid>
                                <h:panelGrid columns="2">
                                    <p:selectOneMenu id="pais" value="#{staffBean.idPais}" >
                                        <f:selectItem itemLabel="#{msgs['sistema.seleccionar.combo']}" itemValue="-1"/>
                                        <f:selectItems value="#{staffBean.listaPais}"/>
                                    </p:selectOneMenu>
                                    <h:message for="pais" errorClass="errorMessage" infoClass="mensaje"/>
                                </h:panelGrid>
                                <!--h:panelGrid columns="2">
                                    <p:inputText id="pais" value="#{staffBean.direccion.pais}" style="width: 200px" styleClass="f11" maxlength="64" required="true" requiredMessage="País es requerido" />
                                    <h:message for="pais" errorClass="mensaje" infoClass="mensaje"/>
                                </h:panelGrid-->

                                <h:panelGrid columns="2">
                                    <h:outputLabel value="#{msgs['sgl.direccion.estado']}: " styleClass="f10"/>
                                    <h:outputText value="*" styleClass="textoRojo" />
                                </h:panelGrid>
                                <h:panelGrid columns="2">
                                    <p:inputText id="estado" value="#{staffBean.direccion.estado}" style="width: 200px" styleClass="f11" maxlength="64" required="true" requiredMessage="Estado es requerido" />                                
                                    <h:message for="estado" errorClass="mensaje" infoClass="mensaje"/>
                                </h:panelGrid>

                                <h:panelGrid columns="2">
                                    <h:outputLabel value="#{msgs['sgl.direccion.municipio']}: " styleClass="f10"/>
                                    <h:outputText value="*" styleClass="textoRojo" />
                                </h:panelGrid>
                                <h:panelGrid columns="2">
                                    <p:inputText id="municipio" value="#{staffBean.direccion.municipio}" style="width: 200px" styleClass="f11" maxlength="128" required="true" requiredMessage="Municipio es requerido"  />
                                    <h:message for="municipio" errorClass="mensaje" infoClass="mensaje"/>
                                </h:panelGrid>

                                <h:panelGrid columns="2">
                                    <h:outputLabel value="#{msgs['sgl.direccion.ciudad']}: " styleClass="f10"/>
                                    <h:outputText value="*" styleClass="textoRojo" />
                                </h:panelGrid>
                                <h:panelGrid columns="2">
                                    <p:inputText id="ciudad" value="#{staffBean.direccion.ciudad}" style="width: 200px" styleClass="f11" maxlength="128" required="true" requiredMessage="Ciudad es requerido"  />
                                    <h:message for="ciudad" errorClass="mensaje" infoClass="mensaje"/>
                                </h:panelGrid>                                 

                                <h:panelGrid columns="2">
                                    <h:outputLabel value="#{msgs['sgl.direccion.colonia']}: " styleClass="f10"/>
                                    <h:outputText value="*" styleClass="textoRojo" />
                                </h:panelGrid>
                                <h:panelGrid columns="2">
                                    <p:inputText id="colonia" value="#{staffBean.direccion.colonia}" style="width: 200px" styleClass="f11" maxlength="128" required="true" requiredMessage="Colonia es requerido" />             
                                    <h:message for="colonia" errorClass="mensaje" infoClass="mensaje"/>
                                </h:panelGrid>

                                <h:panelGrid columns="2">
                                    <h:outputLabel value="#{msgs['sgl.direccion.calle']}: " styleClass="f10"/>
                                    <h:outputText value="*" styleClass="textoRojo" />
                                </h:panelGrid>
                                <h:panelGrid columns="2">
                                    <p:inputText id="calle" value="#{staffBean.direccion.calle}" style="width: 200px" styleClass="f11" maxlength="128" required="true" requiredMessage="Calle es requerido" />             
                                    <h:message for="calle" errorClass="mensaje" infoClass="mensaje"/>
                                </h:panelGrid>

                                <h:panelGrid columns="2">
                                    <h:outputLabel value="#{msgs['sgl.direccion.numeroExterior']}: " styleClass="f10"/>
                                    <h:outputText value="*" styleClass="textoRojo" />    
                                </h:panelGrid>
                                <h:panelGrid columns="2">
                                    <p:inputText id="numeroExterior" value="#{staffBean.direccion.numeroExterior}" style="width: 200px" styleClass="f11" maxlength="8" required="true" requiredMessage="Número Exterior es requerido" /> 
                                    <h:message for="numeroExterior" errorClass="mensaje" infoClass="mensaje"/>
                                </h:panelGrid>

                                <h:outputLabel value="#{msgs['sgl.direccion.numeroInterior']}: " styleClass="f10"/>
                                <p:inputText id="numeroInterior" value="#{staffBean.direccion.numeroInterior}" style="width: 200px" styleClass="f11" maxlength="8" />

                                <h:outputLabel value="#{msgs['sgl.direccion.piso']}: " styleClass="f10"/>
                                <p:inputText id="piso" value="#{staffBean.direccion.piso}" style="width: 200px" styleClass="f11" maxlength="8" />

                                <h:panelGrid columns="2">
                                    <h:outputLabel value="#{msgs['sgl.direccion.codigoPostal']}: " styleClass="f10"/>
                                    <h:outputText value="*" styleClass="textoRojo" /> 
                                </h:panelGrid>
                                <h:panelGrid columns="2">
                                    <p:inputText id="codigoPostal" value="#{staffBean.direccion.codigoPostal}" style="width: 200px" styleClass="f11" maxlength="8" required="true" requiredMessage="Código Postal es requerido" />
                                    <h:message for="codigoPostal" errorClass="mensaje" infoClass="mensaje"/>
                                </h:panelGrid>

                            </h:panelGrid>
                        </h:panelGrid>
                        <center>
                            <h:panelGrid columns="2">
                                <p:commandButton value="#{msgs['sistema.crear']}" actionListener="#{staffBean.createStaff(actionEvent)}" styleClass="btn btn-info"/>
                                <p:commandButton value="#{msgs['sistema.cancelar']}" actionListener="#{staffBean.ocultarPopupCrearStaff(actionEvent)}" immediate="true" styleClass="btn btn-default"/>        
                            </h:panelGrid>                        
                        </center>
                    </my:panelPopup>
                </h:form>

                <!-- Eliminar Staff -->
                <h:form>
                    <p:dialog  header="#{msgs['sistema.eliminar']} #{msgs['sgl.staff']}">
                        <center><h:messages errorClass="mensaje" infoClass="mensaje"/></center>  

                        <!--<h:panelGrid>
                            <h:outputText value="#{msgs['sgl.staff.mensaje.eliminar1']}" styleClass="textoRojo" style="font-size: 9px;" />
                            <h:outputText value="#{msgs['sgl.staff.mensaje.eliminar2']}" styleClass="textoRojo" style="font-size: 9px;" />
                        </h:panelGrid>-->

                        <h:panelGrid columns="3">
                            <h:outputText value="#{msgs['sgl.staff.mensaje.eliminar']} " />
                            <h:outputText value="#{staffBean.staff.nombre}" style="font-weight: bold;" />
                            <h:outputText value="?" />
                        </h:panelGrid>

                        <center>
                            <h:panelGrid columns="2">
                                <p:commandButton value="#{msgs['sistema.eliminar']}" actionListener="#{staffBean.deleteStaff(actionEvent)}" styleClass="btn btn-info"/>
                                <p:commandButton value="#{msgs['sistema.cancelar']}" actionListener="#{staffBean.ocultarPopupEliminarStaff(actionEvent)}" styleClass="btn btn-default"/>        
                            </h:panelGrid>                        
                        </center>
                    </my:panelPopup>
                </h:form>                  

            </ui:define>

        </ui:composition>

    </h:body>
</html>
