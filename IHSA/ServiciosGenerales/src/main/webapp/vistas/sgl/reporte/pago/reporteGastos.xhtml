<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                >
    <h:messages style="color: maroon; font-size: 12px;"/>
    <div class="row">
        <div class="card  panel-default">
            <div class="card -heading">
                <h:form>
                    <h:selectOneMenu value="#{consultaBean.reporteOficinaVo.anio}" 
                                     class="control-label"
                                     valueChangeListener="#{consultaBean.traerPorAnio}"
                                     >
                        <f:ajax execute="@this" render="@form"/>
                        <f:selectItems value="#{consultaBean.reporteOficinaVo.listaAnio}"/>
                    </h:selectOneMenu>
                </h:form>
            </div>
            <div class="card-body">
                <div id="divTotalStaffHouse" class="col-lg-4 ">			    
                    <div id="graficaPagoTotalStaff" class="col-lg-12"></div>			    
                    <h:form id="frmOficina">
                        <h:inputHidden id="nombreOficina" value="#{consultaBean.reporteOficinaVo.oficina}" />
                        <p:commandLink id="btnBuscarPorOficina" value="Oficina" 
                                       actionListener="#{consultaBean.buscarPagosStaffahousePorOficina(event)}"
                                       style="display: none;">
                        </p:commandLink>				
                    </h:form>
                </div>
                <div id="divTotalOficina" class="col-lg-4">
                    <div id="divGraficaOficina">
                        <div id="graficaGastoTotalOficina" class="col-lg-12"></div>
                        <h:form id="frmTotalOficina">
                            <h:inputHidden id="hidenNombreTotalOficina" value="#{consultaBean.nombre}"/>
                            <p:commandLink id="btnBuscarTotalPorOficina" value="Oficina"  
                                           actionListener="#{consultaBean.traerServiciosPorOficina(e)}"
                                           styleClass="btn btn-info" 
                                           style="display: none;"/>
                        </h:form>
                    </div>
                </div>
                <div id="divTotalHotel" class="col-lg-4">
                    <div id="divGraficaHotel">
                        <div id="graficaGastoTotalHotel" class="col-lg-12"></div>
                        <h:form id="frmHotelServicio">
                            <h:inputHidden id="hidenNombreOficina" value="#{consultaBean.nombre}"/>
                            <p:commandLink id="btnBuscarHotelPorOficina" value="Oficina"  
                                           styleClass="btn btn-info" 
                                           actionListener="#{consultaBean.buscarGastoHotelPorOficina(event)}"
                                           style="display: none;"/>
                        </h:form>
                    </div>
                </div>
                <div id="divTotalVehiculo" class="col-lg-4">
                    <div id="divGraficaVehiculo">
                        <div id="graficaGastoTotalVehiculo" class="col-lg-12"></div>
                        <h:form id="frmVehiculo">
                            <h:inputHidden id="hidenNombreOficinaVehiculo" value="#{consultaBean.nombre}"/>
                            <p:commandLink id="btnBuscarVehiculoPorOficina" value="Oficina"  
                                           styleClass="btn btn-info" 
                                           actionListener="#{consultaBean.totalPagosVehiculosPorOficina(ent)}"
                                           style="display: none;"/>
                        </h:form>
                    </div>
                </div>
                <div id="divTotalMantoVehiculo" class="col-lg-4">
                    <div id="divGraficaMantoVehiculo">
                        <div id="graficaGastoTotalMantoVehiculo" class="col-lg-12"></div>
                        <h:form id="frmMAntoVehiculo">
                            <h:inputHidden id="hidenNombreOficinaMantoVehiculo" value="#{consultaBean.nombre}"/>
                            <p:commandLink id="btnBuscarMantoVehiculoPorOficina" value="Oficina"  
                                           actionListener="#{consultaBean.totalPagosMantoVehiculosPorOficina(event)}"
                                           styleClass="btn btn-info" 
                                           style="display: none;"/>
                        </h:form>
                    </div>
                </div>

                <div id="divDetallePagoStaffHouse" class="col-lg-8card panel-default" style="display: none;">
                    <a  class="fa fa-times fa-2x" style=" float: right;" 
                        onclick="ocultarDiv('divDetallePagoStaffHouse');
                                mostrarDiv('divTotalHotel');
                                mostrarDiv('divTotalVehiculo');
                                mostrarDiv('divTotalMantoVehiculo');
                                mostrarDiv('divTotalOficina');"></a>
                    <div class="col-lg-12">
                        <div class="row">
                            <div id="divGraficaStaff" class="card  panel-body" style="display: none;">
                                <div id="graficaPagoStaffHouse" class="col-lg-12"></div>
                                <hr/>
                                <h:form id="frmPorStaff">
                                    <h:inputHidden id="nombreStaff" value="#{consultaBean.reporteOficinaVo.staffHouse}" />
                                    <p:commandLink value="Buscar por staff house" id="btnBuscarPorStaffHouse"
                                                   actionListener="#{consultaBean.seleccionarStaffHouse(event)}"
                                                   style="display: none;"/>
                                </h:form>
                            </div>
                        </div>
                        <div class="col-lg-10">
                            <div id="graficaServicioStaff" class="card  panel-body" style="display: none;">
                                <div id="graficaPorStaffHouse" class="col-lg-12"></div>
                                <h:form id="frmStaffServicio">
                                    <h:inputHidden id="hidenServicioStaff" value="#{consultaBean.reporteOficinaVo.servicio}"/>
                                    <p:commandLink id="btnBuscarPorServicio" value="Servicio"  
                                                   actionListener="#{consultaBean.listaPagosStaff(event)}"						
                                                   styleClass="btn btn-info" 
                                                   style="display: none;"/>
                                </h:form>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div id="graficaFechaServicioStaff" style="display: none;">
                            <div class="card  panel-body">
                                <h:form>
                                    <style>
                                        .hasDatepicker{
                                            width: 80px;
                                        }
                                    </style>
                                    <p:commandButton value="Exportar">
                                        <p:dataExporter type="xls"   target="dtPagoStaff" fileName="Servicios"
                                                        />
                                    </p:commandButton>
                                    <p:dataTable id="dtPagoStaff" value="#{consultaBean.mapaConsulta.get('pagoStaff')}" var="data"
                                                 rows="10" styleClass="dataPaginatorDataTable" 
                                                 paginator="true"  showGridlines="true" size="small"
                                                 paginatorPosition="bottom" 
                                                 style="font-size: 1em; width: 100%; display: none;" >
                                        <f:facet name="header"><h:outputLabel value="Servicio de"/></f:facet>	    
                                        <p:column headerText="Inicio" style="text-align: center;">
                                            <h:outputText value="#{data.inicio}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                        <p:column headerText="Vencimiento" style="text-align: center;">
                                            <h:outputText value="#{data.vencimiento}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                        <p:column headerText="Importe" style="text-align: right;">
                                            <h:outputText value="#{data.importe}">
                                            </h:outputText>
                                        </p:column>
                                        <p:column headerText="Moneda" style="text-align: center;">
                                            <h:outputText value="#{data.moneda}"/>
                                        </p:column>
                                        <p:column headerText="Recibo" style="text-align: left;">
                                            <h:outputText value="#{data.adjuntoUUID}"/>
                                        </p:column>
                                    </p:dataTable>

                                </h:form>

                                <div id="graficaStaffHouseServicio" class="col-lg-12 col-xs-12" ></div>
                            </div>
                        </div>
                    </div>
                </div> <!-- Fin del div de detalle de pago staff housse -->
                <div id="divDetalleOficina" class="col-lg-8" style="display: none;"> <!-- oficina -->
                    <a  class="fa fa-times fa-2x" style=" float: right;" 
                        onclick="ocultarDiv('divDetalleOficina');
                                mostrarDiv('divTotalStaffHouse');
                                mostrarDiv('divTotalHotel');
                                mostrarDiv('divTotalVehiculo');
                                mostrarDiv('divTotalMantoVehiculo');
                                mostrarDiv('divTotalOficina');

                        "></a>
                    <div class="col-lg-10">
                        <div id="graficaPorOficina" class="col-lg-12"></div>
                        <h:form id="frmOficinaServicio">
                            <h:inputHidden id="hidenServicioOficina" value="#{consultaBean.reporteOficinaVo.servicio}"/>
                            <p:commandLink id="btnBuscarPorServicioOficina" value="Servicio"  
                                           styleClass="btn btn-info" 
                                           actionListener="#{consultaBean.listaPagoServicioOficina(event)}"
                                           style="display: none;"/>
                        </h:form>
                        <div id="divDetalleServicioOficina" class="col-lg-12 col-lg-12">
                            <h:form id="frmServicioOficina">
                                <div id="graficaServiciosOficina" class="col-lg-12"></div>
                            </h:form>
                        </div>

                    </div>
                </div> <!-- Fin del div de detalle de pago oficina -->
                <!-- Inicio del div de hotel -->
                <div id="divDetalleHotel" class="col-lg-8card panel-default" style="display: none;"> 
                    <a  class="fa fa-times fa-2x" style=" float: right;" 
                        onclick="ocultarDiv('divDetalleHotel');
                                mostrarDiv('divTotalHotel');
                                mostrarDiv('divTotalStaffHouse');
                                mostrarDiv('divTotalVehiculo');
                                mostrarDiv('divTotalMantoVehiculo');
                                mostrarDiv('divTotalOficina');"></a>
                    <div class="col-lg-10">			
                        <div id="divGraficaHotelPorOficina" class="card  panel-body" style="display: none;">
                            <h:form id="frmHotelPorAnio">
                                <div id="graficaGastoHotelOficina" class="col-lg-12"></div>
                                <h:inputHidden id="hidenNombrePorAnioHotel" value="#{consultaBean.servicioHotel}"/>
                                <p:commandLink id="btnBuscarPagoHotelPorAnio" value="Buscar" 
                                               actionListener="#{consultaBean.traerHospedadosHotelPorAnio(event)}"
                                               style="display: none;"/>
                            </h:form>
                        </div>
                    </div>
                    <div class="col-lg-10">			
                        <div id="divGraficaHotelPorOficinaPorAnio" class="card  panel-body" style="display: block;">
                            <h:form id="frmHospedadosHotel">
                                <div id="graficaGastoPorAnioHotelOficina" class="col-lg-12"></div>
                                <h:inputHidden id="hidenNombreHotel" value="#{consultaBean.inicio}"/>
                                <p:commandLink id="btnBuscarHuespedes" value="Buscar" 
                                               actionListener="#{consultaBean.traerHospedadosHotel(event)}"
                                               onclick="$(dialogoHuespedesHotel).modal('show');"
                                               style="display: none;"/>
                            </h:form>

                        </div>
                    </div>

                </div> <!-- Fin del div de detalle de hotel -->
                <div id="divDetalleVehiculo" class="col-lg-8card panel-default" style="display: none;"> 
                    <a  class="fa fa-times fa-2x" style=" float: right;" 
                        onclick="ocultarDiv('divDetalleVehiculo');
                                ocultarDiv('divServiciosVehiculo');
                                mostrarDiv('divTotalHotel');
                                mostrarDiv('divTotalStaffHouse');
                                mostrarDiv('divTotalVehiculo');
                                mostrarDiv('divTotalMantoVehiculo')
                                        ;
                                mostrarDiv('divTotalOficina');"></a>
                    <div id="divPagosServiciosVehiculo" class="col-lg-6">
                        <div id="graficaTotalServicioVehiculo" class="col-lg-12"></div>
                        <h:form id="frmServicioVehiculo">
                            <h:inputHidden id="hidenNombreServicioVehiculo" value="#{consultaBean.servicioVehiculo}"/>
                            <p:commandLink id="btnBuscarPorServicioVehiculo" value="Oficina"  
                                           styleClass="btn btn-info" 
                                           actionListener="#{consultaBean.totalPagosVehiculosPorServicio(event)}"
                                           style="display: none;"/>
                        </h:form>
                    </div>
                    <div id="divServiciosVehiculo" class="col-lg-12">
                        <div id="graficaServicioVehiculo" class="col-lg-12"></div>
                    </div>
                </div>
                <!-- Fin del div de detalle de vehiculo -->
                <!-- inicio del div de detalle Mantenimiento de vehículo -->
                <div id="divVehiculoManto" class="col-lg-8card panel-default" style="display: none;"> 
                    <a  class="fa fa-times fa-2x" style=" float: right;" 
                        onclick="ocultarDiv('divVehiculoManto');
                                mostrarDiv('divTotalHotel');
                                mostrarDiv('divTotalStaffHouse');
                                mostrarDiv('divTotalVehiculo');
                                mostrarDiv('divTotalMantoVehiculo')
                                        ;
                                mostrarDiv('divTotalOficina');"></a>
                    <div id="graficaTipoMantenimiento" class="col-lg-8"></div>
                    <h:form id="frmServicioVehiculoManto">
                        <h:inputHidden id="hidenServicioVehiculoManto" value="#{consultaBean.servicioVehiculo}"/>
                        <p:commandLink id="btnBuscarPorServicioVehiculoManto" value="Oficina"  
                                       actionListener="#{consultaBean.traerMantoPorTipo(event)}"
                                       styleClass="btn btn-info" 
                                       style="display: none;"/>
                    </h:form>
                    <div class="col-lg-10">
                        <div id="graficaDetalleTipoMantenimiento" class="col-lg-12"></div>
                        <h:form id="frmDetalleServicioVehiculoManto">
                            <h:inputHidden id="hidenTipoVehiculoManto" value="#{consultaBean.reporteOficinaVo.servicio}"/>
                            <p:commandLink id="btnBuscarPorTipoVehiculoManto" value="Oficina"  
                                           styleClass="btn btn-info" 
                                           style="display: none;"/>
                        </h:form>
                    </div>
                </div><!-- fin del div de detalle Mantenimiento de vehículo -->

            </div>
        </div>
    </div>
</ui:composition>
