<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"      
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <f:view locale="#{localeSwitcher.locale}" >
        <h:head>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
            <meta name="viewport" content="width=device-width, initial-scale=1"/>

            <!-- Font Awesome -->
            <link rel="stylesheet" href="/resources/css/all.min.css" />
            <!-- Theme style -->
            <link rel="stylesheet" href="/resources/css/adminlte.min.css" />
            <!-- overlayScrollbars -->
            <link rel="stylesheet" href="/resources/css/OverlayScrollbars.min.css"/>

            <!-- Google Font -->
            <link rel="stylesheet"
                  href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic"></link>

            <noscript>
                <p>Su navegador no soporta javaScript</p>
            </noscript>
            <!--titulo-->
            <title>Sistema Integral de Administración</title>

            <!--link href="../resources/css/jqueryui-1.10.3.css" rel="stylesheet" type="text/css"></link>        
            <script type="text/javascript" src="../resources/js/jquery-ui1.10.3.js"></script-->        
            <style type="text/css">
                .ui-datepicker {
                    z-index: 10000004 !important;
                }

                .filaConSombra{
                    background-color: #EEE;
                }

                .filaSinSombra{
                    background-color: #f8f8f8;
                }
            </style>
        </h:head>
        <h:body class="hold-transition layout-top-nav">
            <div class="wrapper">
                <c:if test="#{not empty sesion.proveedorVo}">                    
                    <!-- Navbar -->
                    <h:form id="frmmenu" >
                        <nav class="main-header navbar navbar-expand-md navbar-light navbar-white">
                            <div class="container-fluid">
                                <p:ajaxStatus onstart="PF('statusDialog').show()"
                                              onsuccess="PF('statusDialog').hide()" />
                                <p:dialog widgetVar="statusDialog" modal="true" draggable="false"
                                          closable="false" resizable="false" showHeader="false" style="z-index: 100000045;">
                                    <img src="/resources/img/wait.gif" width="150px"  alt="Procesando . . . "/>
                                </p:dialog>
                                <!-- Navbar --> 
                                <a class="navbar-brand">
                                    <img src="/resources/img/logo.png" alt="SIA" 
                                         class="brand-image img-circle elevation-3" />
                                    <span class="brand-text font-weight-light">SIA</span>
                                </a>
                                <button class="navbar-toggler order-1" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                                    <span class="navbar-toggler-icon"></span>
                                </button>
                                <!-- Left navbar links -->
                                <ui:include src="header.xhtml"/>
                            </div>
                        </nav>
                    </h:form>
                    <!-- Content Wrapper. Contains page content -->
                    <div class="content-wrapper">
                        <!-- Main content -->
                        <div class="content">
                            <div class="container-fluid">
                                <div  class="row">
                                    <p:messages id="messages" showDetail="true" closable="true">
                                        <p:autoUpdate />
                                    </p:messages>
                                </div>
                                <div class="row">
                                    <div class="col-lg-11">
                                    </div>
                                    <div class="col-lg-1">
                                        <h:form rendered="#{sesion.proveedorVo.nacional eq false}">
                                            <h:selectOneMenu value="#{localeSwitcher.selectedLocale}" styleClass="form-control"
                                                             valueChangeListener="#{localeSwitcher.localeChangeListener}"
                                                             >
                                                <f:selectItems value="#{localeSwitcher.supportedLocales}" itemLabel="#{leng.displayLanguage}" var="leng"/>
                                                <p:ajax update="@all"/>
                                            </h:selectOneMenu>
                                        </h:form>

                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-2"></div> 
                                    <div class="col-lg-8">
                                        <p style="font-weight: bold; color: cornflowerblue; text-align: center;">
                                            <ui:insert  name="title">Titulo
                                            </ui:insert>
                                        </p>
                                    </div> 
                                </div>
                                <div class="row" >
                                    <div  class="col-12">
                                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" responsive="true" width="350">
                                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no ui-button-flat"/>
                                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" />
                                        </p:confirmDialog>
                                        <ui:insert name="contenido">   
                                            Contenido a sustituir
                                        </ui:insert>                 
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.content-wrapper -->
                    <footer class="main-footer">
                        <ui:include src="pie.xhtml" />
                    </footer>


                    <!-- Cambio de contrseña-->
                    <div class="modal fade" id="dialogoCambiarClave" data-backdrop="static" data-keyboard="false">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title">Cambiar contraseña</h4>
                                </div>
                                <h:form id="frmCambioClave">
                                    <div class="modal-body">
                                        <div class="row">
                                            <div class="input-group">
                                                <div class="form-group-addon col-4">
                                                    <label>Contraseña *</label>
                                                </div>
                                                <h:inputSecret id="claveInp" styleClass="form-control" 
                                                               value="#{sesion.clave}" 
                                                               required="true"
                                                               requiredMessage="Por favor introduzca la contraseña"/>
                                                <h:messages  for="claveInp" styleClass="text-danger"/>
                                            </div>
                                            <div class="input-group">
                                                <div class="form-group-addon  col-4">
                                                    <label>Confirmar contraseña *</label>
                                                </div>
                                                <h:inputSecret styleClass="form-control" 
                                                               value="#{sesion.claveNueva}" 
                                                               required="true"
                                                               id="claveRep"
                                                               requiredMessage="Por favor introduzca la contraseña"/>
                                                <h:messages for="claveRep"  styleClass="text-danger"/>
                                            </div>  
                                        </div>
                                        <div>
                                            <h:outputLabel id="lblMensajeClave" value="#{sesion.mensajeClave}" styleClass="text-danger"/>
                                        </div>

                                    </div>
                                    <div class="modal-footer">
                                        <p:commandLink value="Cerrar" styleClass="btn btn-default"
                                                       immediate="true"
                                                       action="#{sesion.cerrarCambioClave}"/>                                       
                                        <p:commandLink id="btnGuardarclave" value="Guadar" styleClass="btn btn-primary text-white" action="#{sesion.cambioClave}"
                                                       process="@form" update="@all frmCambioClave">
                                        </p:commandLink>
                                    </div>
                                </h:form>
                            </div>
                        </div>
                    </div>
                    <!-- Soportes-->
                    <div class="modal fade" id="dialogoAyuda" data-backdrop="static" data-keyboard="false">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title">Soporte del sistema</h4>
                                </div>
                                <h:form>
                                    <div class="modal-body">
                                        <p>Enviar al correo:</p>
                                        <ul>
                                            <li>
                                                <b>soportesia@ihsa.mx</b>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="modal-footer">
                                        <p:commandLink value="Cerrar" styleClass="btn btn-default" onclick="$(dialogoAyuda).modal('hide');"/>
                                    </div>
                                </h:form>
                            </div>
                        </div>
                    </div>
                </c:if>

            </div>
            <c:if test="#{empty sesion.proveedorVo}">
                <ui:include src="/login.xhtml"/>
            </c:if>
            <!--script type="text/javascript" src="../js/intro.min.js"></script-->

            <!-- jQuery -->
            <script src="/resources/js/jquery.min.js"></script>
            <!-- jQuery UI 1.11.4 -->
            <script>
                                            $.noConflict(true);
                                            // Code that uses other library's $ can follow here.
            </script>
            <script src="/resources/js/jquery-ui.min.js"></script>
            <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
            <script>
                                            $.widget.bridge('uibutton', $.ui.button);
            </script>
            <!-- Bootstrap 4 -->
            <script src="/resources/js/bootstrap.bundle.min.js"></script>
            <!-- overlayScrollbars -->
            <script src="/resources/js/jquery.overlayScrollbars.min.js"></script>
            <!-- AdminLTE App -->
            <script src="/resources/js/adminlte.js"></script>
        </h:body>


    </f:view>
</html>

