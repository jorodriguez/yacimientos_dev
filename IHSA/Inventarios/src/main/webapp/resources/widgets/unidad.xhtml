<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:composite="http://java.sun.com/jsf/composite">

    <composite:interface>
        <composite:attribute name="embedded" type="Boolean"/>
    </composite:interface>
    <composite:implementation>
	<h:panelGroup id="panelInformacion">
	    <table class="table-form">
		<tr>
		    <td style="width: 90px" class="bold">#{msg['sia.inventarios.comun.nombre']}:<span
			    class="required">*</span></td>
		    <td>
			<h:inputText value="#{unidad.elemento.nombre}" id="txtNombre" required="true" label="Nombre"
				     requiredMessage="#{msg['sia.validaciones.required']}"
				     styleClass="ui-inputfield ui-textentry ui-widget ui-state-optional ui-corner-all">
			    <f:ajax event="blur" render="msjNombre"/>
			</h:inputText>
			<h:message for="txtNombre" id="msjNombre"
				   styleClass="ui-widget ui-corner-all ui-state-error input-msg"/>
		    </td>
		</tr>
		<tr>
		    <td>#{msg['sia.inventarios.comun.descripcion']}:</td>
		    <td>
			<h:inputText id="txtDescripcion" value="#{unidad.elemento.descripcion}"
				     styleClass="ui-inputfield ui-textentry ui-widget ui-state-optional ui-corner-all"/>
		    </td>
		</tr>
	    </table>
	</h:panelGroup>
	<button type="button" class="hbutton #{cc.attrs.embedded ? 'block' : 'hidden'}" onclick="guardarUnidadEmbebida()">#{msg['sia.inventarios.comun.guardar']}</button>
	<h:commandButton id="btnGuardar" styleClass="hbutton #{cc.attrs.embedded ? 'hidden' : ''}" value="#{msg['sia.inventarios.comun.guardar']}"
			 actionListener="#{unidad.guardarElemento}"
			 title="#{cc.attrs.embedded ? msg['sia.inventarios.comun.crearRegistro'] : ''}">
	    <f:ajax execute="panelInformacion" render="@all"
		    onevent="#{cc.attrs.embedded ? 'fijarTituloDialogo' : 'ajaxGuardar'}"/>
	</h:commandButton>
	<h:commandButton styleClass="hidden" id="btnGuardarImmediate" actionListener="#{unidad.guardarElemento}"
			 immediate="true"
			 rendered="#{cc.attrs.embedded}">
	    <f:ajax execute="@all" render="@all" onevent="fijarTituloDialogoArticulo"/>
	</h:commandButton>
	<h:commandButton styleClass="hbutton cancelar hidden" value="#{msg['sia.inventarios.comun.cancelar']}"
			 actionListener="#{unidad.cancelar}"
			 rendered="#{cc.attrs.embedded}"
			 immediate="true">
	    <f:ajax render="@all" onevent="fijarTituloDialogo" execute="@all"/>
	</h:commandButton>
    </composite:implementation>

</html>
