<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"

                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/crud.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="titulo">
        Reporte de existencias con movimientos
    </ui:define>
    <ui:define name="contenido">        
        <h:form id="frmExistMov">
            <p:dataTable id="tablaDatosExistencia"  value="#{entradasSalidas.existenciasMovimientos}"  paginator="true"                       
                         var="m" paginatorAlwaysVisible="true" paginatorPosition="bottom" rows="20"
                         showGridlines="true" size="small">
                <p:column id="idAlmacen" headerText="#{msg['sia.inventarios.movimiento.almacen']}"  >
                    <h:outputText value="#{m.almacenNombre}"/>
                </p:column>
                <p:column id="idArt" headerText="#{msg['sia.inventarios.articulos.titulo']}"  style="text-align: left;">
                    <h:outputText value="#{m.articuloNombre}"/>
                </p:column>
                <p:column id="codigo" headerText="#{msg['sia.inventarios.articulos.codigo']}" >
                    <h:outputText value="#{m.codigo}"/>
                </p:column>
                <p:column id="codigoInt" headerText="#{msg['sia.inventarios.articulos.codigoBarras']}"  >
                    <h:outputText value="#{m.codigoInt}"/>
                </p:column>
                <p:column id="nombre" headerText="Disponibles" width="90">
                    <h:outputText value="#{m.totalUnidades}"/>
                </p:column>  
                <p:column id="precio" headerText="Precio"  width="80">
                    <h:outputText value="#{m.precio == 0 ? '':m.precio}"/>
                </p:column>
                <p:column id="moneda" headerText="Moneda" width="80">
                    <h:outputText value="#{m.moneda}"/>
                </p:column>  
                <p:column id="ubicacion" headerText="Ubicacion" width="110" >
                    <h:outputText value="#{m.ubicacion}"/>
                </p:column>  

                <p:column id="tipoMov" headerText="Tipo" width="110">
                    <h:outputText value="#{m.tipoMov}"/>
                </p:column>  
                <p:column id="fMov" headerText="Fec Mov" width="80">
                    <h:outputText value="#{m.fechaMov}"/>
                </p:column>  
                <p:column id="fol" headerText="Folio" >
                    <h:outputText value="#{m.folio}"/>
                </p:column>  
                <p:column id="uni" headerText="Unidades" width="80">
                    <h:outputText value="#{m.unidadesMov}"/>
                </p:column>  
                <p:column id="ger" headerText="Gerencia" >
                    <h:outputText value="#{m.gerenciaMov}"/>
                </p:column>  
                <p:column id="prov" headerText="Proveedor" >
                    <h:outputText value="#{m.proveedor}"/>
                </p:column>  
                <p:column id="usuari" headerText="Usuario" >
                    <h:outputText value="#{m.usuarioMov}"/>
                </p:column>  
                <p:column id="difDias" headerText="DÃ­as Stock" width="80">
                    <h:outputText value="#{m.diferenciaDias}"/>
                </p:column>  

            </p:dataTable>    
            <p:commandButton value="Exportar">
                <p:dataExporter fileName="Existencia" target="tablaDatosExistencia" type="xls" />
            </p:commandButton>
        </h:form>
    </ui:define>
</ui:composition>
