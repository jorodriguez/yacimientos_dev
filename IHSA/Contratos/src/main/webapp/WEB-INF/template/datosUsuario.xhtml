<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"


                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"                
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui">

    <ul class="nav navbar-top-links navbar-right">
        <li>
            <span><b> #{sesion.usuarioSesion.nombre}</b></span>
        </li>
        <li>
            <span>#{sesion.usuarioSesion.puesto} </span>
        </li>
        <li>
            <span > <a onclick="$(dialogoUsuarioCampo).modal('show');">#{sesion.usuarioSesion.campo}</a></span>
        </li>
        <li>
            <span>
                <p:commandLink action="/vistas/contrato/admin/tickectContr"
                               title="Registrar ticket" >
                    <img src="../resources/img/gr/soporte.png" width="18" height="18" style="border-radius: 50%;"/>                    
                </p:commandLink>
            </span>
        </li>
        <li>
            <span>
                <p:commandLink action="#{sesion.cerrarSesion}"
                               title="Salir del sistema">
                    <i class="fa fa-sign-out fa-2x text-danger"></i>
                </p:commandLink>
            </span>
        </li>
    </ul>
    <!-- Registro de categorÃ­a -->
    <div class="modal fade" id="dialogoUsuarioCampo" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Campos</h4>
                </div>
                <div class="modal-body">				    
                    <p:dataTable id="dtCampos" value="#{sesion.lista}" var="data"
                                 styleClass="table table-responsive"
                                 selectionMode="single"
                                 selection="#{sesion.campoUsuarioPuestoVo}" 
                                 rowKey="#{data.idCampoUsuarioPuesto}">
                        <p:ajax event="rowSelect" listener="#{sesion.cambioCampoUsuario}" 
                                update="@all"/>
                        <p:column style="text-align: left;">
                            <h:outputText value="#{data.campo}"
                                          class="#{sesion.usuarioSesion.campo eq data.campo ? 'text text-primary' : ''}">
                            </h:outputText>
                        </p:column>
                    </p:dataTable>
                </div>
                <div class="modal-footer">
                    <p:commandLink value="Cerrar" styleClass="btn btn-default"
                                   immediate="true"
                                   onclick="$(dialogoUsuarioCampo).modal('hide');"/>
                </div>
            </div>
        </div>	
    </div>
</ui:composition>