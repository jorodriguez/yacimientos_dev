<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"

                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                >
    <script type="text/javascript">
        $(document).ready(function () {
            datos('frmPrincipalContrato', 'hidenDes', 'btnFiltro');
        });</script>
    <h:form id="frmPrincipalContrato">
        <div id="divFiltro" class="card-body">
            <nav class="navbar navbar-collapse">
                <div class="container-fluid">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                            <span class="sr-only">Navegaci√≥n</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="#">
                            <i class="fa fa-filter"></i>
                        </a>
                    </div>
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <div class="navbar-form navbar-left col-12">
                            <div class="form-group col-12">
                                <p:selectOneMenu value="#{contratoBean.idProveedor}" styleClass="form-control" >
                                    <f:selectItem itemLabel="Seleccione . . ." itemValue="-1"/>
                                    <f:selectItems value="#{contratoBean.traerProveedor}"/>
                                    <p:ajax event="change" update="@form" listener="#{contratoBean.buscarContratoCambiarProveedor}"/>
                                </p:selectOneMenu>								    
                            </div>
                        </div>
                        <ul class="nav navbar-nav navbar-right">
                            <li><a  onclick="divDialogoImporte.show();" style="font-weight: #{contratoBean.filtroVo.filtroImporte eq true ? 'bold' :'normal'}">Importe <span class="caret"></span></a></li>			

                            <li >
                                <p:commandLink action="#{contratoBean.buscarPorAlcance}" 

                                               style="font-weight: #{contratoBean.filtroVo.filtroAlcance eq true ? 'bold' :'normal'}"
                                               value="Alcance">
                                    <span class="caret"></span>
                                </p:commandLink>
                            </li>
                            <!--li><a href="#">Vencimiento</a></li-->
                        </ul>
                    </div>
                </div>
            </nav>
            <p:dialog widgetVar="divDialogoImporte" closable="true"
                      showEffect="slide" position="'top', 'right'" 
                      closeOnEscape="true" header="Importe" modal="true" >
                <div id="divImporte" class="col-12">
                    <p:selectOneMenu id="cboOperador" value="#{contratoBean.filtroVo.idOperador}" 
                                     styleClass="cutom-control" 
                                     >
                        <f:selectItem itemLabel="Seleccione . . ." itemValue="-1"/>
                        <f:selectItem itemLabel="Igual"	    itemValue="1"/>
                        <f:selectItem itemLabel="Menor a " itemValue="2"/>
                        <f:selectItem itemLabel="Mayor a " itemValue="3"/>
                        <p:ajax event="change" listener="#{contratoBean.buscarContratoOperador}" update="@form"/>
                    </p:selectOneMenu><br/>
                    <h:inputText id="inpImporte" value="#{contratoBean.filtroVo.importe}" size="8" 
                                 styleClass="form-control" >
                    </h:inputText><br/>
                    <p:selectOneMenu id="cboMoneda" value="#{contratoBean.filtroVo.idMoneda}" 
                                     styleClass="custom-control"
                                     >
                        <f:selectItem itemLabel="Seleccione . . . " itemValue="-1"/>
                        <f:selectItems value="#{contratoBean.traerMoneda}"/>
                        <p:ajax event="change" listener="#{contratoBean.buscarContratoMoneda}" update="@form"/>
                    </p:selectOneMenu>
                    <br/>
                </div>
            </p:dialog>
            <!--p:dialog widgetVar="divDialogoAlcance" closable="true"
                        showEffect="slide" position="'center', 'right'" 
                        closeOnEscape="false" header="Alcance" modal="true">		

                <h:inputHidden value="#{contratoBean.filtroVo.alcance}" id="inpHiddenAlcance"/>
                <p:commandLink id="btnBuscarAlcance" value="Buscar" style="display: none;" 
                                 action="#{contratoBean.buscarContratoPorAlcance}"/>
                <p:commandLink id="btnBuscarAlcanceRegreso" value="Buscar" style="display: none;" 
                                 action="#{contratoBean.buscarContratoPorAlcanceRegreso}"/>
                <p:commandLink id="btnBuscarContrato" value="Buscar" style="display: none;" 
                                 action="#{contratoBean.reiniciarListaConvenio}"/>
            </p:dialog-->
        </div>
        <div class="row-fluid">
            <div class="form-group col-4">
                <ui:fragment rendered="#{contratoBean.idProveedor gt 0}">
                    <div id="divNombreProveedor" class="col-10">
                        <h:outputLabel value="#{contratoBean.filtroVo.proveedor}"
                                       style="font-size: 0.8em; font-style: italic;"/>
                    </div>

                    <div class="col-2">
                        <p:commandLink id="btnQuitarProveedor"  action="#{contratoBean.quitarProveedor}"
                                       style="margin-top: 2%;">
                            <i class="fa fa-remove text-danger"></i>
                        </p:commandLink>
                    </div>
                </ui:fragment>
            </div>
            <div class="form-group col-4">
                <ui:fragment rendered="#{contratoBean.filtroVo.filtroImporte eq true}">
                    <div class="col-12" >	
                        <h:outputLabel value="$" styleClass="col-2 text-primary" />		    
                        <h:outputLabel  value="#{contratoBean.filtroVo.operador}" styleClass="col-4" style="font-size: 0.8em; font-style: italic;"/>
                        <h:outputLabel  value="#{contratoBean.filtroVo.importe} " styleClass="col-2" style="font-size: 0.8em; font-style: italic;"/>
                        <h:outputLabel  value="#{contratoBean.filtroVo.moneda}" styleClass="col-2" style="font-size: 0.8em; font-style: italic;"/>
                        <p:commandLink  action="#{contratoBean.quitarFiltroImporte}"
                                        class="col-2" style="margin-top: 1%;">
                            <i class="fa fa-remove text-danger"></i>
                        </p:commandLink>
                    </div>
                </ui:fragment>
            </div>
            <div id="divFiltroAlcance" class="form-group col-4">
                <ui:fragment rendered="#{contratoBean.filtroVo.filtroAlcance  eq true}">
                    <div class="col-10">
                        <h:outputLabel value="#{contratoBean.filtroVo.alcance}"/>
                    </div>
                    <div class="col-2">
                        <p:commandLink id="btnAlcance"  action="#{contratoBean.quitarFiltroAlcance}"
                                       class="col-2" style="margin-top: 1%;">
                            <i class="fa fa-remove text-danger"></i>
                        </p:commandLink>
                    </div>
                </ui:fragment>
                <ui:fragment rendered="#{contratoBean.filtroVo.filtroBuscarAlcance  eq true}">
                    <div class="col-10">
                        <h:inputText id="inpAlcance" value="#{contratoBean.filtroVo.alcance}" size="40" 
                                     styleClass="form-control"
                                     autocomplete="off" 
                                     onblur="ejecutarFiltros('frmPrincipalContrato', 'btnBuscarContrato');"
                                     onkeydown="buscarPorAlcanceRegreso('frmPrincipalContrato', 'inpAlcance', 'inpHiddenAlcance', 'btnBuscarAlcanceRegreso');"
                                     onkeyup="buscarPorAlcance('frmPrincipalContrato', 'inpAlcance', 'inpHiddenAlcance', 'btnBuscarAlcance');">

                        </h:inputText>
                        <p:commandLink id="btnBuscarAlcance" value="Buscar" style="display: none;" 
                                       action="#{contratoBean.buscarContratoPorAlcance}"/>
                        <p:commandLink id="btnBuscarAlcanceRegreso" value="Buscar" style="display: none;" 
                                       action="#{contratoBean.buscarContratoPorAlcanceRegreso}"/>
                        <p:commandLink id="btnBuscarContrato" value="Buscar" style="display: none;" 
                                       action="#{contratoBean.reiniciarListaConvenio}"/>
                    </div>
                </ui:fragment>
            </div>
        </div>

    </h:form>
</ui:composition>