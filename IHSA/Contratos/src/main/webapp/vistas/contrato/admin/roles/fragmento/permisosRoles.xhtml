<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"

                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui">
    <div class="row">
        <div class="col-1">
            <p:commandLink  styleClass="btn btn-md" 
                            action="#{rolBean.llenarJson}"
                            title="Agregar permiso" process="@this" update="frmRolContrato:tabViewPermisos">
                <i class="fa fa-plus text-primary"/>
            </p:commandLink>
        </div>
        <div class="col-4">
            <p:selectOneMenu value="#{rolBean.idRol}" 
                             styleClass="custom-select"
                             >
                <f:selectItem itemLabel="Seleccione . . . " itemValue="-1"/>
                <f:selectItems value="#{rolBean.mapaSelect.get('roles')}"/>
                <p:ajax listener="#{rolBean.cambiarRol}" update="dtRoles"/>
            </p:selectOneMenu>
        </div> 
    </div>
    <div class="table table-responsive">
        <p:dataTable id="dtRoles" value="#{rolBean.listaUsuarioRol}" var="data"
                     showGridlines="true" size="small"
                     selection="#{rolBean.usuarioRolVo}" selectionMode="single" rowKey="#{data.idUsuarioRol}">
            <p:ajax event="rowSelect" listener="#{rolBean.seleccionarUsuario}" update="frmRolContrato:tabViewPermisos"/>
            <f:facet name="header">Empleados con permiso a contratos</f:facet>
            <p:column style="text-align: left;">
                <h:outputText value="#{data.usuario}"/>
            </p:column>	
            <p:column>
                <p:commandLink value="Eliminar" action="#{rolBean.eliminarUsuario(data.idUsuarioRol)}"
                               process="@this" update="@form">
                </p:commandLink>
            </p:column>
        </p:dataTable>
    </div>
</ui:composition>