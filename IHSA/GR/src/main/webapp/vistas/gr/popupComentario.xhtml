<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                >

    <div class="modal fade" id="dialogoPopUpAddComentario" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog" style="width: 70%;">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">Agregar Comentario</h4>
                </div>
                <h:form id="frmPnlAddCom" styleClass="textoIzquierda">
                    <div class="modal-body">                                                                                                        
                        <div class="container-fluid">
                            <div class="form-group panel">                                                            
                                <div class="col-lg-12" style="margin-bottom: 5px;">
                                    <h:inputTextarea styleClass="form-control" value="#{sesion.txtComentario}" />
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-9"></div>  
                    </div>
                    <div class="modal-footer" style="border-top: white;">
                        <h:commandButton id="saveComentario"
                                         value="Guardar"
                                         styleClass="btn btn-info" 
                                         onclick="return window.confirm('¿Está seguro de agregar el comentario?');"
                                         actionListener="#{sesion.agregarComentario(actionEvent)}"
                                         />
                        <h:commandButton
                            value="Cerrar"
                            styleClass="btn btn-cancelar"
                            onclick="$(dialogoPopUpAddComentario).modal('hide');"
                            title="Cerrar ventana..." 
                            />
                    </div>    
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoPopUpInterseccion" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog" style="width: 70%;">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">Interceptar Viajes</h4>
                </div>
                <h:form id="frmPnlIntViaje" styleClass="textoIzquierda">
                    <div class="modal-body">                                                                                                        
                        <div class="container-fluid">
                            <div class="form-group panel">                                                                                            
                                <div class="form-group col-lg-12 col-xs-12" >
                                    <div class="visible-lg col-lg-1" ></div>
                                    <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Viaje:"/></strong>
                                    <div class="col-lg-7 col-xs-12">                                            
                                        <h:selectOneMenu id="idPuntoS" styleClass="form-control"
                                                           value="#{sesion.idViajeIntB}"                                                           
                                                           >
                                            <f:selectItem itemValue="0" itemLabel="Seleccione . . . "/>
                                            <c:forEach items="#{sesion.lstViajesInt}" var="vint">
                                                <f:selectItem itemValue="#{vint.id}" itemLabel="#{vint.codigo} Responsable: #{vint.responsable}"/>
                                            </c:forEach>
                                        </h:selectOneMenu>
                                    </div>
                                    <div class="visible-lg col-lg-2" ></div>
                                </div>                               
                            </div>
                        </div>
                        <div class="col-lg-9"></div>  
                    </div>
                    <div class="modal-footer" style="border-top: white;">
                        <h:commandButton id="saveInterseccion"
                                         value="Guardar"
                                         styleClass="btn btn-info" 
                                         onclick="return window.confirm('¿Está seguro de guardar la intercepción de los viajes?');"
                                         actionListener="#{sesion.interceptarViaje(actionEvent)}"
                                         />
                        <p:commandButton
                            value="Cerrar"
                            styleClass="btn btn-cancelar"
                            onclick="$(dialogoPopUpInterseccion).modal('hide');"
                            title="Cerrar ventana..." 
                            />
                    </div>    
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoPopUpLlegadaPS" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog" style="width: 70%;">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">Punto de seguridad de la intercepción de los viajes</h4>                                                                
                </div>
                <h:form id="frmPnlLlegadaPS" styleClass="textoIzquierda">
                    <div class="modal-body">                                                                                                        
                        <div class="container-fluid">
                            <div class="form-group panel">                                          
                                <div style="margin-top: 0px;" class="col-lg-12 col-xs-12">                        
                                    <h:message  for="" style="display: block;" infoClass="alert alert-success" warnClass="alert alert-warning"
                                                errorClass="alert alert-danger" fatalClass="alert alert-danger"  />
                                </div>
                                <div class="form-group col-lg-12 col-xs-12" >
                                    <div class="visible-lg col-lg-3" ></div>
                                    <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="P. Seguridad:"/></strong>
                                    <div class="col-lg-7 col-xs-12">                                            
                                        <h:selectOneMenu id="idPuntoS" styleClass="form-control"
                                                           value="#{sesion.idPSLlegada}"                                                               
                                                           >
                                            <f:selectItem itemValue="0" itemLabel="Seleccione . . . "/>
                                            <f:selectItems value="#{sesion.puntosItems}"/>
                                        </h:selectOneMenu>
                                    </div>
                                    <div class="visible-lg col-lg-3" ></div>
                                </div>            


                            </div>
                        </div>
                        <div class="col-lg-9"></div>  
                    </div>
                    <div class="modal-footer" style="border-top: white;">
                        <h:commandButton id="saveLlegada"
                                         value="Guardar"
                                         styleClass="btn btn-info" 
                                         onclick="return window.confirm('¿Está seguro de guardar la llegada al punto de seguridad?');"
                                         actionListener="#{sesion.guardarLlegadaPS(actionEvent)}"
                                         />
                        <p:commandButton
                            value="Cerrar"
                            styleClass="btn btn-cancelar"
                            onclick="$(dialogoPopUpLlegadaPS).modal('hide');"
                            title="Cerrar ventana..." 
                            />
                    </div>    
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoPopUpDetalleInt" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog" style="width: 70%;">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">Intercepción de viajes</h4>
                </div>
                <h:form id="frmPnlDetalleInt" styleClass="textoIzquierda">
                    <div class="modal-body">                                                                                                        
                        <div class="container-fluid">
                            <div class="form-group panel">                                                                                                                            
                                <strong><h:outputText class="col-lg-12 col-xs-12 control-label" value="Intercambio entre los viajes #{sesion.intercepcion.viajeA.codigo} y el viaje #{sesion.intercepcion.viajeB.codigo}"/></strong>
                                <div class="form-group col-lg-12 col-xs-12" >                                                                        
                                    <div class="col-lg-12 col-xs-12" style="margin-top: 5px;">                                            
                                        <h:outputText class="col-lg-1 col-xs-8 control-label" value="Vehículos:"/>
                                        <h:selectBooleanCheckbox styleClass="col-lg-1 col-xs-4" value="#{sesion.intercepcion.intercambiarVehiculo}"/>
                                    </div>                                    

                                    <div class="col-lg-12 col-xs-12" style="margin-top: 20px;">                                            
                                        <strong><h:outputText class="col-lg-12 col-xs-12 control-label" value="Viajeros del viaje #{sesion.intercepcion.viajeA.codigo} (#{sesion.intercepcion.viajeA.ruta})"/></strong>
                                        <c:forEach items="#{sesion.intercepcion.viajeA.listaViajeros}" var="viajeroA">
                                            <div class="col-lg-12 col-xs-12 input-group panel panel-default" style="border: white; border-style: none; border-width: 1px; margin-bottom: 0px;">
                                                <div class="form-group col-lg-12 col-xs-12" style="border: white; border-bottom: #eee; border-top: white;  border-style: solid; border-width: 2px;">
                                                    <h:outputText styleClass="col-lg-5 col-xs-12 control-label" value="#{viajeroA.idInvitado eq 0 ? viajeroA.usuario : viajeroA.invitado}" /> 
                                                    <div class="col-lg-2 col-xs-12">
                                                        <h:outputText styleClass="control-label" value="#{viajeroA.idInvitado eq 0 ? 'Empleado' : 'Invitado'}"/>
                                                    </div>
                                                    <div class="col-lg-5 col-xs-12">
                                                        <h:outputText styleClass="control-label" value=" se intercabiara al viaje #{sesion.intercepcion.viajeB.codigo}  "/>
                                                        <h:selectBooleanCheckbox style="margin-left: 5px;" value="#{viajeroA.intercambiarEnViaje}"/>
                                                    </div>                                                    
                                                </div>    
                                            </div>                                            
                                        </c:forEach>     
                                    </div>
                                    <div class="col-lg-12 col-xs-12" style="margin-top: 20px;">                                            
                                        <strong><h:outputText class="col-lg-12 col-xs-12 control-label" value="Viajeros del viaje #{sesion.intercepcion.viajeB.codigo} (#{sesion.intercepcion.viajeB.ruta})"/></strong>
                                        <c:forEach items="#{sesion.intercepcion.viajeB.listaViajeros}" var="viajeroB">
                                            <div class="col-lg-12 col-xs-12 input-group panel panel-default" style="border: white; border-style: none; border-width: 1px; margin-bottom: 0px;">
                                                <div class="form-group col-lg-12 col-xs-12" style="border: white; border-bottom: #eee; border-top: white;  border-style: solid; border-width: 2px;">
                                                    <h:outputText styleClass="col-lg-5 col-xs-12 control-label" value="#{viajeroB.idInvitado eq 0 ? viajeroB.usuario : viajeroB.invitado}" /> 
                                                    <div class="col-lg-2 col-xs-12">
                                                        <h:outputText styleClass="control-label" value="#{viajeroB.idInvitado eq 0 ? 'Empleado' : 'Invitado'}"/>
                                                    </div>
                                                    <div class="col-lg-5 col-xs-12">
                                                        <h:outputText styleClass="control-label" value=" se intercabiara al viaje #{sesion.intercepcion.viajeA.codigo}  "/>
                                                        <h:selectBooleanCheckbox style="margin-left: 5px;" value="#{viajeroB.intercambiarEnViaje}"/>
                                                    </div>                                                    
                                                </div>    
                                            </div>                                            
                                        </c:forEach>     
                                    </div>
                                </div>            
                            </div>
                        </div>
                        <div class="col-lg-9"></div>  
                    </div>
                    <div class="modal-footer" style="border-top: white;">
                        <h:commandButton id="saveDetalleInt"
                                         value="Guardar"
                                         styleClass="btn btn-info" 
                                         onclick="return window.confirm('¿Está seguro de realizar el intercambio entre los viajes?');"
                                         actionListener="#{sesion.guardarDetalleInt(actionEvent)}"
                                         />
                        <p:commandButton
                            value="Cerrar"
                            styleClass="btn btn-cancelar"
                            onclick="$(dialogoPopUpDetalleInt).modal('hide');"
                            title="Cerrar ventana..." 
                            />
                    </div>    
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoPopUpSS" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog" style="width: 70%;">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">Gestion de Riesgos Autoriza</h4>
                </div>
                <h:form id="frmPnlGRAUT" styleClass="textoIzquierda">
                    <div class="modal-body">                                                                                                        
                        <div class="container-fluid">
                            <div class="form-group panel">                                                            
                                <div class="col-lg-12" style="margin-bottom: 5px;">
                                    <h:inputTextarea styleClass="form-control" value="#{sesion.grAutTxtMotivo}">
                                        <f:validateLength maximum="1028"/>
                                    </h:inputTextarea>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-9"></div>  
                    </div>
                    <div class="modal-footer" style="border-top: white;">
                        <h:commandButton id="saveGRAUT"
                                         value="Guardar"
                                         styleClass="btn btn-info" 
                                         onclick="return window.confirm('¿Está seguro de guardar el cambio?');"
                                         actionListener="#{sesion.guardarGRAutoriza(actionEvent)}"
                                         />
                        <p:commandButton
                            value="Cerrar"
                            styleClass="btn btn-cancelar"
                            onclick="$(dialogoPopUpSS).modal('hide');"
                            title="Cerrar ventana..." 
                            />
                    </div>    
                </h:form>
            </div>
        </div>
    </div>


    <div class="modal fade" id="dialogoPopUpViajeDet" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog" style="width: 70%;">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">Detalle del viaje</h4>
                </div>
                <h:form id="frmPnlViajeDet" styleClass="textoIzquierda">
                    <div class="modal-body">                                                                                                        


                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">                                                                                                                                                                        
                                    <strong>#{sesion.viajeD.codigo} (#{sesion.viajeD.responsable} / #{sesion.viajeD.responsableTel}) (#{sesion.viajeD.vehiculoVO.modelo}/#{sesion.viajeD.vehiculoVO.numeroPlaca}) (Viajeros:#{sesion.viajeD.listaViajeros.size()})(F.Prog: #{sesion.viajeD.fechaProgramadaTxt} #{sesion.viajeD.horaProgramadaTxt})</strong>
                                </h3>                                                                
                            </div>
                            <div class="panel-body" id="pbvprRV#{sesion.viajeD.id}">                                         
                                <div class="col-lg-12 col-xs-12" style="margin-bottom: 15px;">
                                    <c:forEach items="#{sesion.viajeD.listaViajeros}" var="viajero">
                                        <div class="col-lg-12 col-xs-12 input-group panel panel-default" style="border: white; border-style: none; border-width: 1px; margin-bottom: 0px;">
                                            <div class="form-group col-lg-12 col-xs-12" style="border: white; border-bottom: #eee; border-top: white;  border-style: solid; border-width: 2px;">
                                                <div class="col-lg-5 col-xs-12">                                                    
                                                    <h:outputText styleClass="control-label" value="Viajero"/>  
                                                    <strong><h:outputText styleClass="col-lg-12 col-xs-12 control-label" value="#{viajero.idInvitado eq 0 ? viajero.usuario : viajero.invitado}" /></strong> 
                                                </div>

                                                <ui:fragment  rendered="#{sesion.viajeD.idEstatus ne 515}">
                                                    <div class="col-lg-3 col-xs-12">
                                                        <h:outputText styleClass="control-label" value="Tipo"/>  
                                                        <strong><h:outputText styleClass="col-lg-12 col-xs-12 control-label" value="#{viajero.idInvitado eq 0 ? 'Empleado' : 'Invitado'}"/></strong>
                                                    </div>
                                                </ui:fragment>
                                                <ui:fragment  rendered="#{sesion.viajeD.idEstatus eq 515}">
                                                    <div class="col-lg-3 col-xs-12">
                                                        <h:outputText styleClass="control-label" value="Gerente"/>  
                                                        <strong><h:outputText styleClass="col-lg-12 col-xs-12 control-label" value="#{viajero.responsableDeGerencia}"/></strong>
                                                    </div>
                                                </ui:fragment>



                                                <ui:fragment rendered="#{viajero.idSolicitudViaje eq 0 and !viajero.grAutorizo}">                                                                
                                                    <p:commandLink 
                                                        styleClass="col-lg-2 col-xs-12 control-label text-danger" 
                                                        value="Sin Solicitud" 
                                                        title="#{viajero.generoSolicitudViaje ne null ? viajero.generoSolicitudViaje : ''}"
                                                        actionListener="#{sesion.goGRAutoriza(actionEvent)}">                                                                
                                                        <f:param name="idViajero" value="#{viajero.id}"/>
                                                    </p:commandLink>
                                                </ui:fragment>
                                                <ui:fragment rendered="#{viajero.idSolicitudViaje eq 0 and viajero.grAutorizo}">                                                                
                                                    <p:commandLink 
                                                        styleClass="col-lg-2 col-xs-12 control-label text-danger" 
                                                        value="GR Autorizo" 
                                                        title="#{viajero.generoSolicitudViaje ne null ? viajero.generoSolicitudViaje : ''}"
                                                        actionListener="#{sesion.goGRAutoriza(actionEvent)}">                                                                
                                                        <f:param name="idViajero" value="#{viajero.id}"/>
                                                    </p:commandLink>
                                                </ui:fragment>                                                            
                                                <ui:fragment rendered="#{viajero.idSolicitudViaje gt 0}">
                                                    <div class="col-lg-2 col-xs-12">
                                                        <h:outputText styleClass="control-label" value="Código"/>  
                                                        <strong><h:outputText styleClass="col-lg-12 col-xs-12 control-label" value="#{viajero.codigoSolicitudViaje}" title="#{viajero.generoSolicitudViaje ne null ? viajero.generoSolicitudViaje : ''}"/></strong>
                                                    </div>
                                                </ui:fragment>

                                                <div class="col-lg-1 col-xs-12">
                                                    <h:outputText styleClass="control-label" value="Telefono"/>  
                                                    <strong><h:outputText styleClass="control-label" value="#{viajero.telefono}"/></strong>
                                                </div>
                                                <ui:fragment rendered="#{sesion.viajeD.idEstatus eq 515}">
                                                    <p:commandLink styleClass="col-lg-1 col-xs-12 btn btn-info btn-sm"                                                                                                                                                                                      
                                                                     action="#{sesion.bajarViajero(event)}" 
                                                                     title="Bajar viajero"
                                                                     >
                                                        <span class="glyphicon glyphicon-remove-sign"></span> 
                                                        <f:param name="idViajeroBaja" value="#{viajero.id}"/>
                                                    </p:commandLink>
                                                </ui:fragment>
                                            </div>    
                                        </div>                                            
                                    </c:forEach>                                                                                
                                </div>

                                <ui:fragment rendered="#{sesion.viajeD.idNoticia gt 0}">
                                    <div class="col-lg-12 col-xs-12 panel panel-info panel-heading" style="margin-bottom: 15px;">
                                        <div class="panel-heading">
                                            <h3 class="visible-lg panel-title">                                                                                                                                                                        
                                                <strong>Comentarios</strong>
                                            </h3>
                                            <h3 class="visible-xs" title="Comentarios">
                                                <span class="pull-left"><i class="glyphicon glyphicon-comment"></i></span>
                                            </h3>
                                            <span class="pull-right clickable panel-collapsed"><i class="glyphicon glyphicon-chevron-down"  id="ivprRVC#{sesion.viajeD.id}"></i></span>
                                            <input type="hidden" class="hiddenID" value="vprRVC#{sesion.viajeD.id}"></input>
                                        </div>
                                        <div class="panel-body" id="pbvprRVC#{sesion.viajeD.id}" style="display: none;"> 
                                            <ui:fragment rendered="#{grBean.admin}">
                                                <div class="col-lg-12 col-xs-12" style="margin-bottom: 15px;">                                                                                                            
                                                    <div class="visible-lg col-lg-9"></div>                                                                                    
                                                    <p:commandLink 
                                                        value="Agregar Comentario"
                                                        styleClass="visible-lg col-lg-3 btn btn-info"
                                                        actionListener="#{sesion.goAddComentario(actionEvent)}"
                                                        title="Click aquí para agregar un comentario..." >
                                                    </p:commandLink>
                                                    <p:commandLink
                                                        value="Comentario"
                                                        styleClass="visible-xs col-xs-12 btn btn-info btn-xs"                                                                                                             
                                                        actionListener="#{sesion.goAddComentario(actionEvent)}"
                                                        title="Click aquí para agregar un comentario..." >                                                        
                                                        <span class="glyphicon glyphicon-plus"></span>                                         
                                                    </p:commandLink>
                                                </div>
                                            </ui:fragment>
                                            <c:forEach items="#{sesion.viajeD.noticia.listaComentario}" var="comentario">
                                                <div class="col-lg-12 col-xs-12 input-group panel panel-default" style="border: white; border-style: none; border-width: 1px; margin-bottom: 0px;">
                                                    <div class="form-group col-lg-12 col-xs-12" style="border: white; border-bottom: #eee; border-top: white;  border-style: solid; border-width: 2px;">                                                            
                                                        <div class="row" style="margin-top: 5px;">
                                                            <h:outputLabel styleClass="control-label" value="#{comentario.usuarioNombre}"/>
                                                            <h:outputText styleClass="control-label" value=" - "/>  
                                                            <h:outputText styleClass="control-label" value="#{comentario.fechaGenero}">
                                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                            </h:outputText>
                                                            <h:outputText styleClass="control-label" value=" - "/>  
                                                            <h:outputText styleClass="control-label" value="#{comentario.horaGenero}">
                                                                <f:convertDateTime pattern="h:mm a" timeStyle="default" type="time"/>
                                                            </h:outputText>
                                                        </div>
                                                        <div class="row" style="margin-top: 5px;">
                                                            <strong><h:outputText styleClass="control-label" value="Comentario: "/></strong>
                                                            <h:outputText styleClass="control-label" value="#{comentario.mensaje}"/>
                                                        </div>                                                                                                                                                                        
                                                    </div>    
                                                </div>                                            
                                            </c:forEach>    
                                        </div>                                       
                                    </div>
                                </ui:fragment>
                                <ui:fragment rendered="#{grBean.admin}">                                    
                                    <p:commandLink 
                                        rendered="#{sesion.viajeD.idEstatus eq 501}"                                        
                                        value="Iniciar viaje"
                                        styleClass="col-lg-2 col-xs-12 btn btn-info btn-sm"   
                                        onclick="if (!confirm('¿Desea iniciar el viaje..?'))
                                                    return false;"
                                        actionListener="#{sesion.IniciarViaje(actionEvent)}"
                                        title="Click aquí para iniciar el viaje..." >                                                                                                        
                                        <f:param name="idViaje" value="#{sesion.viajeD.id}"/>
                                        <f:param name="idInter" value="#{sesion.viajeD.idIntercambio}"/>                                    
                                        <f:ajax event="click" render="viajesPenID"/>
                                    </p:commandLink>
                                    <ui:fragment rendered="#{sesion.viajeD.idEstatus eq 501}"><div class="visible-lg col-lg-1"></div></ui:fragment>
                                    <p:commandLink 
                                        rendered="#{sesion.viajeD.idEstatus eq 501}"
                                        value="Cancelar Viaje"
                                        styleClass="col-lg-2 col-xs-12 btn btn-info btn-sm"                                                     
                                        onclick="if (!confirm('¿Está seguro de cancelar el viaje..?'))
                                                    return false;"
                                        actionListener="#{sesion.cancelarViajePendiente(actionEvent)}"
                                        title="Click aquí para cancelar el viaje..." >                                                                                        
                                        <f:param name="idViaje" value="#{sesion.viajeD.id}"/>
                                    </p:commandLink>
                                    <ui:fragment rendered="#{sesion.viajeD.idEstatus eq 501}"><div class="visible-lg col-lg-1"></div></ui:fragment>
                                    <p:commandLink 
                                        rendered="#{sesion.viajeD.idIntercambio eq 0 and sesion.viajeD.idEstatus eq 510}"
                                        value="Finalizar Viaje"
                                        styleClass="col-lg-2 col-xs-12 btn btn-info btn-sm"                                                                                                         
                                        onclick="if (!confirm('¿Está seguro de finalizar el viaje..?'))
                                                    return false;"
                                        actionListener="#{sesion.finalizarViaje(actionEvent)}"
                                        title="Click aquí para finalizar el viaje..." >                                                                                        
                                        <f:param name="idViaje" value="#{sesion.viajeD.id}"/>  
                                        <f:param name="idInter" value="0"/>                                    
                                        <f:ajax event="click" render="viajesProID"/>
                                    </p:commandLink>        
                                    <ui:fragment rendered="#{sesion.viajeD.idIntercambio eq 0 and sesion.viajeD.idEstatus eq 510}"><div class="visible-lg col-lg-1"></div></ui:fragment>
                                    <p:commandLink 
                                        rendered="#{sesion.viajeD.idEstatus eq 515}"
                                        value="Cancelar Viaje"
                                        styleClass="col-lg-2 col-xs-12 btn btn-info btn-sm"                                                     
                                        onclick="if (!confirm('¿Está seguro de cancelar el viaje..?'))
                                                    return false;"
                                        actionListener="#{sesion.cancelarViaje(actionEvent)}"
                                        title="Click aquí para cancelar el viaje..." >                                                                                        
                                        <f:param name="idViaje" value="#{sesion.viajeD.id}"/>
                                    </p:commandLink>
                                    <ui:fragment rendered="#{sesion.viajeD.idEstatus eq 515}"><div class="visible-lg col-lg-1"></div></ui:fragment>
                                    <p:commandLink 
                                        rendered="#{sesion.viajeD.idIntercambio eq 0 and sesion.viajeD.idEstatus eq 515}"
                                        value="Autorizar Viaje"
                                        styleClass="col-lg-2 col-xs-12 btn btn-info btn-sm"                                                                                                         
                                        onclick="if (!confirm('¿Está seguro de autorizar el viaje..?'))
                                                    return false;"
                                        actionListener="#{sesion.AutorizarViaje(actionEvent)}"
                                        title="Click aquí para autorizar el viaje..." >                                                                                        
                                        <f:param name="idViaje" value="#{sesion.viajeD.id}"/>
                                    </p:commandLink>
                                    <ui:fragment rendered="#{sesion.viajeD.idIntercambio eq 0 and sesion.viajeD.idEstatus eq 515}"><div class="visible-lg col-lg-1"></div></ui:fragment>
                                    <p:commandLink 
                                        rendered="#{sesion.viajeD.idIntercambio eq 0 and (sesion.viajeD.idEstatus eq 501 or sesion.viajeD.idEstatus eq 510)}"
                                        style="margin-bottom: 15px;"
                                        value="Interceptar Viaje"
                                        styleClass="col-lg-2 col-xs-12 btn btn-info btn-sm"                                                                     
                                        onclick="if (!confirm('¿Desea interceptar el viaje con otro..?'))
                                                    return false;"
                                        actionListener="#{sesion.goInterceptarViaje(actionEvent)}"
                                        title="Click aquí para interceptar el viaje..." >                                                                                                        
                                        <f:param name="idViaje" value="#{sesion.viajeD.id}"/>
                                    </p:commandLink>  
                                    <ui:fragment rendered="#{sesion.viajeD.idIntercambio eq 0 and (sesion.viajeD.idEstatus eq 501 or sesion.viajeD.idEstatus eq 510)}"><div class="visible-lg col-lg-1"></div></ui:fragment>
                                    <p:commandLink 
                                        rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and sesion.viajeD.idOpercion gt 0 and sesion.viajeD.idOpercionRetomarViaje gt 0 and sesion.viajeB.idOpercion gt 0 and sesion.viajeB.idOpercionRetomarViaje gt 0}"
                                        style="margin-bottom: 15px;"
                                        value="Interceptar Viaje"
                                        styleClass="col-lg-2 col-xs-12 btn btn-info btn-sm"                                                                     
                                        onclick="if (!confirm('¿Desea interceptar el viaje con otro..?'))
                                                    return false;"
                                        actionListener="#{sesion.goInterceptarViaje(actionEvent)}"
                                        title="Click aquí para interceptar el viaje..." >                                                                                                        
                                        <f:param name="idViaje" value="#{sesion.viajeD.id}"/>
                                        <f:param name="idInter" value="#{sesion.viajeD.idIntercambio}"/>                                    
                                    </p:commandLink>  
                                    <ui:fragment rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and sesion.viajeD.idOpercion gt 0 and sesion.viajeD.idOpercionRetomarViaje gt 0 and sesion.viajeB.idOpercion gt 0 and sesion.viajeB.idOpercionRetomarViaje gt 0}"><div class="visible-lg col-lg-1"></div></ui:fragment>
                                    <p:commandLink 
                                        rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and ((sesion.viajeD.idOpercion gt 0 and sesion.viajeD.idOpercionRetomarViaje gt 0) or sesion.viajeD.idOpercion eq 0)}"
                                        value="Finalizar Viaje"
                                        styleClass="col-lg-2 col-xs-12 btn btn-info btn-sm"                                                                                                         
                                        onclick="if (!confirm('¿Está seguro de finalizar el viaje..?'))
                                                    return false;"
                                        actionListener="#{sesion.finalizarViaje(actionEvent)}"
                                        title="Click aquí para editar mapa..." >                                                                                        
                                        <f:param name="idViaje" value="#{sesion.viajeD.id}"/>  
                                        <f:param name="idInter" value="#{sesion.viajeD.idIntercambio}"/>                                    
                                        <f:ajax event="click" render="viajesProID"/>
                                    </p:commandLink>        
                                    <ui:fragment rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and ((sesion.viajeD.idOpercion gt 0 and sesion.viajeD.idOpercionRetomarViaje gt 0) or sesion.viajeD.idOpercion eq 0)}"><div class="visible-lg col-lg-1"></div></ui:fragment>
                                    <p:commandLink 
                                        style="margin-bottom: 15px;"
                                        value="Retomar viaje"
                                        styleClass="col-lg-2 col-xs-12 btn btn-info btn-sm"                                                                     
                                        rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and sesion.viajeD.idOpercion gt 0 and sesion.viajeD.idOpercionRetomarViaje eq 0 }"
                                        actionListener="#{sesion.retomarViaje(actionEvent)}"                                    
                                        onclick="if (!confirm('¿Desea retomar el viaje..?'))
                                                    return false;"
                                        title="Click aquí para notificar que se retomara el viaje..." >
                                        <f:param name="idViaje" value="#{sesion.viajeD.id}"/>
                                        <f:param name="idInter" value="#{sesion.viajeD.idIntercambio}"/>                                    
                                    </p:commandLink>
                                    <ui:fragment rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and sesion.viajeD.idOpercion gt 0 and sesion.viajeD.idOpercionRetomarViaje eq 0 }"><div class="visible-lg col-lg-1"></div></ui:fragment>
                                    <p:commandLink 
                                        style="margin-bottom: 15px;"
                                        value="Intercambio"
                                        rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idOpercion gt 0 and sesion.viajeB.idOpercion gt 0 and sesion.viajeB.idOpercionIntercambio eq 0 and sesion.viajeD.idOpercionIntercambio eq 0}"
                                        styleClass="col-lg-2 col-xs-12 btn btn-info btn-sm"                                                                                                         
                                        actionListener="#{sesion.abrirInterceptarViaje(actionEvent)}"
                                        title="Click aquí para realizar el intercambio de los viajes..." >                                                                                                        
                                        <f:param name="idViaje" value="#{sesion.viajeD.id}"/>
                                        <f:param name="idInter" value="#{sesion.viajeD.idIntercambio}"/>
                                    </p:commandLink>
                                    <ui:fragment rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idOpercion gt 0 and sesion.viajeB.idOpercion gt 0 and sesion.viajeB.idOpercionIntercambio eq 0 and sesion.viajeD.idOpercionIntercambio eq 0}"><div class="visible-lg col-lg-1"></div></ui:fragment>
                                    <p:commandLink 
                                        style="margin-bottom: 15px;"
                                        value="Llego a P.Seguridad"
                                        styleClass="col-lg-2 col-xs-12 btn btn-info btn-sm"                                                                     
                                        rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and sesion.viajeD.idOpercion eq 0}"
                                        actionListener="#{sesion.llegoPSeguridad(actionEvent)}"
                                        title="Click aquí para notificar que el viaje llegó al punto de seguridad para intercepción..." >                                                                                                        
                                        <f:param name="idViaje" value="#{sesion.viajeD.id}"/>
                                        <f:param name="idInter" value="#{sesion.viajeD.idIntercambio}"/>                                    
                                    </p:commandLink>

                                </ui:fragment>
                            </div>

                        </div>




                    </div>
                    <div class="modal-footer" style="border-top: white;">                        
                        <p:commandButton
                            value="Cerrar"
                            styleClass="btn btn-cancelar"
                            onclick="$(dialogoPopUpViajeDet).modal('hide');"
                            title="Cerrar ventana..." 
                            />
                    </div>    
                </h:form>
            </div>
        </div>
    </div>

</ui:composition>