<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                >

    <div class="modal fade" id="dialogoPopUpAddComentario" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">Agregar Comentario</h4>
                </div>
                <h:form id="frmPnlAddCom" styleClass="textoIzquierda">
                    <div class="modal-body">                                                                                                        
                        <div class="container-fluid">
                            <div class="form-group card">                                                            
                                <div class="col-lg-12" style="margin-bottom: 5px;">
                                    <h:inputTextarea styleClass="form-control" value="#{sesion.txtComentario}" 
                                                     required="true" requiredMessage="Agregue el comentario"/>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-9"></div>  
                    </div>
                    <div class="modal-footer" style="border-top: white;">
                        <p:commandButton id="saveComentario"
                                         value="Guardar"
                                         styleClass="btn btn-info" 
                                         action="#{sesion.agregarComentario()}"
                                         process="@form" update="frmPnlViajeDet"/>
                        <p:commandButton
                            value="Cerrar"
                            style="margin-left: 5px;"
                            styleClass="btn btn-default"
                            onclick="$(dialogoPopUpAddComentario).modal('hide');"
                            title="Cerrar ventana..." 
                            immediate="true"/>
                    </div>    
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoPopUpInterseccion" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog" style="width: 70%;">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">Interceptar Viajes</h4>
                </div>
                <h:form id="frmPnlIntViaje" styleClass="textoIzquierda">
                    <div class="modal-body">                                                                                                        
                        <div class="container-fluid">
                            <div class="form-group card">                                                                                            
                                <div class="form-group col-lg-12" >
                                    <div class="visible-lg col-lg-1" ></div>
                                    <strong><h:outputText class="col-lg-2 control-label" value="Viaje:"/></strong>
                                    <div class="col-lg-7">                                            
                                        <h:selectOneMenu id="idPuntoS" styleClass="form-control"
                                                         value="#{sesion.idViajeIntB}"                                                           
                                                         >
                                            <f:selectItem itemValue="0" itemLabel="Seleccione . . . "/>
                                            <c:forEach items="#{sesion.lstViajesInt}" var="vint">
                                                <f:selectItem itemValue="#{vint.id}" itemLabel="#{vint.codigo} Responsable: #{vint.responsable}"/>
                                            </c:forEach>
                                        </h:selectOneMenu>
                                    </div>
                                    <div class="visible-lg col-lg-2" ></div>
                                </div>                               
                            </div>
                        </div>
                        <div class="col-lg-9"></div>  
                    </div>
                    <div class="modal-footer" style="border-top: white;">
                        <p:commandButton id="saveInterseccion"
                                         value="Guardar"
                                         styleClass="btn btn-info" 
                                         action="#{sesion.interceptarViaje()}"
                                         process="@form" update="@form"/>
                        <p:commandLink
                            value="Cerrar"
                            styleClass="btn btn-default"
                            onclick="$(dialogoPopUpInterseccion).modal('hide');"
                            immediate="true"
                            title="Cerrar ventana..." 
                            />
                    </div>    
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoPopUpLlegadaPS" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog" style="width: 70%;">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">Punto de seguridad de la intercepción de los viajes</h4>                                                                
                </div>
                <h:form id="frmPnlLlegadaPS" styleClass="textoIzquierda">
                    <div class="modal-body">                                                                                                        
                        <div class="container-fluid">
                            <div class="form-group card">                                          
                                <div style="margin-top: 0px;" class="col-lg-12">                        
                                    <h:message  for="" style="display: block;" infoClass="alert alert-success" warnClass="alert alert-warning"
                                                errorClass="alert alert-danger" fatalClass="alert alert-danger"  />
                                </div>
                                <div class="form-group col-lg-12" >
                                    <div class="visible-lg col-lg-3" ></div>
                                    <strong><h:outputText class="col-lg-2 control-label" value="P. Seguridad:"/></strong>
                                    <div class="col-lg-7">                                            
                                        <h:selectOneMenu id="idPuntoS" styleClass="form-control"
                                                         value="#{sesion.idPSLlegada}"                                                               
                                                         >
                                            <f:selectItem itemValue="0" itemLabel="Seleccione . . . "/>
                                            <f:selectItems value="#{sesion.puntosItems}"/>
                                        </h:selectOneMenu>
                                    </div>
                                    <div class="visible-lg col-lg-3" ></div>
                                </div>            


                            </div>
                        </div>
                        <div class="col-lg-9"></div>  
                    </div>
                    <div class="modal-footer" style="border-top: white;">
                        <p:commandButton id="saveLlegada"
                                         value="Guardar"
                                         styleClass="btn btn-info" 
                                         action="#{sesion.guardarLlegadaPS()}"
                                         process="@form" update="@form"/>
                        <p:commandButton
                            value="Cerrar"
                            styleClass="btn btn-default"
                            onclick="$(dialogoPopUpLlegadaPS).modal('hide');"
                            title="Cerrar ventana..." 
                            immediate="true"/>
                    </div>    
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoPopUpDetalleInt" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog" style="max-width: 80%;">
            <div class="modal-content" style="max-width: 100%;">
                <div class="modal-header">                    
                    <h4 class="modal-title">Intercepción de viajes</h4>
                </div>
                <h:form id="frmPnlDetalleInt" styleClass="textoIzquierda">
                    <div class="modal-body">                                                                                                        
                        <div class="container-fluid">
                            <div class="form-group card">                                                                                                                            
                                <strong><h:outputText class="col-lg-12 control-label" value="Intercambio entre los viajes #{sesion.intercepcion.viajeA.codigo} y el viaje #{sesion.intercepcion.viajeB.codigo}"/></strong>
                                <div class="form-group col-lg-12" >                                                                        
                                    <div class="col-lg-12" style="margin-top: 5px;">                                            
                                        <h:outputText class="col-lg-1 col-xs-8 control-label" value="Vehículos:"/>
                                        <h:selectBooleanCheckbox styleClass="col-lg-1 col-xs-4" value="#{sesion.intercepcion.intercambiarVehiculo}"/>
                                    </div>                                    

                                    <div class="col-lg-12" style="margin-top: 20px;">                                            
                                        <strong><h:outputText class="col-lg-12 control-label" value="Viajeros del viaje #{sesion.intercepcion.viajeA.codigo} (#{sesion.intercepcion.viajeA.ruta})"/></strong>
                                        <c:forEach items="#{sesion.intercepcion.viajeA.listaViajeros}" var="viajeroA">
                                            <div class="col-lg-12 input-group card card-default" style="border: white; border-style: none; border-width: 1px; margin-bottom: 0px;">
                                                <div class="form-group col-lg-12" style="border: white; border-bottom: #eee; border-top: white;  border-style: solid; border-width: 2px;">
                                                    <h:outputText styleClass="col-lg-5 control-label" value="#{viajeroA.idInvitado eq 0 ? viajeroA.usuario : viajeroA.invitado}" /> 
                                                    <div class="col-lg-2">
                                                        <h:outputText styleClass="control-label" value="#{viajeroA.idInvitado eq 0 ? 'Empleado' : 'Invitado'}"/>
                                                    </div>
                                                    <div class="col-lg-5">
                                                        <h:outputText styleClass="control-label" value=" se intercabiara al viaje #{sesion.intercepcion.viajeB.codigo}  "/>
                                                        <h:selectBooleanCheckbox style="margin-left: 5px;" value="#{viajeroA.intercambiarEnViaje}"/>
                                                    </div>                                                    
                                                </div>    
                                            </div>                                            
                                        </c:forEach>     
                                    </div>
                                    <div class="col-lg-12" style="margin-top: 20px;">                                            
                                        <strong><h:outputText class="col-lg-12 control-label" value="Viajeros del viaje #{sesion.intercepcion.viajeB.codigo} (#{sesion.intercepcion.viajeB.ruta})"/></strong>
                                        <c:forEach items="#{sesion.intercepcion.viajeB.listaViajeros}" var="viajeroB">
                                            <div class="col-lg-12 input-group card card-default" style="border: white; border-style: none; border-width: 1px; margin-bottom: 0px;">
                                                <div class="form-group col-lg-12" style="border: white; border-bottom: #eee; border-top: white;  border-style: solid; border-width: 2px;">
                                                    <h:outputText styleClass="col-lg-5 control-label" value="#{viajeroB.idInvitado eq 0 ? viajeroB.usuario : viajeroB.invitado}" /> 
                                                    <div class="col-lg-2">
                                                        <h:outputText styleClass="control-label" value="#{viajeroB.idInvitado eq 0 ? 'Empleado' : 'Invitado'}"/>
                                                    </div>
                                                    <div class="col-lg-5">
                                                        <h:outputText styleClass="control-label" value=" se intercabiara al viaje #{sesion.intercepcion.viajeA.codigo}  "/>
                                                        <h:selectBooleanCheckbox style="margin-left: 5px;" value="#{viajeroB.intercambiarEnViaje}"/>
                                                    </div>                                                    
                                                </div>    
                                            </div>                                            
                                        </c:forEach>     
                                    </div>
                                </div>            
                            </div>
                        </div>
                        <div class="col-lg-9"></div>  
                    </div>
                    <div class="modal-footer" style="border-top: white;">
                        <p:commandButton id="saveDetalleInt"
                                         value="Guardar"
                                         styleClass="btn btn-info" 
                                         action="#{sesion.guardarDetalleInt}"
                                         process="@form" update="@form"/>
                        <p:commandLink
                            value="Cerrar"
                            styleClass="btn btn-default"
                            onclick="$(dialogoPopUpDetalleInt).modal('hide');"
                            title="Cerrar ventana..."  immediate="true"/>
                    </div>    
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoPopUpSS" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">Gestion de Riesgos Autoriza</h4>
                </div>
                <h:form id="frmPnlGRAUT" styleClass="textoIzquierda">
                    <div class="modal-body">                                                                                                        
                        <div class="container-fluid">
                            <div class="form-group card">                                                            
                                <div class="col-lg-12" style="margin-bottom: 5px;">
                                    <h:inputTextarea styleClass="form-control" value="#{sesion.grAutTxtMotivo}">
                                        <f:validateLength maximum="1028"/>
                                    </h:inputTextarea>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-9"></div>  
                    </div>
                    <div class="modal-footer" style="border-top: white;">
                        <p:commandButton id="saveGRAUT"
                                         value="Guardar"
                                         styleClass="btn btn-info" 
                                         action="#{sesion.guardarGRAutoriza()}"
                                         process="@form" update="@form"/>
                        <p:commandButton
                            value="Cerrar" 
                            styleClass="btn btn-default"
                            style="margin-left: 5px;"
                            onclick="$(dialogoPopUpSS).modal('hide');"
                            title="Cerrar ventana..."  immediate="true"
                            />
                    </div>    
                </h:form>
            </div>
        </div>
    </div>


    <div class="modal fade" id="dialogoPopUpViajeDet" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-lg" style="max-width: 70%;">
            <div class="modal-content" >
                <div class="modal-header">                    
                    <h4 class="modal-title">Detalle del viaje</h4>
                </div>
                <h:form id="frmPnlViajeDet">
                    <div class="modal-body">                                                                                                        
                        <div class="row" style="margin-top: 5px;">

                            <div class="input-group card">
                                <div class="card-header" id="tituloViajeDet">
                                    <h3 class="card-title">                                                                                                                                                                        
                                        <strong>#{sesion.viajeD.codigo} (#{sesion.viajeD.responsable} / #{sesion.viajeD.responsableTel}) (#{sesion.viajeD.vehiculoVO.modelo}/#{sesion.viajeD.vehiculoVO.numeroPlaca}) (Viajeros:#{sesion.viajeD.listaViajeros.size()})(F.Prog: #{sesion.viajeD.fechaProgramadaTxt} #{sesion.viajeD.horaProgramadaTxt})</strong>
                                    </h3>                                                                
                                </div>
                                <div class="card-body" id="pbvprRV#{sesion.viajeD.id}">                                         
                                    <div class="card mt-1">
                                        <c:forEach items="#{sesion.viajeD.listaViajeros}" var="viajero">
                                            <div class="row" style="border: white; border-bottom: #eee; border-top: white;  border-style: solid; border-width: 2px; margin-top: 5px;">
                                                <div class="col-3">
                                                    <div class="col-12">
                                                        <h:outputText styleClass="control-label" value="Viajero"/>                                                              
                                                    </div>
                                                    <div class="col-12">
                                                        <strong><h:outputText styleClass="control-label" value="#{viajero.idInvitado eq 0 ? viajero.usuario : viajero.invitado}" /></strong> 
                                                    </div>
                                                </div>
                                                <ui:fragment  rendered="#{sesion.viajeD.idEstatus ne 515}">
                                                    <div class="col-3">
                                                        <div class="col-12">
                                                            <h:outputText styleClass="control-label" value="Tipo"/>  
                                                        </div>
                                                        <div class="col-12">
                                                            <strong><h:outputText styleClass="control-label" value="#{viajero.idInvitado eq 0 ? 'Empleado' : 'Invitado'}"/></strong>
                                                        </div>
                                                    </div>
                                                </ui:fragment>
                                                <ui:fragment  rendered="#{sesion.viajeD.idEstatus eq 515}">
                                                    <div class="col-3">
                                                        <div class="col-12">
                                                            <h:outputText styleClass="control-label" value="Gerente"/>  
                                                        </div>
                                                        <div class="col-12">
                                                            <strong><h:outputText styleClass="control-label" value="#{viajero.responsableDeGerencia}"/></strong>
                                                        </div>
                                                    </div>
                                                </ui:fragment>
                                                <ui:fragment rendered="#{viajero.idSolicitudViaje eq 0 and !viajero.grAutorizo}">                                                                
                                                    <div class="col-3">
                                                        <p:commandLink 
                                                            styleClass="btn btn-default" 
                                                            value="Sin Solicitud" 
                                                            title="#{viajero.generoSolicitudViaje ne null ? viajero.generoSolicitudViaje : ''}"
                                                            action="#{sesion.goGRAutoriza(viajero.id)}"
                                                            process="@this" update="frmPnlGRAUT">                                                                
                                                        </p:commandLink>
                                                    </div>
                                                </ui:fragment>
                                                <ui:fragment rendered="#{viajero.idSolicitudViaje eq 0 and viajero.grAutorizo}">                                                                
                                                    <div class="col-3">
                                                        <p:commandLink 
                                                            styleClass="btn btn-default" 
                                                            value="GR Autorizo" 
                                                            title="#{viajero.generoSolicitudViaje ne null ? viajero.generoSolicitudViaje : ''}"
                                                            action="#{sesion.goGRAutoriza(viajero.id)}"
                                                            process="@this" update="frmPnlGRAUT">
                                                        </p:commandLink>
                                                    </div>
                                                </ui:fragment>                                                            
                                                <ui:fragment rendered="#{viajero.idSolicitudViaje gt 0}">
                                                    <div class="col-2">
                                                        <div class="col-12">
                                                            <h:outputText styleClass="control-label" value="Código"/>  
                                                        </div>
                                                        <div class="col-12">
                                                            <strong><h:outputText styleClass="control-label" value="#{viajero.codigoSolicitudViaje}" title="#{viajero.generoSolicitudViaje ne null ? viajero.generoSolicitudViaje : ''}"/></strong>
                                                        </div>
                                                    </div>
                                                </ui:fragment>
                                                <div class="col-3">
                                                    <div class="col-12">
                                                        <h:outputText styleClass="control-label" value="Telefono"/>  
                                                    </div>
                                                    <div class="col-12">
                                                        <strong><h:outputText styleClass="control-label" value="#{viajero.telefono}"/></strong>
                                                    </div>
                                                </div>
                                                <ui:fragment rendered="#{sesion.viajeD.idEstatus eq 515}">
                                                    <div class="col-1">
                                                        <p:commandLink styleClass="btn btn-default btn-sm"                                                                                                                                                                                      
                                                                       action="#{sesion.bajarViajero(viajero.id)}" 
                                                                       title="Bajar viajero"
                                                                       process="@this" update="@form">
                                                            <span class="fa fa-trash text-danger"></span> 
                                                        </p:commandLink>
                                                    </div>
                                                </ui:fragment>
                                            </div>    
                                        </c:forEach>                                                                                
                                    </div>

                                    <ui:fragment rendered="#{sesion.viajeD.idNoticia gt 0}">
                                        <div class="card card-info">
                                            <div class="card-header">
                                                <h3 class="visible-lg card-title">                                                                                                                                                                        
                                                    <strong>Comentarios</strong>
                                                </h3>
                                            </div>
                                            <div class="card-body" id="pbvprRVC#{sesion.viajeD.id}"> 
                                                <ui:fragment rendered="#{grBean.admin}">
                                                    <div class="col-12" style="margin-bottom: 15px;">                                                                                                            
                                                        <div class="visible-lg col-9"></div>                                                                                    
                                                        <p:commandLink 
                                                            value="Agregar Comentario"
                                                            styleClass="btn btn-default"
                                                            action="#{sesion.goAddComentario(0)}"
                                                            title="Click aquí para agregar un comentario..." 
                                                            process="@this" update="frmPnlAddCom">                                                        
                                                        </p:commandLink>
                                                    </div>
                                                </ui:fragment>
                                                <div class="card">    
                                                    <p:scrollPanel mode="native" style="width:100%; max-height: 250px;">
                                                        <c:forEach items="#{sesion.viajeD.noticia.listaComentario}" var="comentario" id="lstComentariosViaje">
                                                            <div class="col-12 input-group card card-default" style="border: white; border-style: none; border-width: 1px; margin-bottom: 0px;">
                                                                <div class="form-group col-12" style="border: white; border-bottom: #eee; border-top: white;  border-style: solid; border-width: 2px;">                                                            
                                                                    <div class="row" style="margin-top: 5px;">
                                                                        <h:outputLabel styleClass="control-label" value="#{comentario.usuarioNombre}"/>
                                                                        <h:outputText styleClass="control-label" value=" - "/>  
                                                                        <h:outputText styleClass="control-label" value="#{comentario.fechaGenero}">
                                                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                                        </h:outputText>
                                                                        <h:outputText styleClass="control-label" value=" - "/>  
                                                                        <h:outputText styleClass="control-label" value="#{comentario.horaGenero}">
                                                                            <f:convertDateTime pattern="h:mm a" timeStyle="default" type="time"/>
                                                                        </h:outputText>
                                                                    </div>
                                                                    <div class="row" style="margin-top: 5px;">
                                                                        <strong><h:outputText styleClass="control-label" value="Comentario: "/></strong>
                                                                        <h:outputText styleClass="control-label" value="#{comentario.mensaje}"/>
                                                                    </div>                                                                                                                                                                        
                                                                </div>    
                                                            </div>                                            
                                                        </c:forEach>    
                                                    </p:scrollPanel>
                                                </div>
                                            </div>                                       
                                        </div>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{grBean.admin}">                                    
                                        <div class="row">
                                            <p:commandLink 
                                                rendered="#{sesion.viajeD.idEstatus eq 501}"                                        
                                                value="Iniciar viaje"
                                                styleClass="btn btn-default"   
                                                action="#{sesion.iniciarViaje(sesion.viajeD.id,sesion.viajeD.idIntercambio)}"
                                                title="Click aquí para iniciar el viaje..." 
                                                process="@this" update="frmViajesPen">
                                            </p:commandLink>
                                            <ui:fragment rendered="#{sesion.viajeD.idEstatus eq 501}"><div class="visible-lg col-1"></div></ui:fragment>
                                            <p:commandLink 
                                                rendered="#{sesion.viajeD.idEstatus eq 501}"
                                                value="Cancelar Viaje"
                                                styleClass="btn btn-default"                                                     
                                                action="#{sesion.cancelarViajePendiente(sesion.viajeD.id)}"
                                                title="Click aquí para cancelar el viaje..." 
                                                process="@this" update="frmViajesPen">                                                                                        
                                            </p:commandLink>
                                            <ui:fragment rendered="#{sesion.viajeD.idEstatus eq 501}"><div class="visible-lg col-1"></div></ui:fragment>
                                            <p:commandLink 
                                                rendered="#{sesion.viajeD.idIntercambio eq 0 and sesion.viajeD.idEstatus eq 510}"
                                                value="Finalizar Viaje"
                                                styleClass="btn btn-default"
                                                action="#{sesion.finalizarViaje(sesion.viajeD.id, 0)}"
                                                title="Click aquí para finalizar el viaje..." 
                                                process="@this" update="frmViajesPen:tbViajes:pnlViaProc">                                                                                        
                                            </p:commandLink>        
                                            <ui:fragment rendered="#{sesion.viajeD.idIntercambio eq 0 and sesion.viajeD.idEstatus eq 510}"><div class="visible-lg col-1"></div></ui:fragment>
                                            <p:commandLink 
                                                rendered="#{sesion.viajeD.idEstatus eq 515}"
                                                value="Cancelar Viaje"
                                                styleClass="btn btn-default"
                                                action="#{sesion.cancelarViaje(sesion.viajeD.id)}"
                                                title="Click aquí para cancelar el viaje..." 
                                                process="@this" update="@form">
                                            </p:commandLink>
                                            <ui:fragment rendered="#{sesion.viajeD.idEstatus eq 515}"><div class="visible-lg col-1"></div></ui:fragment>
                                            <p:commandLink 
                                                rendered="#{sesion.viajeD.idIntercambio eq 0 and sesion.viajeD.idEstatus eq 515}"
                                                value="Autorizar Viaje"
                                                styleClass="btn btn-default"
                                                action="#{sesion.autorizarViaje(sesion.viajeD.id)}"
                                                title="Click aquí para autorizar el viaje..." 
                                                process="@this" update="@form">
                                            </p:commandLink>
                                            <ui:fragment rendered="#{sesion.viajeD.idIntercambio eq 0 and sesion.viajeD.idEstatus eq 515}"><div class="visible-lg col-1"></div></ui:fragment>
                                            <p:commandLink 
                                                rendered="#{sesion.viajeD.idIntercambio eq 0 and (sesion.viajeD.idEstatus eq 501 or sesion.viajeD.idEstatus eq 510)}"
                                                style="margin-bottom: 15px;"
                                                value="Interceptar Viaje"
                                                styleClass="btn btn-default"
                                                action="#{sesion.goInterceptarViaje(sesion.viajeD.id, 0)}"
                                                title="Click aquí para interceptar el viaje..." 
                                                process="@this" update="frmPnlIntViaje">
                                            </p:commandLink>  
                                            <ui:fragment rendered="#{sesion.viajeD.idIntercambio eq 0 and (sesion.viajeD.idEstatus eq 501 or sesion.viajeD.idEstatus eq 510)}"><div class="visible-lg col-1"></div></ui:fragment>
                                            <p:commandLink 
                                                rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and sesion.viajeD.idOpercion gt 0 and sesion.viajeD.idOpercionRetomarViaje gt 0 and sesion.viajeB.idOpercion gt 0 and sesion.viajeB.idOpercionRetomarViaje gt 0}"
                                                style="margin-bottom: 15px;"
                                                value="Interceptar Viaje"
                                                styleClass="btn btn-default"
                                                action="#{sesion.goInterceptarViaje(sesion.viajeD.id,sesion.viajeD.idIntercambio)}"
                                                title="Click aquí para interceptar el viaje..." 
                                                process="@this" update="frmPnlIntViaje">
                                            </p:commandLink>  
                                            <ui:fragment rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and sesion.viajeD.idOpercion gt 0 and sesion.viajeD.idOpercionRetomarViaje gt 0 and sesion.viajeB.idOpercion gt 0 and sesion.viajeB.idOpercionRetomarViaje gt 0}"><div class="visible-lg col-1"></div></ui:fragment>
                                            <p:commandLink 
                                                rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and ((sesion.viajeD.idOpercion gt 0 and sesion.viajeD.idOpercionRetomarViaje gt 0) or sesion.viajeD.idOpercion eq 0)}"
                                                value="Finalizar Viaje"
                                                styleClass="btn btn-default"
                                                action="#{sesion.finalizarViaje(sesion.viajeD.id, sesion.viajeD.idIntercambio)}"
                                                title="Click aquí para editar mapa..." 
                                                process="@this" update="frmViajesPen:tbViajes:pnlViaProc">
                                            </p:commandLink>        
                                            <ui:fragment rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and ((sesion.viajeD.idOpercion gt 0 and sesion.viajeD.idOpercionRetomarViaje gt 0) or sesion.viajeD.idOpercion eq 0)}"><div class="visible-lg col-1"></div></ui:fragment>
                                            <p:commandLink 
                                                style="margin-bottom: 15px;"
                                                value="Retomar viaje"
                                                styleClass="btn btn-default"
                                                rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and sesion.viajeD.idOpercion gt 0 and sesion.viajeD.idOpercionRetomarViaje eq 0 }"
                                                action="#{sesion.retomarViaje(sesion.viajeD.id, sesion.viajeD.idIntercambio)}"
                                                title="Click aquí para notificar que se retomara el viaje..." 
                                                process="@this"  update="frmPnlViajeDet">
                                            </p:commandLink>
                                            <ui:fragment rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and sesion.viajeD.idOpercion gt 0 and sesion.viajeD.idOpercionRetomarViaje eq 0 }"><div class="visible-lg col-1"></div></ui:fragment>
                                            <p:commandLink 
                                                style="margin-bottom: 15px;"
                                                value="Intercambio"
                                                rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idOpercion gt 0 and sesion.viajeB.idOpercion gt 0 and sesion.viajeB.idOpercionIntercambio eq 0 and sesion.viajeD.idOpercionIntercambio eq 0}"
                                                styleClass="btn btn-default"
                                                action="#{sesion.abrirInterceptarViaje(sesion.viajeD.id,sesion.viajeD.idIntercambio)}"
                                                title="Click aquí para realizar el intercambio de los viajes..." 
                                                process="@this" update="frmPnlDetalleInt">
                                            </p:commandLink>
                                            <ui:fragment rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idOpercion gt 0 and sesion.viajeB.idOpercion gt 0 and sesion.viajeB.idOpercionIntercambio eq 0 and sesion.viajeD.idOpercionIntercambio eq 0}"><div class="visible-lg col-1"></div></ui:fragment>
                                            <p:commandLink 
                                                style="margin-bottom: 15px;"
                                                value="Llego a P.Seguridad"
                                                styleClass="btn btn-default"
                                                rendered="#{sesion.viajeD.idIntercambio gt 0 and sesion.viajeD.idEstatus eq 510 and sesion.viajeD.idOpercion eq 0}"
                                                action="#{sesion.llegoPSeguridad(sesion.viajeD.id,sesion.viajeD.idIntercambio)}"
                                                title="Click aquí para notificar que el viaje llegó al punto de seguridad para intercepción..." 
                                                process="@this" update="frmPnlLlegadaPS">
                                            </p:commandLink>
                                        </div>
                                    </ui:fragment>
                                </div>

                            </div>


                        </div>

                    </div>
                    <div class="modal-footer" style="border-top: white;">                        
                        <p:commandLink
                            value="Cerrar"
                            styleClass="btn btn-default"
                            onclick="$(dialogoPopUpViajeDet).modal('hide');"
                            title="Cerrar ventana..." immediate="true"
                            />
                    </div>    
                </h:form>
            </div>
        </div>
    </div>

</ui:composition>