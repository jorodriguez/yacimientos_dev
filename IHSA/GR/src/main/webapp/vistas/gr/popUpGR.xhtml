<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui">  

    <style >
        .iceSelInpTxtList{
            background-color: whitesmoke;                        
            z-index: 99999;
        }                   
    </style>

    <div class="modal fade" id="dialogoPopUpFE" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">#{popupGrBean.tituloPopUp}</h4>
                </div>
                <div style="margin-top: 10px;" class="col-lg-12 col-xs-12">
                    <h:message  for="" style="display: block;" infoClass="alert alert-success" warnClass="alert alert-warning"
                                errorClass="alert alert-danger" fatalClass="alert alert-danger"  />
                </div>   

                <h:form id="frmPopUpFE">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-12 col-xs-12">
                                <div class="col-lg-12 col-xs-12 panel panel-default" >                                    
                                    <ui:fragment rendered="#{popupGrBean.archivo.grTipoArchivo ne 1}">
                                        <div class="form-group col-lg-12 col-xs-12" style="margin-top: 15px;">
                                            <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Titulo:"/></strong>
                                            <div class="col-lg-10 col-xs-12">                                            
                                                <h:inputText 
                                                    id="tituloRecomendacionID"
                                                    styleClass="form-control"                                                    
                                                    value="#{popupGrBean.archivo.titulo}"
                                                    />  
                                            </div>
                                        </div>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{popupGrBean.archivo.grTipoArchivo eq 1}">
                                        <div class="form-group col-lg-12 col-xs-12" style="margin-top: 15px;" >
                                            <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Mapa:"/></strong>
                                            <div class="col-lg-10 col-xs-12">                                            
                                                <h:selectOneMenu id="idMapa" styleClass="form-control"
                                                                   value="#{popupGrBean.archivo.grMapa}"
                                                                   valueChangeListener="#{popupGrBean.cambiarMapa}"
                                                                   >
                                                    <f:selectItem itemValue="0" itemLabel="Seleccione . . . "/>
                                                    <f:selectItems value="#{popupGrBean.lstMapas}"/>
                                                </h:selectOneMenu>
                                            </div>
                                        </div>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{popupGrBean.archivo.grTipoArchivo eq 1}">
                                        <div class="form-group col-lg-12 col-xs-12" >
                                            <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="SemÃ¡foro:"/></strong>
                                            <div class="col-lg-10 col-xs-12">                                            
                                                <h:outputText class="col-lg-2 col-xs-12 control-label" value="#{popupGrBean.archivo.sgSemaforoVO.color}"/>                                                
                                            </div>
                                        </div> 
                                    </ui:fragment>                            

                                    <div class="form-group col-lg-12 col-xs-12" >
                                        <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Archivo:"/></strong>
                                        <div class="col-lg-10 col-xs-12"> 
                                            <div class="table table-responsive">
                                                <p:fileUpload id="fileEntryComp" 
                                                               styleClass="form-control"
                                                               label="Archivo "
                                                               listener="#{popupGrBean.uploadFile}"                                                                                                              
                                                               required="true"
                                                               />                                              
                                            </div>
                                        </div>
                                    </div>   

                                </div>
                            </div>
                        </div>                        
                    </div>
                    <div class="modal-footer">
                        <ui:fragment rendered="#{popupGrBean.archivo.grTipoArchivo ne 1}">
                            <h:commandButton id="uploadFileTitulo"
                                             value="Aceptar"
                                             styleClass="btn btn-info"   
                                             onclick="return validaValorTitulo('frmPopUpFE', 'tituloRecomendacionID');"
                                             />
                        </ui:fragment>
                        <ui:fragment rendered="#{popupGrBean.archivo.grTipoArchivo eq 1}">
                            <h:commandButton id="uploadFileMapa"
                                             value="Aceptar"
                                             styleClass="btn btn-info"                                             
                                             onclick="return validaValorMapa();"
                                             />
                        </ui:fragment>
                        <p:commandButton 
                            value="Cancelar"
                            styleClass="btn btn-cancelar"
                            onclick="$(dialogoPopUpFE).modal('hide');"
                            title="Cerrar ventana..." 
                            />
                    </div>
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoPopUpFEedit" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">#{popupGrBean.tituloPopUp}</h4>
                </div>
                <div style="margin-top: 10px;" class="col-lg-12 col-xs-12">
                    <h:message  for="" style="display: block;" infoClass="alert alert-success" warnClass="alert alert-warning"
                                errorClass="alert alert-danger" fatalClass="alert alert-danger"  />
                </div>   
                <h:form id="frmPopUpFEedit">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-12 col-xs-12">
                                <div class="col-lg-12 col-xs-12 panel panel-default" >                                    
                                    <ui:fragment rendered="#{popupGrBean.archivo.grTipoArchivo ne 1}">
                                        <div class="form-group col-lg-12 col-xs-12" style="margin-top: 15px;">
                                            <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Titulo:"/></strong>
                                            <div class="col-lg-10 col-xs-12">                                            
                                                <h:inputText 
                                                    id="tituloRecomendacionIDedit"
                                                    styleClass="form-control"                                                    
                                                    value="#{popupGrBean.archivo.titulo}"
                                                    />  
                                            </div>
                                        </div>                                        
                                        <div class="form-group col-lg-12 col-xs-12" >
                                            <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Activa:"/></strong>
                                            <div class="col-lg-10 col-xs-12">                                            
                                                <h:selectBooleanCheckbox                                             
                                                    styleClass="form-control"                                                                                                            
                                                    value="#{popupGrBean.archivo.activo}"
                                                    />                                           
                                            </div>
                                        </div>                               
                                    </ui:fragment>                                     
                                    <ui:fragment rendered="#{popupGrBean.archivo.grTipoArchivo eq 1}">
                                        <div class="form-group col-lg-12 col-xs-12" style="margin-top: 15px;" >
                                            <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Mapa:"/></strong>
                                            <div class="col-lg-10 col-xs-12">                                            
                                                <h:selectOneMenu id="idMapaEdit" styleClass="form-control"
                                                                   value="#{popupGrBean.archivo.grMapa}"                                                               
                                                                   >
                                                    <f:selectItem itemValue="0" itemLabel="Seleccione . . . "/>
                                                    <f:selectItems value="#{popupGrBean.lstMapas}"/>
                                                </h:selectOneMenu>
                                            </div>
                                        </div>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{popupGrBean.archivo.grTipoArchivo eq 1}">
                                        <div class="form-group col-lg-12 col-xs-12" >
                                            <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="SemÃ¡foro:"/></strong>
                                            <div class="col-lg-10 col-xs-12">                                            
                                                <h:outputText class="col-lg-2 col-xs-12 control-label" value="#{popupGrBean.archivo.sgSemaforoVO.color}"/>
                                            </div>
                                        </div> 
                                    </ui:fragment>                            
                                </div>
                            </div>
                        </div>                        
                    </div>
                    <div class="modal-footer">                        
                        <h:commandButton 
                            value="Aceptar"
                            styleClass="btn btn-info"   
                            onclick="return validaValorTitulo('frmPopUpFEedit', 'tituloRecomendacionIDedit');"
                            action="#{popupGrBean.editFile(event)}"
                            />                        
                        <p:commandButton 
                            value="Cancelar"
                            styleClass="btn btn-cancelar"
                            onclick="$(dialogoPopUpFEedit).modal('hide');"
                            title="Cerrar ventana..." 
                            />
                    </div>
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoSitiosRecomendados" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">#{popupGrBean.tituloPopUp}</h4>
                </div>
                <div style="margin-top: 10px;" class="col-lg-12 col-xs-12">
                    <h:message  for="" style="display: block;" infoClass="alert alert-success" warnClass="alert alert-warning"
                                errorClass="alert alert-danger" fatalClass="alert alert-danger"  />
                </div>   

                <h:form id="frmSitiosReco">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-12 col-xs-12">

                                <div class="form-group col-lg-12 col-xs-12" >
                                    <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Nombre:"/></strong>
                                    <div class="col-lg-10 col-xs-12">                                            
                                        <h:inputText 
                                            id="nombreSitioID"
                                            styleClass="form-control"                                            
                                            value="#{popupGrBean.sitio.nombre}"
                                            />  
                                    </div>
                                </div>
                                <div class="form-group col-lg-12 col-xs-12" >
                                    <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="DescripciÃ³n:"/></strong>
                                    <div class="col-lg-10 col-xs-12">                                            
                                        <h:inputText 
                                            id="descSitioID"
                                            styleClass="form-control"                                                                                                            
                                            value="#{popupGrBean.sitio.descripcion}"
                                            />  
                                    </div>
                                </div>                               
                                <div class="form-group col-lg-12 col-xs-12" >
                                    <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Liga:"/></strong>
                                    <div class="col-lg-10 col-xs-12">                                            
                                        <h:inputText 
                                            id="ligaID"
                                            styleClass="form-control"                                                                                                            
                                            value="#{popupGrBean.sitio.liga}"
                                            />                                           
                                    </div>
                                </div>   
                                <div class="form-group col-lg-12 col-xs-12" >
                                    <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Activo:"/></strong>
                                    <div class="col-lg-10 col-xs-12">                                            
                                        <h:selectBooleanCheckbox                                             
                                            styleClass="form-control"                                                                                                            
                                            value="#{popupGrBean.sitio.activo}"
                                            />                                           
                                    </div>
                                </div>                               
                            </div>
                        </div>                        
                    </div>
                    <div class="modal-footer">
                        <h:commandButton id="saveSitio"
                                         value="Aceptar"
                                         styleClass="btn btn-info" 
                                         action="#{popupGrBean.guardarSitio(event)}"
                                         onclick="return validaValorSitio();"
                                         />
                        <p:commandButton
                            value="Cancelar"
                            styleClass="btn btn-cancelar"
                            onclick="$(dialogoSitiosRecomendados).modal('hide');"
                            title="Cerrar ventana..." 
                            />
                    </div>
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoZonas" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">#{popupGrBean.tituloPopUp}</h4>
                </div>
                <div style="margin-top: 10px;" class="col-lg-12 col-xs-12">
                    <h:message  for="" style="display: block;" infoClass="alert alert-success" warnClass="alert alert-warning"
                                errorClass="alert alert-danger" fatalClass="alert alert-danger"  />
                </div>   

                <h:form id="frmZonas">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-12 col-xs-12">
                                <div class="form-group col-lg-12 col-xs-12" >
                                    <strong><h:outputText class="col-lg-3 col-xs-12 control-label" value="CÃ³digo:"/></strong>
                                    <div class="col-lg-9 col-xs-12">                                            
                                        <h:inputText 
                                            id="codigoZonaID"
                                            styleClass="form-control"                                            
                                            value="#{popupGrBean.zona.codigo}"
                                            maxlength="5"
                                            />  
                                    </div>
                                </div>
                                <div class="form-group col-lg-12 col-xs-12" >
                                    <strong><h:outputText class="col-lg-3 col-xs-12 control-label" value="Nombre:"/></strong>
                                    <div class="col-lg-9 col-xs-12">                                            
                                        <h:inputText 
                                            id="nombreZonaID"
                                            maxlength="40"
                                            styleClass="form-control"                                            
                                            value="#{popupGrBean.zona.nombre}"
                                            />  
                                    </div>
                                </div>
                                <div class="form-group col-lg-12 col-xs-12" >
                                    <strong><h:outputText class="col-lg-3 col-xs-12 control-label" value="DescripciÃ³n:"/></strong>
                                    <div class="col-lg-9 col-xs-12">                                            
                                        <h:inputText 
                                            id="descZonaID"
                                            maxlength="1024"
                                            styleClass="form-control"                                                                                                            
                                            value="#{popupGrBean.zona.descripcion}"
                                            />  
                                    </div>
                                </div>        
                                <ui:fragment rendered="#{popupGrBean.zona.id gt 0}">
                                    <div class="form-group col-lg-12 col-xs-12" >
                                        <strong><h:outputText class="col-lg-3 col-xs-12 control-label" value="Activa:"/></strong>
                                        <div class="col-lg-9 col-xs-12">                                            
                                            <h:selectBooleanCheckbox                                             
                                                styleClass="form-control"                                                                                                            
                                                value="#{popupGrBean.zona.activa}"
                                                />                                           
                                        </div>
                                    </div>                               
                                </ui:fragment>                               
                                <ui:fragment rendered="#{popupGrBean.zona.id gt 0}">
                                    <div class="form-group col-lg-12 col-xs-12" >
                                        <strong><h:outputText class="col-lg-3 col-xs-12 control-label" value="Visible:"/></strong>
                                        <div class="col-lg-9 col-xs-12">                                            
                                            <h:selectBooleanCheckbox                                             
                                                styleClass="form-control"                                                                                                            
                                                value="#{popupGrBean.zona.visible}"
                                                />                                           
                                        </div>
                                    </div>                               
                                </ui:fragment>                               
                            </div>
                        </div>                        
                    </div>
                    <div class="modal-footer">
                        <h:commandButton id="saveSitio"
                                         value="Aceptar"
                                         styleClass="btn btn-info" 
                                         action="#{popupGrBean.guardarZona(event)}"
                                         onclick="return validaValorZona();"
                                         />
                        <p:commandButton
                            value="Cancelar"
                            styleClass="btn btn-cancelar"
                            onclick="$(dialogoZonas).modal('hide');"
                            title="Cerrar ventana..." 
                            />
                    </div>
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoVerImagen" data-backdrop="static" data-keyboard="false">    
        <div class="modal-dialog" style="width: 90%;">
            <div class="modal-content">
                <div class="modal-header">
                    <a class="close" href="#" onclick="$(dialogoVerImagen).modal('hide');">x</a>
                    <h4 class="modal-title" style="text-align: left;">#{popupGrBean.imagen.titulo}</h4>
                </div>
                <h:form id="frmViewImg">
                    <div class="modal-body">
                        <div class="row">
                            <center>
                                <div class="table table-responsive">
                                    <img 
                                        src="#{popupGrBean.urlImagen}"
                                        alt=""/>
                                </div>
                            </center>
                        </div>                        
                    </div>
                    <div class="modal-footer">                        
                        <p:commandButton id="buttonCancelarV"
                                           value="Cerrar"
                                           styleClass="btn btn-info"
                                           onclick="$(dialogoVerImagen).modal('hide');"
                                           title="Cerrar ventana..." 
                                           immediate="true"/>
                    </div>
                </h:form>
            </div>
        </div>        
    </div>

    <div class="modal fade" id="dialogoRutas" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog" style="width: 80%;">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">#{popupGrBean.tituloPopUp}</h4>
                </div>
                <div style="margin-top: 10px;" class="col-lg-12 col-xs-12">
                    <h:message  for="" style="display: block;" infoClass="alert alert-success" warnClass="alert alert-warning"
                                errorClass="alert alert-danger" fatalClass="alert alert-danger"  />
                </div>   

                <h:form id="frmRutas">
                    <div class="modal-body">
                        <div class="row">
                            <div id="listRutaZonas" class="col-lg-12 col-xs-12">
                                <div class="form-group col-lg-12 col-xs-12" >

                                    <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Zona/Sector: "/></strong>
                                    <div class="col-lg-4 col-xs-12">                                            
                                        <h:selectOneMenu id="idMapaRuta" styleClass="form-control"
                                                           value="#{popupGrBean.rutaZonaID}"                                                               
                                                           >
                                            <f:selectItem itemValue="0" itemLabel="Seleccione . . . "/>
                                            <f:selectItems value="#{popupGrBean.lstZonas}"/>
                                        </h:selectOneMenu>
                                    </div>                                
                                    <h:commandLink id="addRuta"                                         
                                                   styleClass="btn btn-info btn-lg col-lg-1 col-xs-12" 
                                                   action="#{popupGrBean.guardarZonaRuta(event)}"
                                                   onclick="return validaValorZonaRuta();"
                                                   >                                        
                                        <span class="glyphicon glyphicon-plus"></span>                                         
                                    </h:commandLink>
                                </div>
                                <div class="form-group col-lg-12 col-xs-12" >                                    
                                    <div class="table table-responsive">
                                        <p:dataTable id="zonaROP" rows="10" 
                                                       value="#{popupGrBean.rutaZonas}" var="currentRow" styleClass="table table-striped"
                                                       style="font-size:12px; color: black;">                                                                                           
                                            <p:column>
                                                <h:outputText value="#{currentRow.secuencia}"/>
                                                <f:facet name="header">
                                                    <h:outputText value="Sec."/>
                                                </f:facet>
                                            </p:column>
                                            <p:column>
                                                <h:outputText value="#{currentRow.codigo}" title="#{currentRow.zona.descripcion}"/>
                                                <f:facet name="header">
                                                    <h:outputText value="CÃ³digo"/>
                                                </f:facet>
                                            </p:column>
                                            <p:column>
                                                <h:outputText value="#{currentRow.zona.nombre}" title="#{currentRow.zona.descripcion}"/>
                                                <f:facet name="header">
                                                    <h:outputText value="Nombre"/>
                                                </f:facet>
                                            </p:column>
                                            <p:column>
                                                <h:outputText value="#{currentRow.fechaGenero}">
                                                    <f:convertDateTime dateStyle="default" type="date"/>
                                                </h:outputText>
                                                <f:facet name="header">
                                                    <h:outputText value="Fecha"/>
                                                </f:facet>
                                            </p:column>                                                    
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Aprobar"/>
                                                </f:facet>                                                
                                                <b>Rojo</b>
                                                <h:selectBooleanCheckbox id="cancelarR"   immediate="true"                                                                                                                                                
                                                                         value="#{currentRow.cancelasr}" disabled="true"/>                                                
                                            </p:column>                                            
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Cancelar"/>
                                                </f:facet>                                                                                                
                                                <b>Negro</b>
                                                <h:selectBooleanCheckbox id="cancelarN"   immediate="true"                                                                                                                                                
                                                                         value="#{currentRow.cancelasn}" disabled="true"/>                                                
                                            </p:column>                                            
                                            <!-- p:column>                                                        
                                                <f:facet name="header">
                                                    <h:outputText value="Activa"/>
                                                </f:facet>
                                                <h:selectBooleanCheckbox id="activar" value="#{currentRow.activa}" disabled="true"/>
                                            </p:column -->    
                                            <p:column>
                                                <h:outputText value="#{currentRow.punto.nombre}" title="#{currentRow.punto.descripcion}"/>
                                                <f:facet name="header">
                                                    <h:outputText value="P. Seguridad"/>
                                                </f:facet>
                                            </p:column>
                                            <p:column>                                                   
                                                <p:commandLink styleClass="btn btn-info btn-sm"                                                                                                                                                                                      
                                                                 action="#{popupGrBean.goEditZonaRuta(event)}"
                                                                 onclick="$(dialogoRutas).modal('hide');"
                                                                 >                                        
                                                    <span class="glyphicon glyphicon-pencil"></span> 
                                                    <f:param name="idArchivo" value="#{currentRow.id}"/>
                                                </p:commandLink>
                                            </p:column>
                                        </p:dataTable>
                                        <!-- aqui va el paginador -->
                                    </div>                                    
                                </div>        
                            </div>
                            <ui:fragment rendered="#{popupGrBean.rutaZonaVO != null}">
                                <div id="editRutaZonaID" style="display: none;" class="col-lg-12 col-xs-12">
                                    <div class="form-group col-lg-12 col-xs-12" >
                                        <div class="visible-lg col-lg-3" ></div>
                                        <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Nombre:"/></strong>
                                        <div class="col-lg-7 col-xs-12">                                            
                                            <h:outputText                                             
                                                styleClass="col-lg-12 col-xs-12 control-label"                                            
                                                value="#{popupGrBean.rutaZonaVO.zona.nombre}"
                                                />  
                                        </div>                                              
                                    </div>
                                    <div class="form-group col-lg-12 col-xs-12" >
                                        <div class="visible-lg col-lg-3" ></div>
                                        <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="P. Seguridad:"/></strong>
                                        <div class="col-lg-4 col-xs-12">                                            
                                            <h:selectOneMenu id="idPuntoS" styleClass="form-control"
                                                               value="#{popupGrBean.rutaZonaVO.idPunto}"                                                               
                                                               >
                                                <f:selectItem itemValue="0" itemLabel="Seleccione . . . "/>
                                                <f:selectItems value="#{popupGrBean.lstPuntos}"/>
                                            </h:selectOneMenu>
                                        </div>
                                        <div class="visible-lg col-lg-3" ></div>
                                    </div>                               
                                    <div class="form-group col-lg-12 col-xs-12" >
                                        <div class="visible-lg col-lg-3" ></div>
                                        <div class="col-lg-4 col-xs-12 ">
                                            <strong><h:outputText class="control-label" value="Aprobar viajes en semaforo rojo:"/></strong>
                                        </div>
                                        <div class="col-lg-1 col-xs-12">                                            
                                            <h:selectBooleanCheckbox                                             
                                                styleClass="form-control"                                                                                                            
                                                value="#{popupGrBean.rutaZonaVO.cancelasr}"
                                                />                                           
                                        </div>
                                        <div class="visible-lg col-lg-4" ></div>
                                    </div>     
                                    <div class="form-group col-lg-12 col-xs-12" >
                                        <div class="visible-lg col-lg-3" ></div>
                                        <div class="col-lg-4 col-xs-12 ">
                                            <strong><h:outputText class="control-label" value="Cancela viajes en semaforo negro:"/></strong>
                                        </div>
                                        <div class="col-lg-1 col-xs-12" style="text-align: left;">                                            
                                            <h:selectBooleanCheckbox                                             
                                                styleClass="form-control"                                                                                                            
                                                value="#{popupGrBean.rutaZonaVO.cancelasn}"
                                                />                                           
                                        </div>
                                        <div class="visible-lg col-lg-4" ></div>
                                    </div>     
                                    <div class="form-group col-lg-12 col-xs-12" >
                                        <div class="visible-lg col-lg-3" ></div>
                                        <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Secuencia:"/></strong>
                                        <div class="col-lg-4 col-xs-12">                                            
                                            <h:inputText    
                                                id="valSecID"
                                                styleClass="form-control" maxlength="3"
                                                value="#{popupGrBean.rutaZonaVO.secuencia}"
                                                >                                                
                                            </h:inputText>  
                                        </div>      
                                        <div class="visible-lg col-lg-3" ></div>
                                    </div>
                                    <div class="form-group col-lg-12 col-xs-12" >
                                        <div class="visible-lg col-lg-3" ></div>
                                        <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Activa:"/></strong>
                                        <div class="col-lg-4 col-xs-12">                                            
                                            <h:selectBooleanCheckbox                                             
                                                styleClass="form-control"                                                                                                            
                                                value="#{popupGrBean.rutaZonaVO.activa}"
                                                />                                           
                                        </div>
                                        <div class="visible-lg col-lg-3" ></div>
                                    </div>                                                               
                                </div>
                            </ui:fragment>
                        </div>                        
                    </div>
                    <div class="modal-footer"> 
                        <ui:fragment rendered="#{popupGrBean.rutaZonaVO != null}">
                            <p:commandButton id="btnGuardarRutaZona"                                           
                                               value="Guardar"
                                               styleClass="btn btn-info"
                                               onclick="return validarSecuencia();"
                                               actionListener="#{popupGrBean.guardarZonaRutaDet(event)}"                            
                                               title="Click aquÃ­ para guardar la zona..." 
                                               />
                            <p:commandButton
                            onclick="$(dialogoRutas).modal('hide');"
                            value="Cerrar"
                            styleClass="btn btn-cancelar"
                            actionListener="#{popupGrBean.backEditZonaRuta(event)}"                            
                            title="Cerrar ventana..." 
                            />
                        </ui:fragment>
                        <ui:fragment rendered="#{popupGrBean.rutaZonaVO == null}">
                        <p:commandButton
                            onclick="$(dialogoRutas).modal('hide');"
                            value="Cerrar"
                            styleClass="btn btn-cancelar"                            
                            title="Cerrar ventana..." 
                            />
                        </ui:fragment>
                    </div>
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoPuntos" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">#{popupGrBean.tituloPopUp}</h4>
                </div>
                <div style="margin-top: 10px;" class="col-lg-12 col-xs-12">
                    <h:message  for="" style="display: block;" infoClass="alert alert-success" warnClass="alert alert-warning"
                                errorClass="alert alert-danger" fatalClass="alert alert-danger"  />
                </div>   

                <h:form id="frmPuntos">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-12 col-xs-12">

                                <div class="form-group col-lg-12 col-xs-12" >
                                    <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Nombre:"/></strong>
                                    <div class="col-lg-10 col-xs-12">                                            
                                        <h:inputText 
                                            id="nombrePuntoID"
                                            styleClass="form-control"    
                                            maxlength="40"
                                            value="#{popupGrBean.punto.nombre}"
                                            />  
                                    </div>
                                </div>
                                <div class="form-group col-lg-12 col-xs-12" >
                                    <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="DescripciÃ³n:"/></strong>
                                    <div class="col-lg-10 col-xs-12">                                            
                                        <h:inputText 
                                            id="descPuntoID"
                                            styleClass="form-control"
                                            maxlength="124"
                                            value="#{popupGrBean.punto.descripcion}"
                                            />  
                                    </div>
                                </div>        
                                <ui:fragment rendered="#{popupGrBean.punto.id gt 0}">
                                    <div class="form-group col-lg-12 col-xs-12" >
                                        <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="Activo:"/></strong>
                                        <div class="col-lg-10 col-xs-12">                                            
                                            <h:selectBooleanCheckbox                                             
                                                styleClass="form-control"                                                                                                            
                                                value="#{popupGrBean.punto.activa}"
                                                />                                           
                                        </div>
                                    </div>                               
                                </ui:fragment>
                            </div>
                        </div>                        
                    </div>
                    <div class="modal-footer">
                        <h:commandButton id="savePunto"
                                         value="Aceptar"
                                         styleClass="btn btn-info" 
                                         action="#{popupGrBean.guardarPunto(event)}"
                                         onclick="return validaValorPunto();"
                                         />
                        <p:commandButton
                            value="Cancelar"
                            styleClass="btn btn-cancelar"
                            onclick="$(dialogoPuntos).modal('hide');"
                            title="Cerrar ventana..." 
                            />
                    </div>
                </h:form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dialogoSemaforos" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog" style="width: 60%;">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">#{popupGrBean.tituloPopUp}</h4>
                </div>
                <div style="margin-top: 10px;" class="col-lg-12 col-xs-12">
                    <h:message  for="" style="display: block;" infoClass="alert alert-success" warnClass="alert alert-warning"
                                errorClass="alert alert-danger" fatalClass="alert alert-danger"  />
                </div>   

                <h:form id="frmSemaforos">
                    <div class="modal-body">                        
                        <div id="editRutaHorasLstID" class="col-lg-12 col-xs-12">
                            <div class="form-group col-lg-12 col-xs-12" >
                                <strong><h:outputText class="col-lg-3 col-xs-12 control-label" value="SemÃ¡foro:"/></strong>
                                <div class="col-lg-9 col-xs-12">                                            
                                    <h:selectOneMenu id="idSemaforo" styleClass="form-control"
                                                       value="#{popupGrBean.estadoSemaforoVO.semaforoID}"                                                       
                                                       valueChangeListener="#{popupGrBean.cambiarSemaforo}"
                                                       >
                                        <f:selectItem itemValue="0" itemLabel="Seleccione . . . "/>
                                        <f:selectItems value="#{popupGrBean.lstSemaforo}"/>
                                    </h:selectOneMenu>
                                </div>
                            </div>      
                            <div class="form-group col-lg-12 col-xs-12" >
                                <strong><h:outputText class="col-lg-3 col-xs-12 control-label" value="JustificaciÃ³n:"/></strong>
                                <div class="col-lg-9 col-xs-12">   
                                    <h:inputTextarea styleClass="form-control" rows="3" id="semJustID"  value="#{popupGrBean.estadoSemaforoVO.justificacion}" />                                                                    
                                </div>
                            </div>                               
                            <div class="form-group col-lg-12 col-xs-12" style="margin-top: 15px;" >
                                <strong><h:outputText class="col-lg-3 col-xs-12 control-label" value="Zona/Sector:"/></strong>
                                <div class="col-lg-9 col-xs-12">                                                                                
                                    <!-- ice:selectInputText id="idBusquedaZonas"
                                                         value="#{popupGrBean.estadoSemaforoVO.grMapaIDtxt}"
                                                         textChangeListener="#{popupGrBean.zonasRutaListener}"                                                                                                                   
                                                         actionListener="#{popupGrBean.cambiarZonaRuta(actionEvent)}"
                                                         disabled="#{popupGrBean.disableText}"
                                                         rows="10" width="350">
                                        <f:selectItems value="#{popupGrBean.listaZonasRuta}" />
                                    </ice:selectInputText -->
                                    
                                    <p:autoComplete id="idBusquedaZonas"                                                                 
                                                    value="#{popupGrBean.estadoSemaforoVO.grMapaIDtxt}"                                                                                              
                                                    styleClass="campoFiltro"                                                                                         
                                                    style="margin: 0px 0 0 0px; width: 100%; height: 25px; background-color: #d9edf7; border: 1px solid #ccc; border-radius: 4px; box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset;">                                                                                                                                                                        
                                    </p:autoComplete>
                                </div>
                            </div>                            
                            <div class="form-group col-lg-12 col-xs-12" style="margin-top: 15px;" >
                                <strong><h:outputText class="col-lg-12 col-xs-12 control-label" value="Rutas relacionadas a esta zona:"/></strong>
                                  <div class="table table-responsive">
                                    <p:dataTable id="zonaROP" rows="10" 
                                                   value="#{popupGrBean.lstRutasPorZonas}"  var="currentRow" styleClass="table table-striped"
                                                   style="font-size:12px; color: black;">                                                                                           
                                        <p:column>
                                            <h:outputText value="#{currentRow.nombre}"/>
                                            <f:facet name="header">
                                                <h:outputText value="Nombre"/>
                                            </f:facet>
                                        </p:column>
                                        <!-- p:column>
                                            <h:outputText value="#{currentRow.horaMinimaRuta}">
                                                <f:convertDateTime pattern="hh:mm a" timeStyle="default" type="time"/>
                                            </h:outputText>
                                            <f:facet name="header">
                                                <h:outputText value="Hora Min"/>
                                            </f:facet>
                                        </p:column -->                                                    
                                        <!-- p:column>
                                            <h:outputText value="#{currentRow.horaMaximaRuta}">
                                                <f:convertDateTime pattern="hh:mm a" timeStyle="default" type="time"/>
                                            </h:outputText>
                                            <f:facet name="header">
                                                <h:outputText value="Hora Max"/>
                                            </f:facet>
                                        </p:column -->                                                    
                                        <!-- p:column>                                                   
                                            <p:commandLink styleClass="btn btn-info btn-sm"                                                                                                                                                                                      
                                                             action="#{popupGrBean.goEditHorasRuta(event)}"
                                                             onclick="$(dialogoSemaforos).modal('hide');"
                                                             >                                        
                                                <span class="glyphicon glyphicon-pencil"></span> 
                                                <f:param name="idIndex" value="#{popupGrBean.lstRutasPorZonas.indexOf(currentRow)}"/>
                                            </p:commandLink>
                                        </p:column -->
                                    </p:dataTable>
                                    <!-- aqui va el paginador -->
                                </div>
                                  
                            </div>  
                        </div>      
                        
                    </div>
                    <div class="modal-footer" style="border-top: 0px solid #e5e5e5;">                        
                        <h:commandButton id="saveSemaforo"
                                         value="Aceptar"
                                         styleClass="btn btn-info" 
                                         action="#{popupGrBean.guardarSemaforo(event)}"
                                         onclick="return validaValorSemaforo();"
                                         />
                        <p:commandButton
                            value="Cancelar"
                            styleClass="btn btn-cancelar"
                            onclick="$(dialogoSemaforos).modal('hide');"
                            title="Cerrar ventana..." 
                            />                        
                    </div>
                </h:form>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="dialogoEditRutaCodigosHorarios" data-backdrop="static" data-keyboard="false" style="color: black;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">                    
                    <h4 class="modal-title">#{popupGrBean.tituloPopUp}</h4>
                </div>
                <div style="margin-top: 10px;" class="col-lg-12 col-xs-12">
                    <h:message  for="" style="display: block;" infoClass="alert alert-success" warnClass="alert alert-warning"
                                errorClass="alert alert-danger" fatalClass="alert alert-danger"  />
                </div>   

                <h:form id="frmEditCodigoHorarios">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-12 col-xs-12">
                                <!-- div class="form-group col-lg-12 col-xs-12" >
                                        <div class="visible-lg col-lg-3" ></div>
                                        <strong><h:outputText class="col-lg-2 col-xs-12 control-label" value="CÃ³digo:"/></strong>
                                        <div class="col-lg-4 col-xs-12"> 
                                             <h:inputText 
                                            id="codigoRutaID"
                                            styleClass="form-control"                                                                                                            
                                            value="#{popupGrBean.editHorario.codigo}"
                                            />                                              
                                        </div>      
                                        <div class="visible-lg col-lg-3" ></div>
                                    </div -->
                                <div class="form-group col-lg-12 col-xs-12" >                                    
                                    <strong><h:outputText class="col-lg-4 col-xs-12 control-label" value="Hora Min:"/></strong>
                                    <div class="col-lg-3">                                            
                                        <h:selectOneMenu id="horaSalidaMin" 
                                                           value="#{popupGrBean.horaMin}"
                                                           styleClass="form-control"                                                                               
                                                           >
                                            <f:selectItems value="#{popupGrBean.listaHorasMin}" />
                                        </h:selectOneMenu>
                                    </div>
                                    <div class="col-lg-3">                                            
                                        <h:selectOneMenu id="minutoSalidaMin" 
                                                           styleClass="form-control"
                                                           value="#{popupGrBean.minutoMin}"
                                                           >
                                            <f:selectItems value="#{popupGrBean.listaMinutosMin}" />
                                        </h:selectOneMenu>                                    
                                    </div>
                                    <h:outputText class="col-lg-2 control-label" value="mins."/>                                    
                                </div>
                                <div class="form-group col-lg-12 col-xs-12" >                                    
                                    <strong><h:outputText class="col-lg-4 col-xs-12 control-label" value="Hora Max:"/></strong>
                                    <div class="col-lg-3">                                            
                                        <h:selectOneMenu id="horaSalidaMax" 
                                                           value="#{popupGrBean.horaMax}"
                                                           styleClass="form-control"
                                                           >
                                            <f:selectItems value="#{popupGrBean.listaHorasMax}" />
                                        </h:selectOneMenu>
                                    </div>
                                    <div class="col-lg-3">                                            
                                        <h:selectOneMenu id="minutoSalidaMax" 
                                                           styleClass="form-control"
                                                           value="#{popupGrBean.minutoMax}"
                                                           >
                                            <f:selectItems value="#{popupGrBean.listaMinutosMax}" />
                                        </h:selectOneMenu>                                    
                                    </div>
                                    <h:outputText class="col-lg-2 control-label" value="mins."/>                                    
                                </div>                               


                            </div>
                        </div>                        
                    </div>
                    <div class="modal-footer">                        
                            <p:commandButton id="btnGuardarRutaZona"                                           
                                               value="Guardar"
                                               styleClass="btn btn-info"
                                               onclick="$(dialogoEditRutaCodigosHorarios).modal('hide');"
                                               actionListener="#{popupGrBean.guardarZonaHorarioDet(event)}"                            
                                               title="Click aquÃ­ para guardar horarios de la ruta..." 
                                               />
                            <p:commandButton
                            onclick="$(dialogoEditRutaCodigosHorarios).modal('hide');"
                            value="Cerrar"
                            styleClass="btn btn-cancelar"
                            actionListener="#{popupGrBean.backEditRutaHorarios(event)}"                            
                            title="Cerrar ventana..." 
                            />                        
                    </div>
                </h:form>
            </div>
        </div>
    </div>
</ui:composition>