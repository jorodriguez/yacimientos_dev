
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"    
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"  
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:my="http://www.mytags.com/schema/mytags"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" >                           

    <div class="container-fluid ">        
        <h:form>
            <div class="row mt-1">  
                <ui:repeat value="#{principalViewBean.listaRequisiciones}" var="item" varStatus="varStatus" >
                    <div class="col-12 col-md-3 col-xl-3">
                            <ui:include src="fragmentos/infoRequisicion.xhtml" />                              
                        <!-- modal historial -->
                        <div class="modal fade" id="modal_histo_#{item.id}" tabindex="-1" role="dialog" aria-labelledby="modal-default" aria-hidden="true">
                            <div class="modal-dialog modal- modal-dialog-centered modal-" role="document">
                                <div class="modal-content">                                               
                                    <div class="modal-body p-4">
                                        
                                            <ui:include src="fragmentos/historialRequisicion.xhtml" />
                                        
                                    </div>
                                    <div class="modal-footer p-1 m-1 mx-auto">                                                    
                                        <button type="button" class="btn btn-link  ml-auto" data-bs-dismiss="modal">Cerrar</button>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
                </ui:repeat>

                <div class="col-12 col-md-3 col-xl-3 " >
                    <h:outputLink value="#{sesion.sustituirArrancarModuloPorCampo(principalViewBean.rutaModuloComprasDeRequ,sesion.usuarioVo.idCampo,principalViewBean.urlSolicitarRequisicion)}"
                                  title="Crear una requisición para #{sesion.usuarioVo.campo}"  
                                  onmouseover="window.status = ' ';return true"
                                  styleClass="text-dark">
                        <div class="card h-100  border border-3 border-primary p-2 mb-2 opacity-10" style="border-style: dotted  !important;">                                    
                            <div class="card-body d-flex justify-content-center flex-fill align-self-center align-content-center align-items-center">                                                                                
                                <div class="row justify-content-md-center text-center  ">
                                    <div class="col-12">
                                        <i class="fa fa-plus fa-2x"/>                                                                                                                               
                                    </div>
                                    <div class="col-12">
                                        Crear una requisición para <span class="text-bold">#{sesion.usuarioVo.campo}</span>
                                    </div>
                                </div>                                           
                            </div>                                    
                        </div>
                    </h:outputLink>   
                </div>
            </div>
        </h:form>
    </div>

</ui:composition>
